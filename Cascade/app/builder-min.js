/*! Storymaps-Cascade - v1.0.0 - 2016-05-30, 07:01:08 PM - This application is released under the Apache License V2.0 by Esri http://www.esri.com/ - https://github.com/Esri/map-series-storytelling-template-js */function resample_hermite(e,t,n,r,o){var i=Date.now();r=Math.round(r),o=Math.round(o);for(var a=e.getContext("2d").getImageData(0,0,t,n),s=e.getContext("2d").getImageData(0,0,r,o),l=a.data,u=s.data,c=t/r,d=n/o,p=Math.ceil(c/2),f=Math.ceil(d/2),h=0;o>h;h++)for(var m=0;r>m;m++){for(var v=4*(m+h*r),g=0,y=0,b=0,w=gx_g=gx_b=gx_a=0,C=(h+.5)*d,_=Math.floor(h*d);(h+1)*d>_;_++)for(var x=Math.abs(C-(_+.5))/f,E=(m+.5)*c,T=x*x,k=Math.floor(m*c);(m+1)*c>k;k++){var P=Math.abs(E-(k+.5))/p,S=Math.sqrt(T+P*P);S>=-1&&1>=S&&(g=2*S*S*S-3*S*S+1,g>0&&(P=4*(k+_*t),gx_a+=g*l[P+3],b+=g,l[P+3]<255&&(g=g*l[P+3]/250),w+=g*l[P],gx_g+=g*l[P+1],gx_b+=g*l[P+2],y+=g))}u[v]=w/y,u[v+1]=gx_g/y,u[v+2]=gx_b/y,u[v+3]=gx_a/b}console.log("hermite = "+Math.round(Date.now()-i)/1e3+" s"),e.getContext("2d").clearRect(0,0,Math.max(t,r),Math.max(n,o)),e.width=r,e.height=o,e.getContext("2d").putImageData(s,0,0)}define("lib-build/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?r=!1:t[4]&&(n=parseInt(t[4])<18);var o={};o.pluginBuilder="./css-builder";var i,a=function(){i=document.createElement("style"),e.appendChild(i)},s=function(e,t){a();var n=i.styleSheet||i.sheet;if(n&&n.addImport)n.addImport(e),i.onload=t;else{i.textContent='@import "'+e+'";';var r=setInterval(function(){try{i.sheet.cssRules,clearInterval(r),t()}catch(e){}},10)}},l=function(t,n){var o=document.createElement("link");if(o.type="text/css",o.rel="stylesheet",r)o.onload=function(){o.onload=function(){},setTimeout(n,7)};else var i=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==o.href)return clearInterval(i),n()}},10);o.href=t,e.appendChild(o)};return o.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},o.load=function(e,t,r,o){(n?s:l)(t.toUrl(e+".css"),r)},o}),define("lib-build/css!lib/calcite-bootstrap/css/calcite-bootstrap-open.min",[],function(){}),define("lib-build/css!storymaps/common/ui/bootstrap-override",[],function(){}),define("lib-build/css!lib/font-awesome/css/font-awesome",[],function(){}),define("lib-build/css!storymaps/common/Core",[],function(){}),define("storymaps/common/utils/SocialSharing",["dojo/Deferred"],function(e){return{shareFacebook:function(e,t,n,r){var o="u="+this.cleanURL(r||document.location.href);window.open("http://www.facebook.com/sharer/sharer.php?"+o,"","toolbar=0,status=0,width=626,height=436")},shareTwitter:function(e,t){var n="text="+encodeURIComponent(e||"")+"&url="+this.cleanURL(t||document.location.href)+"&related=EsriStoryMaps&hashtags=storymap";window.open("https://twitter.com/intent/tweet?"+n,"","toolbar=0,status=0,width=626,height=436")},requestBitly:function(t){var n=["http://api.bitly.com/v3/shorten?callback=?","https://api-ssl.bitly.com/v3/shorten?callback=?"],r="http:"==location.protocol?n[0]:n[1],o=this.cleanURL(t||document.location.href,!0),i=new e;return $.getJSON(r,{format:"json",apiKey:app.cfg.HEADER_SOCIAL.bitly.key,login:app.cfg.HEADER_SOCIAL.bitly.login,longUrl:o},function(e){e&&e&&e.data.url?i.resolve(e.data.url):i.reject()}),i},cleanURL:function(e,t){return e=e.replace(/\?edit(=.*)*&/,"?"),e=e.replace(/\&edit(=.*)*/,""),e=e.replace(/\?edit/,""),e=e.replace(/\?locale(=[a-zA-Z\-]+)+&/,"?"),e=e.replace(/\&locale(=[a-zA-Z\-]+)+/,""),t?e:encodeURIComponent(e)}}}),define("storymaps/common/utils/CommonHelper",["esri/urlUtils","dojo/cookie","./SocialSharing"],function(e,t,n){return{switchToBuilder:function(){document.location.search.match(/appid/)?document.location=n.cleanURL(document.location.protocol+"//"+document.location.host+document.location.pathname+document.location.search,!0)+"&edit"+document.location.hash:"?"==document.location.search.slice(-1)?document.location=n.cleanURL(document.location.protocol+"//"+document.location.host+document.location.pathname,!0)+"?edit"+document.location.hash:document.location=n.cleanURL(document.location.protocol+"//"+document.location.host+document.location.pathname,!0)+"?edit"+document.location.hash},getMyContentURL:function(){return this.getPortalURL()+"/home/content.html"},getMyStoriesURL:function(){return app.isPortal?this.getPortalURL()+"/apps/MyStories/":"//storymaps.arcgis.com/en/my-stories/"},getUrlParams:function(){var t=e.urlToObject(document.location.search).query;return t?t:this.browserSupportHistory()||t?{}:e.urlToObject(document.location.hash).query||{}},browserSupportHistory:function(){return!(!window.history||!history.pushState)},isArcGISHosted:function(){return/(\/)([a-zA-Z0-9]+(\/))*(apps\/|home\/)([a-zA-Z0-9\-\_]+\/)/.test(document.location.pathname)},getAppID:function(e){var t=this.getUrlParams();return app.indexCfg&&app.indexCfg.appid?app.indexCfg.appid:this.isArcGISHosted()||!e?t.appid:app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]?t.appid:void 0},getWebmapID:function(e){var t=this.getUrlParams();return app.indexCfg&&app.indexCfg.webmap?app.indexCfg.webmap:this.isArcGISHosted()||!e?t.webmap:app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]?t.webmap:void 0},getPortalUser:function(){var e=t("esri_auth");if(e&&(e=JSON.parse(e.replace('"ssl":undefined','"ssl":""')),!e.urlKey||!e.customBaseUrl||(e.urlKey+"."+e.customBaseUrl).toLowerCase()==document.location.hostname.toLowerCase()))return e?e.email:null},userIsAppOwner:function(){var e=app.portal?app.portal.getPortalUser():null,t=app.data.appItem?app.data.appItem.item:null;return e&&t&&e.username==t.owner||null!=this.getPortalUser()&&t&&this.getPortalUser()==t.owner||e&&e.privileges&&$.inArray("portal:admin:updateItems",e.privileges)>-1||t&&"update"==t.itemControl},checkUserItemPrivileges:function(){var e=app.portal?app.portal.getPortalUser():null;return e&&!e.orgId&&!e.privileges||e&&e.privileges&&$.inArray("portal:user:createItem",e.privileges)>-1}}}),function(){"use strict";function e(t,r){function o(e,t){return function(){return e.apply(t,arguments)}}var i;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,u=a.length;u>l;l++)s[a[l]]=o(s[a[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,r):o.call(t,e,n,r)},t.addEventListener=function(e,n,r){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):o.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(u=e.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(t=this.findControl(c)){if(this.focus(c),n)return!1;c=t}}else if(this.needsFocus(c))return e.timeStamp-a>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return r&&!o&&(l=c.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(c)||(e.preventDefault(),this.sendClick(c,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,o,i;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("lib/fastclick/lib/fastclick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),define("storymaps/common/Core",["lib-build/css!lib/calcite-bootstrap/css/calcite-bootstrap-open.min","lib-build/css!./ui/bootstrap-override","lib-build/css!../../lib/font-awesome/css/font-awesome","lib-build/css!./Core","esri/map","esri/arcgis/Portal","esri/arcgis/utils","./utils/CommonHelper","esri/urlUtils","dojo/has","esri/IdentityManager","esri/arcgis/OAuthInfo","esri/config","esri/tasks/GeometryService","esri/request","dojo/topic","dojo/on","dojo/_base/lang","dojo/_base/array","dojo/Deferred","dojo/DeferredList","dojo/query","lib/fastclick/lib/fastclick"],function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,w,C,_){function x(e,t){if(console.log("common.core.Core - init",t),Z=e,ee=t,app.userCanEdit=!1,q(),s.isArcGISHosted()?app.indexCfg={}:K()||(app.indexCfg={proxyurl:app.indexCfg.proxyurl,sharingurl:app.indexCfg.sharingurl,username:app.indexCfg.username,password:app.indexCfg.password,oAuthAppId:app.indexCfg.oAuthAppId,story:app.indexCfg.story}),document.title=app.cfg.TPL_NAME,u("touch")&&$("body").addClass("hasTouch"),_.prototype._needsClick=_.prototype.needsClick,_.prototype.needsClick=function(e){return $(e).parents(".esriPopup").length?!0:_.prototype._needsClick.call(this,e)},_.attach(document.body),window!=window.top&&$("body").addClass("isEmbed"),g.mixin(app,{data:{},appCfg:{supportWebmapPreviewAGOL:!1,useWebmapInApp:!1,useStandardHeader:!1,useAppTitleAsPageTitle:!1},portal:null,builder:t,isLoading:!0,loadingTimeout:null}),u("ie")<11)return $("#fatalError .error-title").html("Sorry!"),$("#fatalError .error-msg").html('This story is not supported in Internet Explorer before version 11. <a href="http://browsehappy.com/" target="_blank">Please update your browser</a>'),void $("#fatalError").show();if(Z.init(this)){if(!K()&&app.indexCfg.username&&app.indexCfg.password&&v(c,"dialog-create",function(){v(c.dialog,"show",function(){c.dialog.txtUser_.set("value",app.indexCfg.username),c.dialog.txtPwd_.set("value",app.indexCfg.password),c.dialog.btnSubmit_.onClick()})}),W(),!app.indexCfg.sharingurl){var n=document.location.pathname.indexOf("/apps/");if(-1==n&&(n=document.location.pathname.indexOf("/home/")),-1!=n){var r=location.pathname.substr(0,n);app.indexCfg.sharingurl="//"+location.host+r+"/sharing/content/items",app.indexCfg.proxyurl="//"+location.host+r+"/sharing/proxy"}else app.indexCfg.sharingurl=app.cfg.DEFAULT_SHARING_URL}app.indexCfg.sharingurl.match(/^http/)?a.arcgisUrl=app.indexCfg.sharingurl:a.arcgisUrl=location.protocol+app.indexCfg.sharingurl,app.indexCfg.proxyurl||(app.indexCfg.proxyurl=app.cfg.DEFAULT_PROXY_URL),p.defaults.io.proxyUrl=location.protocol+app.indexCfg.proxyurl,c&&c.setProtocolErrorHandler(function(){return!0}),app.isInBuilder&&app.cfg.CORS_SERVER&&$.each(app.cfg.CORS_SERVER,function(e,t){p.defaults.io.corsEnabledServers.push(t)}),app.cfg.PROXY_RULES&&app.cfg.PROXY_RULES.length&&$.each(app.cfg.PROXY_RULES,function(e,t){t&&t.urlPrefix&&t.proxyUrl&&l.addProxyRule(t)}),p.defaults.io.timeout=app.isInBuilder?app.cfg.TIMEOUT_BUILDER_REQUEST:app.cfg.TIMEOUT_VIEWER_REQUEST,$.fn.modal.Constructor.prototype.enforceFocus=function(){},$("form").bind("keydown",function(e){return 13==e.keyCode?!1:void 0}),v(c,"dialog-create",F),m.subscribe("CORE_UPDATE_EXTENT",j),app.portal=new i.Portal(app.indexCfg.sharingurl.split("/sharing/")[0]),app.portal.on("load",function(e){if(app.isPortal=!!e.isPortal,G(),app.indexCfg.oAuthAppId){var n=new d({appId:app.indexCfg.oAuthAppId,popup:!1,portalUrl:"https:"+app.indexCfg.sharingurl.split("/sharing/")[0]});c.registerOAuthInfos([n]),c.checkSignInStatus(n.portalUrl).then(function(){t?P().then(E):P().then(E)},function(){c.getCredential(n.portalUrl)})}else E()})}}function E(){console.log("common.core.Core - initStep2");var e=s.getAppID(K()),t=s.getWebmapID(K()),n=!!(app.appCfg?app.appCfg.supportWebmapPreviewAGOL:!0),r=app.indexCfg.story||s.getUrlParams().story;return r?K()?void Z.getConfig(r):void setTimeout(function(){Z.getConfig(r)},1e3):e?void T(e):t&&!n?void(s.isArcGISHosted()?I():S(t)):app.isInBuilder&&ee.isDirectCreation&&K()&&!s.getPortalUser()&&!app.portal.getPortalUser()?void H():app.isInBuilder&&ee.isDirectCreation?void P().then(function(){N(),A()}):void(s.isArcGISHosted()?I():M(!te.appid||app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners[0]?app.isProduction?"invalidConfigNoApp":"invalidConfigNoAppDev":"unspecifiedConfigOwner"))}function T(e){console.log("common.core.Core - loadWebMappingApp - appId:",e);var t=void 0!==te.forceLogin;t||app.isInBuilder?P().then(function(){k(e)},function(){M("notAuthorized")}):k(e)}function k(e){a.getItem(e).then(function(e){if(!e)return void M("appLoadingFail");var t=e.item,n=e.itemData;if(app.data.appItem={item:t,data:n},app.userCanEdit=s.userIsAppOwner(),app.isInBuilder||app.userCanEdit||(document.__defineGetter__?(document.__defineGetter__("cookie",function(){return""}),document.__defineSetter__("cookie",function(){})):Object.defineProperty(document,"cookie",{get:function(){return""},set:function(){return!0}})),app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]){var r=t.owner,o=!1;if(r&&(o=-1!=$.inArray(r,app.indexCfg.authorizedOwners)),o||"*"!=app.indexCfg.authorizedOwners[0]||(o=!0),o||$.each(app.indexCfg.authorizedOwners,function(e,n){var r=n.match(/^\[(.*)\]$/);r&&t.orgId==r[1]&&(o=!0)}),!o)return void M("invalidConfigOwner")}if(t&&t.appProxies){var i=y.map(t.appProxies,function(e){return{url:e.sourceUrl,mixin:{url:e.proxyUrl}}});app.data.setAppProxies(i)}if(app.isInBuilder&&K()&&!app.userCanEdit)return void M("notAuthorized");var a=Z.isStoryBlank();a?app.isInBuilder?A():s.getAppID(K())?app.userCanEdit?s.switchToBuilder():M("notConfiguredDesktop"):M("noLayer"):A()},function(e){M(e&&400==e.httpCode?"invalidApp":e&&403==e.httpCode?"notAuthorized":"appLoadingFail")})}function P(){var e=new b;return v(c,"dialog-create",B),app.portal.signIn().then(function(){return app.isInBuilder&&!s.checkUserItemPrivileges()?void M("notAuthorizedBuilder"):(app.userCanEdit=s.userIsAppOwner(),G(),void e.resolve())},function(){e.reject()}),e}function S(e){Z.loadFirstWebmap(e).then(g.hitch(this,function(e){O(e)}),g.hitch(this,function(){M("createMap")}))}function O(){console.log("common.core.Core - webMapInitCallback"),console.error("FATAL ERROR")}function I(){window.location=app.isPortal&&app.cfg.HELP_URL_PORTAL?app.cfg.HELP_URL_PORTAL:app.cfg.HELP_URL}function N(){var e=app.data.title;app.appCfg.useAppTitleAsPageTitle&&(document.title=e?$("<div>"+e+"</div>").text():app.cfg.TPL_NAME)}function A(){console.log("common.core.Core - initApp"),app.isInBuilder&&app.builder.appInitComplete(),Z.appInitComplete(),!app.isInBuilder&&!app.userCanEdit||9==u("ie")||te.preview||(u("ff")&&$(".builderShare #my-stories-frame").remove(),u("ff")||!app.isInBuilder),document.location.pathname.match(/\/apps\/[a-zA-Z]+\/$/)&&document.location.search.match(/^\?appid=/)&&(!u("ie")||u("ie")>=10)&&window.history.replaceState({},"","index.html"+document.location.search+document.location.hash)}function M(e,t,n){var r=i18n.viewer.errors[e];z(),$("#loadingIndicator").hide(),r=r.replace(/{TPL_NAME}/g,app.cfg.TPL_NAME),"notAuthorized"==e&&app.indexCfg.oAuthAppId&&(r+='<div><button class="btn btn-sm btn-default" onclick="esri.id.destroyCredentials(); window.location.reload();">'+i18n.viewer.errors.signOut+"</button></div>"),"appLoadingFail"==e?$("#loadingMessage").html('<div id="loadingRetry"> <button type="button" class="btn btn-naked btn-sm" onclick="document.location.reload()">'+i18n.viewer.loading.failButton+" </button></div>").hide().fadeIn(1200,function(){$("#loadingMessage").addClass("loaded")}):$("#loadingMessage").hide(),$("#fatalError .error-msg").html(r),n||$("#fatalError").show()}function D(e){$("#fatalError .error-msg").html(i18n.viewer.errors[e])}function j(e){if(!(e&&e.spatialReference&&app.map&&app.map.extent.spatialReference&&app.map.spatialReference)){var t=new b;return t.resolve(),t}if(app.map.spatialReference.wkid==e.spatialReference.wkid)return app.map.setExtent(e);var n=new b;return p.defaults.geometryService.project([e],app.map.spatialReference,function(e){e&&e[0]&&(app.map.setExtent(e[0]),n.resolve())}),n}function L(e,t){e&&(102100!=app.map.spatialReference.wkid&&4326!=app.map.spatialReference.wkid?p.defaults.geometryService.project([t],app.map.spatialReference,function(e){e&&e[0]&&(app.map.extent.contains(e[0])||app.map.centerAt(e[0]))}):app.map.extent.contains(t)||app.map.centerAt(t))}function R(){return!app.isInBuilder&&(!K()&&!!s.getAppID(K())||K()&&app.userCanEdit)&&!te.preview}function F(){$(".esriSignInDialog td label").siblings("br").css("display","none"),$(".esriSignInDialog .dijitDialogPaneContentArea div:nth(1)").css("display","none"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("padding","0px"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("margin-bottom","0px"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("border","none"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("border-radius","0px"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("-webkit-border-radius","0px"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("-moz-border-radius","0px"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("box-shadow","none"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("-webkit-box-shadow","none"),$(".esriSignInDialog .dijitReset.dijitInputInner").css("-moz-box-shadow","none"),$(".esriSignInDialog .dijitReset.dijitValidationContainer").css("display","none"),$(".esriSignInDialog .esriErrorMsg").css("margin-top","10px"),$(".esriSignInDialog").find(".dijitDialogTitleBar").find(".dijitDialogTitle").first().html(i18n.viewer.signin.title),c._arcgisUrl&&($(".esriSignInDialog").find(".dijitDialogPaneContentArea:first-child").find(":first-child").first().css("display","none"),$(".esriSignInDialog").find(".dijitDialogPaneContentArea:first-child").find(":first-child").first().after("<div id='dijitDialogPaneContentAreaLoginText'>"+i18n.viewer.signin.explainViewer.replace("%PORTAL_LINK%","<a href='http://"+c._arcgisUrl+"' title='"+c._arcgisUrl+"' target='_blank'>"+c._arcgisUrl+"</a>")+"</div>"))}function B(){c._arcgisUrl&&$(".esriSignInDialog").find("#dijitDialogPaneContentAreaLoginText").html(i18n.viewer.signin.explainBuilder.replace("%PORTAL_LINK%","<a href='http://"+c._arcgisUrl+"' title='"+c._arcgisUrl+"' target='_blank'>"+c._arcgisUrl+"</a>"))}function U(){$("#header").css("display","inherit"),$(".mobileView").css("display","inherit"),$("#fatalError").css("display","none"),$("#loadingOverlay").css("top","0px"),W()}function H(){window.location=a.arcgisUrl.split("/sharing/")[0]+"/home/signin.html?returnUrl="+encodeURIComponent(document.location.href)}function W(){app.loadingTimeout=setTimeout(V,app.cfg.TIMEOUT_VIEWER_LOAD)}function z(){"undefined"!=typeof app&&app.loadingTimeout&&(clearTimeout(app.loadingTimeout),app.loadingTimeout=null)}function V(){return c&&c.dialog&&c.dialog._alreadyInitialized&&!c.loadingTimeoutAlreadyFired?(clearTimeout(app.loadingTimeout),W(),void(c._busy||(c.loadingTimeoutAlreadyFired=!0))):void $("#loadingMessage").html('<div class="mainMessage">'+i18n.viewer.loading["long"]+"<br />"+i18n.viewer.loading.long2+"</div>").fadeIn("slow",function(){$("#loadingMessage").addClass("loaded")})}function q(){C("#fatalError .error-title")[0].innerHTML=i18n.viewer.errors.boxTitle}function K(){return J.environment!=["TPL","ENV","DEV"].join("_")}function G(){if(console.log("common.core.Core - parsePortalConfig"),app.portal){!app.cfg.HELPER_SERVICES.geocode.length&&app.portal.helperServices&&app.portal.helperServices.geocode&&app.portal.helperServices.geocode.length&&app.portal.helperServices.geocode[0].url&&$.each(app.portal.helperServices.geocode,function(e,t){app.cfg.HELPER_SERVICES.geocode.push(t)});var e;if(app.cfg.HELPER_SERVICES.geometry&&app.cfg.HELPER_SERVICES.geometry.url?e=app.cfg.HELPER_SERVICES.geometry.url:app.portal.helperServices.geometry&&app.portal.helperServices.geometry.url&&(e=app.portal.helperServices.geometry.url),p.defaults.geometryService=new f(e),!app.cfg.BING_MAPS_KEY&&app.portal.bingKey&&(app.cfg.BING_MAPS_KEY=app.portal.bingKey),app.portal.isPortal&&app.cfg&&app.cfg.AUTHORIZED_IMPORT_SOURCE&&(app.cfg.AUTHORIZED_IMPORT_SOURCE.featureService=!1),app.isPortal=!!app.portal.isPortal,app.isPortal&&app.portal.helpBase&&app.portal.portalHostname&&!app.cfg.HELP_URL_PORTAL.match("^//")){var t=app.portal.portalHostname.split("/")[0];app.cfg.HELP_URL_PORTAL="//"+t+app.portal.helpBase+app.cfg.HELP_URL_PORTAL}}}function Y(){var e="notConfiguredMobile";z(),app.isInitializing=!0,app.initScreenIsOpen=!0,u("touch")&&s.isMobile()&&(window.innerHeight>window.innerWidth?window.innerHeight>768&&(e="notConfiguredMobile2"):window.innerWidth>768&&(e="notConfiguredMobile2")),M(e,null,!0)}function X(){$("#initPopup").modal("hide"),app.initScreenIsOpen=!1}function Q(){D("notConfiguredDesktop"),$("#loadingOverlay").css("top","0px"),$("#header").css("display","inherit"),$("#fatalError").css("display","block"),app.initScreenIsOpen=!1}var J={environment:"TPL_ENV_PRODUCTION"},Z=null,ee=null,te=s.getUrlParams();return{init:x,isProd:K,appInitComplete:A,loadWebMap:S,hasSwitchBuilderButton:R,initPopupPrepare:Y,initPopupComplete:X,initPopupFail:Q,zoomToDeviceLocation:L,cleanLoadingTimeout:z,initError:M,prepareAppForWebmapReload:U,replaceInitErrorMessage:D,portalLogin:P}}),define("lib-build/less",["require"],function(e){var t={};if(t.pluginBuilder="./less-builder","undefined"==typeof window)return t.load=function(e,t,n){n()},t;t.normalize=function(e,t){return".less"==e.substr(e.length-5,5)&&(e=e.substr(0,e.length-5)),e=t(e)};var n=document.getElementsByTagName("head")[0],r=document.getElementsByTagName("base");r=r&&r[0]&&r[0]&&r[0].href;var o=(r||window.location.href.split("#")[0].split("?")[0]).split("/");o[o.length-1]="",o=o.join("/");var i,a=0;return t.inject=function(e){31>a&&(i=document.createElement("style"),i.type="text/css",n.appendChild(i),a++),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(document.createTextNode(e))},t.load=function(n,r,i,a){var s={},l=a?a.less||a:s;"env"in l||(l.env="development");var u=window.less;u?u.Parser||(l===s&&(l=u),u=null):window.less=l,e(u?["./normalize"]:["./normalize","./lessc"],function(e,a){a||(a=u),"fileExt"in l||(l.fileExt=".less");var s=n;".css"!==s.substring(s.length-4)&&l.fileExt&&(s+=l.fileExt),s=e.absoluteURI(r.toUrl(s),o),a.render("@import ("+(l.importOption||"multiple")+') "'+s+'";',l,function(e,n){return e?i.error(e):(n.css=n.css.replace(/..\/..\/(..\/)*resources/g,"resources"),t.inject(n.css),void setTimeout(i,7))},l)})},t}),define("lib-build/less!storymaps-react/tpl/view/media/Text",[],function(){}),define("storymaps-react/tpl/view/media/Text",["module","exports","lib-build/less!./Text"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.type="text",this._text=t}return r(e,[{key:"check",value:function(e){return this._text&&e?"block"!=e.placement?(console.log("Could not render text block in section"),!1):!0:(console.log("Could not render text block in section"),!1)}},{key:"render",value:function(e){return this.check(e)?this._text.value:null}},{key:"postCreate",value:function(){}},{key:"update",value:function(){}},{key:"load",value:function(){}},{key:"performAction",value:function(){}}]),e}();t["default"]=o,e.exports=t["default"]}),define("storymaps/tpl/utils/UI",[],function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return{isMobileBrowser:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)},hasWebGL:function(e){if(window.WebGLRenderingContext){for(var t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],r=!1,o=0;4>o;o++)try{if(r=t.getContext(n[o]),r&&"function"==typeof r.getParameter)return e?{name:n[o],gl:r}:!0}catch(i){}return!1}return!1},addCSSRule:function(e,t,n){var r="head";if(n&&(r=n.contents().find("head")),t){var o=$(r).find("#"+t).eq(0);if(o.length)return void o.html(e)}$("<style>").prop("type","text/css").attr("id",t).html(e).appendTo(r)},getUID:function(){return Date.now()+"-"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}),define("storymaps-react/tpl/view/media/Media",["module","exports","storymaps/tpl/utils/UI"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),this.type=t.type,this.id=t.id,this.previewThumb=t.previewThumb,this.previewIcon=t.previewIcon,this._cache={},this._isLoaded=!1,this._alternateMedia=null,this._node=null,this._domID=i["default"].getUID(),this._isUploadPending=!1,this._builderConfigurationTabs=[],this._onConfigAction=null}return a(e,[{key:"postCreate",value:function(e){this._builderConfigurationTabs=e.builderConfigurationTabs||[],this._onConfigAction=e.onConfigAction}},{key:"setCache",value:function(e){this._cache=e}},{key:"setAlternate",value:function(e){this._alternateMedia=e}},{key:"getAlternate",value:function(){return this._alternateMedia}},{key:"getPreviewThumbnail",value:function(){return this.previewThumb}},{key:"getPreviewIcon",value:function(){return this.previewIcon;
}},{key:"_applyConfig",value:function(e){if("block"==this._placement){e.size=e.size||"medium";var t=$.map(this._node.attr("class").split(" "),function(e){return e.match(/block-size-/)?e:null}).join(" ");this._node.removeClass(t).addClass("block-size-"+e.size)}}},{key:"_addToken",value:function(e){var t=app.data.appItem&&"public"!=app.data.appItem.item.access&&app.data.appItem.item.id&&e;return t&&e.match(new RegExp("/sharing/rest/content/items/"+app.data.appItem.item.id+"/resources/"))?e+"?token="+app.portal.getPortalUser().credential.token:e}},{key:"getAuthorizedTransitionsWith",value:function(){return[]}},{key:"isConfigActive",value:function(){return this._node.find(".media-cfg-panel").hasClass("active")}},{key:"closeConfigPanel",value:function(){this._node.find(".media-cfg-invite, .media-cfg-panel").removeClass("active")}},{key:"destroy",value:function(){this._node.remove()}},{key:"remove",value:function(){this._node.remove()}},{key:"_onAction",value:function(e,t){("remove"==e||"swap"==e)&&this._onConfigAction({action:e,media:this,newMedia:t})}}]),e}();t["default"]=s,e.exports=t["default"]}),define("text",{}),define("handlebars/safe-string",["exports"],function(e){function t(e){this.string=e}t.prototype.toString=function(){return""+this.string},e["default"]=t}),define("handlebars/utils",["./safe-string","exports"],function(e,t){function n(e){return l[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e){return e instanceof s?e.toString():null==e?"":e?(e=""+e,c.test(e)?e.replace(u,n):e):e+""}function i(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function a(e,t){return(e?e+".":"")+t}var s=e["default"],l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;t.extend=r;var d=Object.prototype.toString;t.toString=d;var p=function(e){return"function"==typeof e};p(/x/)&&(p=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var p;t.isFunction=p;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===d.call(e):!1};t.isArray=f,t.escapeExpression=o,t.isEmpty=i,t.appendContextPath=a}),define("handlebars/exception",["exports"],function(e){function t(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var o=Error.prototype.constructor.call(this,e),i=0;i<n.length;i++)this[n[i]]=o[n[i]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var n=["description","fileName","lineNumber","message","name","number","stack"];t.prototype=new Error,e["default"]=t}),define("handlebars/base",["./utils","./exception","exports"],function(e,t,n){function r(e,t){this.helpers=e||{},this.partials=t||{},o(this)}function o(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(c(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=v(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new a("Must pass iterator to #each");var n,r,o=t.fn,s=t.inverse,l=0,u="";if(t.data&&t.ids&&(r=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),d(e)&&(e=e.call(this)),t.data&&(n=v(t.data)),e&&"object"==typeof e)if(c(e))for(var p=e.length;p>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,r&&(n.contextPath=r+l)),u+=o(e[l],{data:n});else for(var f in e)e.hasOwnProperty(f)&&(n&&(n.key=f,n.index=l,n.first=0===l,r&&(n.contextPath=r+f)),u+=o(e[f],{data:n}),l++);return 0===l&&(u=s(this)),u}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){d(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var r=v(t.data);r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}}return n(e,t)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var i=e,a=t["default"],s="2.0.0";n.VERSION=s;var l=6;n.COMPILER_REVISION=l;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=u;var c=i.isArray,d=i.isFunction,p=i.toString,f="[object Object]";n.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:h,log:m,registerHelper:function(e,t){if(p.call(e)===f){if(t)throw new a("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){p.call(e)===f?i.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var h={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(h.level<=e){var n=h.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};n.logger=h;var m=h.log;n.log=m;var v=function(e){var t=i.extend({},e);return t._parent=e,t};n.createFrame=v}),define("handlebars/runtime",["./utils","./exception","./base","exports"],function(e,t,n,r){function o(e){var t=e&&e[0]||1,n=p;if(t!==n){if(n>t){var r=f[n],o=f[t];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new d("No environment passed to template");if(!e||!e.main)throw new d("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,o,i,a,s,l,u,p){a&&(i=c.extend({},i,a));var f=t.VM.invokePartial.call(this,n,o,i,s,l,u,p);if(null==f&&t.compile){var h={helpers:s,partials:l,data:u,depths:p};l[o]=t.compile(n,{data:void 0!==u,compat:e.compat},t),f=l[o](i,h)}if(null!=f){if(r){for(var m=f.split("\n"),v=0,g=m.length;g>v&&(m[v]||v+1!==g);v++)m[v]=r+m[v];f=m.join("\n")}return f}throw new d("The partial "+o+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],o=this.fn(e);return t||n?r=a(this,e,o,t,n):r||(r=this.programs[e]=a(this,e,o)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=c.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},o=function(t,n){n=n||{};var i=n.data;o._setup(n),!n.partial&&e.useData&&(i=u(t,i));var a;return e.useDepths&&(a=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,i,a)};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},o._child=function(t,n,o){if(e.useDepths&&!o)throw new d("must pass parent depths");return a(r,t,e[t],n,o)},o}function a(e,t,n,r,o){var i=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||r,o&&[t].concat(o))};return i.program=t,i.depth=o?o.length:0,i}function s(e,t,n,r,o,i,a){var s={partial:!0,helpers:r,partials:o,data:i,depths:a};if(void 0===e)throw new d("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?h(t):{},t.root=e),t}var c=e,d=t["default"],p=n.COMPILER_REVISION,f=n.REVISION_CHANGES,h=n.createFrame;r.checkRevision=o,r.template=i,r.program=a,r.invokePartial=s,r.noop=l}),define("handlebars.runtime",["./handlebars/base","./handlebars/safe-string","./handlebars/exception","./handlebars/utils","./handlebars/runtime","exports"],function(e,t,n,r,o,i){var a=e,s=t["default"],l=n["default"],u=r,c=o,d=function(){var e=new a.HandlebarsEnvironment;return u.extend(e,a),e.SafeString=s,e.Exception=l,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},p=d();return p.create=d,p["default"]=p,i=p["default"]}),define("lib-build/hbars",["text","Handlebars"],function(e,t){"use strict";var n={},r="define('{pluginName}!{moduleName}', ['Handlebars'], function (Handlebars) { return Handlebars.template({content}); });\n";return{version:"0.0.2",load:function(r,o,i,a){if(a=a||{},n[r])i(n[r]);else{var s=a.hbars&&a.hbars.extension||".hbs",l=a.hbars&&a.hbars.path||"",u=a.hbars&&a.hbars.compileOptions||{},c=function(e){a.isBuild?(n[r]=t.precompile(e,u),i()):(n[r]=t.compile(e),i(n[r]))};c.error=i.error,e.load(l+r+s,o,c,a)}},write:function(e,t,o,i){var a=n[t];a&&o.asModule(e+"!"+t,r.replace("{pluginName}",e).replace("{moduleName}",t).replace("{content}",a))}}}),define("lib-build/hbars!storymaps-react/tpl/view/media/ImageBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'" class="'+l((i=null!=(i=t.classes||(null!=e?e.classes:e))?i:s,typeof i===a?i.call(e,{name:"classes",hash:{},data:r}):i))+'">\r\n  <div class="block-media">\r\n    <div class="image-container" style="padding-top: '+l((i=null!=(i=t.padding||(null!=e?e.padding:e))?i:s,typeof i===a?i.call(e,{name:"padding",hash:{},data:r}):i))+'%"></div>\r\n    <div class="builder-ui media-cfg-invite"></div>\r\n  </div>\r\n  <div class="image-caption">';return i=null!=(i=t.caption||(null!=e?e.caption:e))?i:s,o=typeof i===a?i.call(e,{name:"caption",hash:{},data:r}):i,null!=o&&(u+=o),u+'</div>\r\n  <div class="builder-ui media-cfg-panel"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/ImageBackground",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" class="'+s((o=null!=(o=t.classes||(null!=e?e.classes:e))?o:a,typeof o===i?o.call(e,{name:"classes",hash:{},data:r}):o))+'"></div>\r\n<!--<div class="caption">'+s((o=null!=(o=t.caption||(null!=e?e.caption:e))?o:a,typeof o===i?o.call(e,{name:"caption",hash:{},data:r}):o))+'</div>-->\r\n<div class="builder-ui media-cfg-invite"></div>\r\n<div class="builder-ui media-cfg-panel"></div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/Image",[],function(){}),define("storymaps-react/tpl/view/media/Image",["module","exports","./Media","lib-build/hbars!./ImageBlock","lib-build/hbars!./ImageBackground","storymaps/tpl/utils/UI","dojo/Deferred","lib-build/less!./Image"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function x(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y="resources/tpl/builder/icons/immersive-panel/image.png",b=.4,w=.8,C=200,_=function(e){function t(e){l(this,t);var n=e.url;e.dataUrl&&e.uploadDeferred&&(n=h["default"].getUID());var r=u(this,Object.getPrototypeOf(t).call(this,{type:"image",id:n,previewThumb:e.dataUrl||e.url,previewIcon:y}));return r._image=e,r._url=e.url,r._placement=null,r._image.options||(r._image.options={}),e.dataUrl&&e.uploadDeferred&&(r._isUploadPending=!0,r._url=e.dataUrl,delete r._image.dataUrl,e.uploadDeferred.then(r._onUploadSuccess.bind(r),r._onUploadFail.bind(r))),r}return c(t,e),v(t,[{key:"render",value:function(e){var t="",n=[];if(!this._image||!e)return console.log("Could not render image in section"),t;if(this._placement=e.placement,"block"==this._placement){var r=this._computeBlockStyle();n.push("block-size-"+r.size),r.fitHeight&&n.push("fit-height"),t+=(0,p["default"])({id:this._domID,classes:["block","image"].concat(n).join(" "),padding:r.padding,caption:this._image.caption})}else"background"==e.placement&&(h["default"].isMobileBrowser()&&this._image.alternate&&(this._image.url=this._image.alternate,this._url=this._image.url),t+=(0,f["default"])({id:this._domID,classes:["image","image-background"].join(" "),caption:this._image.caption}));return t}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&("block"==this._placement?this._node=e.container.find("#"+this._domID):this._node=e.container.find("#"+this._domID).parent(),this._isUploadPending&&this._onUploadStart(),this._applyConfig())}},{key:"_applyConfig",value:function(){var e=this._image.options;e.size=e.size||"small",g(Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e)}},{key:"load",value:function(){var e=new m["default"];if(this._isLoaded||!this._node)return e.reject(),e;if(this._isLoaded=!0,!this._image.width||!this._image.height){var t=new window.Image;t.onload=function(e){var t=e.currentTarget.naturalWidth,n=e.currentTarget.naturalHeight;t&&n&&(this._image.width=t,this._image.height=n,this._node.find(".image-container").css("padding-top",this._computeBlockStyle().padding+"%"))}.bind(this),t.src=this._addToken(this._url)}return"block"==this._placement?this._node.find(".image-container").css("backgroundImage",'url("'+this._addToken(this._url)+'")'):(this._node.find(".image-background").css("backgroundImage",'url("'+this._addToken(this._url)+'")'),this._image["mobile-pos"]&&h["default"].isMobileBrowser()&&this._node.find(".image-background").css("backgroundPositionX",this._image["mobile-pos"])),e.resolve(),e}},{key:"performAction",value:function(){this._isLoaded||this.load()}},{key:"resize",value:function(){}},{key:"isLoaded",value:function(){return!0}},{key:"getNode",value:function(){return this._node}},{key:"update",value:function(){}},{key:"_computeBlockStyle",value:function(){var e="small",t=!0;this._image.options&&(this._image.options.size&&(e=this._image.options.size),void 0!==this._image.options.fitHeight&&(t=this._image.options.fitHeight));var n=this._image.height,r=this._image.width,o=null;if("small"==e||"medium"==e){var i=this._image.width/n;r="small"==e?app.display.windowWidth*b:app.display.windowWidth*w,n=Math.round(r/i),n=Math.min(n,app.display.windowHeight-C)}return o=this._image.width<r&&(!t||this._image.height<app.display.windowHeight-C)?this._image.height/this._image.width*(this._image.width/r)*100:n/Math.min(this._image.width,r)*100,o=Math.round(10*o)/10,{size:e,fitHeight:t,padding:o}}}]),t}(d["default"]);t["default"]=_,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/ImageGallery",["Handlebars"],function(e){return e.template({1:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'      <div class="image-gallery-item" data-src="'+s((o=null!=(o=t.url||(null!=e?e.url:e))?o:a,typeof o===i?o.call(e,{name:"url",hash:{},data:r}):o))+'">\r\n        <div class="image-gallery-item-wrapper">\r\n          <a href="'+s((o=null!=(o=t.url||(null!=e?e.url:e))?o:a,typeof o===i?o.call(e,{name:"url",hash:{},data:r}):o))+'" class="image-gallery-image-link" data-disable-preview="true" contenteditable="false">\r\n            <img class="image-gallery-img-hidden" />\r\n          </a>\r\n          <!--<div class="image-gallery-img"></div>-->\r\n          <div class="builder-ui">\r\n            Edit/delete hover each image\r\n          </div>\r\n        </div>\r\n      </div>\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'" class="block image-gallery" style="height: '+l((i=null!=(i=t.height||(null!=e?e.height:e))?i:s,typeof i===a?i.call(e,{name:"height",hash:{},data:r}):i))+' px;">\r\n  <div class="image-gallery-wrapper">\r\n';return o=t.each.call(e,null!=e?e.images:e,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+='\r\n    <div class="builder-ui">\r\n      Add/Orga\r\n    </div>\r\n  </div>\r\n  <div class="image-gallery-caption">',i=null!=(i=t.caption||(null!=e?e.caption:e))?i:s,o=typeof i===a?i.call(e,{name:"caption",hash:{},data:r}):i,null!=o&&(u+=o),u+"</div>\r\n</div>\r\n"},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/ImageGallery",[],function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return Z.call(t,e)>-1!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t={};return ie.each(e.match(Ce)||[],function(e,n){t[n]=!0}),t}function a(){Y.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),ie.ready()}function s(){this.expando=ie.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Se,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Pe.test(n)?ie.parseJSON(n):n}catch(o){}ke.set(e,t,n)}else n=void 0;return n}function u(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return ie.css(e,t,"")},l=s(),u=n&&n[3]||(ie.cssNumber[t]?"":"px"),c=(ie.cssNumber[t]||"px"!==u&&+l)&&Ie.exec(ie.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do i=i||".5",c/=i,ie.style(e,t,c+u);while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],n):n}function d(e,t){for(var n=0,r=e.length;r>n;n++)Te.set(e[n],"globalEval",!t||Te.get(t[n],"globalEval"))}function p(e,t,n,r,o){for(var i,a,s,l,u,p,f=t.createDocumentFragment(),h=[],m=0,v=e.length;v>m;m++)if(i=e[m],i||0===i)if("object"===ie.type(i))ie.merge(h,i.nodeType?[i]:i);else if(Re.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(De.exec(i)||["",""])[1].toLowerCase(),l=Le[s]||Le._default,a.innerHTML=l[1]+ie.htmlPrefilter(i)+l[2],p=l[0];p--;)a=a.lastChild;ie.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(i));for(f.textContent="",m=0;i=h[m++];)if(r&&ie.inArray(i,r)>-1)o&&o.push(i);else if(u=ie.contains(i.ownerDocument,i),a=c(f.appendChild(i),"script"),u&&d(a),n)for(p=0;i=a[p++];)je.test(i.type||"")&&n.push(i);return f}function f(){return!0}function h(){return!1}function m(){try{return Y.activeElement}catch(e){}}function v(e,t,n,r,o,i){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)v(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=h;else if(!o)return e;return 1===i&&(a=o,o=function(e){return ie().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ie.guid++)),e.each(function(){ie.event.add(this,t,o,r,n)})}function g(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,r,o,i,a,s,l,u;if(1===t.nodeType){if(Te.hasData(e)&&(i=Te.access(e),a=Te.set(t,i),u=i.events)){delete a.handle,a.events={};for(o in u)for(n=0,r=u[o].length;r>n;n++)ie.event.add(t,o,u[o][n])}ke.hasData(e)&&(s=ke.access(e),l=ie.extend({},s),ke.set(t,l))}}function C(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function _(e,t,n,r){t=Q.apply([],t);var o,i,a,s,l,u,d=0,f=e.length,h=f-1,m=t[0],v=ie.isFunction(m);if(v||f>1&&"string"==typeof m&&!re.checkClone&&We.test(m))return e.each(function(o){var i=e.eq(o);v&&(t[0]=m.call(this,o,i.html())),_(i,t,n,r)});if(f&&(o=p(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=ie.map(c(o,"script"),y),s=a.length;f>d;d++)l=o,d!==h&&(l=ie.clone(l,!0,!0),s&&ie.merge(a,c(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,ie.map(a,b),d=0;s>d;d++)l=a[d],je.test(l.type||"")&&!Te.access(l,"globalEval")&&ie.contains(u,l)&&(l.src?ie._evalUrl&&ie._evalUrl(l.src):ie.globalEval(l.textContent.replace(Ve,"")))}return e}function x(e,t,n){for(var r,o=t?ie.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||ie.cleanData(c(r)),r.parentNode&&(n&&ie.contains(r.ownerDocument,r)&&d(c(r,"script")),r.parentNode.removeChild(r));return e}function E(e,t){var n=ie(t.createElement(e)).appendTo(t.body),r=ie.css(n[0],"display");return n.detach(),r}function T(e){var t=Y,n=Ke[e];return n||(n=E(e,t),"none"!==n&&n||(qe=(qe||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qe[0].contentDocument,t.write(),t.close(),n=E(e,t),qe.detach()),Ke[e]=n),n}function k(e,t,n){var r,o,i,a,s=e.style;return n=n||Xe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),n&&!re.pixelMarginRight()&&Ye.test(a)&&Ge.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function O(e,t,n){var r=Ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function I(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=ie.css(e,n+Ne[i],!0,o)),r?("content"===n&&(a-=ie.css(e,"padding"+Ne[i],!0,o)),"margin"!==n&&(a-=ie.css(e,"border"+Ne[i]+"Width",!0,o))):(a+=ie.css(e,"padding"+Ne[i],!0,o),"padding"!==n&&(a+=ie.css(e,"border"+Ne[i]+"Width",!0,o)));return a}function N(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Xe(e),a="border-box"===ie.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=k(e,t,i),(0>o||null==o)&&(o=e.style[t]),Ye.test(o))return o;r=a&&(re.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),r,i)+"px"}function A(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=Te.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(i[a]=Te.access(r,"olddisplay",T(r.nodeName)))):(o=Ae(r),"none"===n&&o||Te.set(r,"olddisplay",o?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function M(e,t,n,r,o){return new M.prototype.init(e,t,n,r,o)}function D(){return e.setTimeout(function(){ot=void 0}),ot=ie.now()}function j(e,t){var n,r=0,o={height:e};for(t=t?1:0;4>r;r+=2-t)n=Ne[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function L(e,t,n){for(var r,o=(B.tweeners[t]||[]).concat(B.tweeners["*"]),i=0,a=o.length;a>i;i++)if(r=o[i].call(n,t,e))return r}function R(e,t,n){var r,o,i,a,s,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&Ae(e),m=Te.get(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ie.css(e,"display"),c="none"===u?Te.get(e,"olddisplay")||T(e.nodeName):u,"inline"===c&&"none"===ie.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],at.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(p))"inline"===("none"===u?T(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=Te.access(e,"fxshow",{}),i&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;Te.remove(e,"fxshow");for(t in p)ie.style(e,t,p[t])});for(r in p)a=L(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function F(e,t){var n,r,o,i,a;for(n in e)if(r=ie.camelCase(n),o=t[r],i=e[n],ie.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function B(e,t,n){var r,o,i=0,a=B.prefilters.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ot||D(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),1>i&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(F(c,u.opts.specialEasing);a>i;i++)if(r=B.prefilters[i].call(u,e,c,u.opts))return ie.isFunction(r.stop)&&(ie._queueHooks(u.elem,u.opts.queue).stop=ie.proxy(r.stop,r)),r;return ie.map(c,L,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(Ce)||[];if(ie.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function o(s){var l;return i[s]=!0,ie.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var i={},a=e===kt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function W(e,t){var n,r,o=ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&ie.extend(!0,e,r),e}function z(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==l[0]&&l.unshift(i),n[i]):void 0}function V(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(a=u[l+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(i=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function q(e,t,n,r){var o;if(ie.isArray(t))ie.each(t,function(t,o){n||It.test(e)?r(e,o):q(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(o in t)q(e+"["+o+"]",t[o],n,r)}function K(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],Y=e.document,X=G.slice,Q=G.concat,J=G.push,Z=G.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},oe="2.2.4",ie=function(e,t){return new ie.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:oe,constructor:ie,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:G.sort,splice:G.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(ie.isPlainObject(r)||(o=ie.isArray(r)))?(o?(o=!1,i=n&&ie.isArray(n)?n:[]):i=n&&ie.isPlainObject(n)?n:{},a[t]=ie.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},ie.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){
var t=e&&e.toString();return!ie.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ie.trim(e),e&&(1===e.indexOf("use strict")?(t=Y.createElement("script"),t.text=e,Y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,o=0;if(n(e))for(r=e.length;r>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,r){var o,i,a=0,s=[];if(n(e))for(o=e.length;o>a;a++)i=t(e[a],a,r),null!=i&&s.push(i);else for(a in e)i=t(e[a],a,r),null!=i&&s.push(i);return Q.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),ie.isFunction(e)?(r=X.call(arguments,2),o=function(){return e.apply(t||this,r.concat(X.call(arguments)))},o.guid=e.guid=e.guid||ie.guid++,o):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=G[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var o,i,a,s,l,u,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:U)!==A&&N(t),t=t||A,D)){if(11!==m&&(u=ge.exec(e)))if(o=u[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&C.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(C.qsa&&!V[e+" "]&&(!j||!j.test(e))){if(1!==m)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=B),d=T(e),i=d.length,l=pe.test(s)?"#"+s:"[id='"+s+"']";i--;)d[i]=l+" "+p(d[i]);f=d.join(","),h=ye.test(e)&&c(t.parentNode)||t}if(f)try{return J.apply(n,h.querySelectorAll(f)),n}catch(v){}finally{s===B&&t.removeAttribute("id")}}}return P(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=H++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u,c=[$,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(u=t[B]||(t[B]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[r])&&s[0]===$&&s[1]===i)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function v(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function g(e,t,n,o,i,a){return o&&!o[B]&&(o=g(o)),i&&!i[B]&&(i=g(i,a)),r(function(r,a,s,l){var u,c,d,p=[],f=[],h=a.length,g=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?g:v(g,p,e,s,l),b=n?i||(r?e:h||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(u=v(b,f),o(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(r){if(i||e){if(i){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);i(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=i?ee(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else b=v(b===a?b.splice(h,b.length):b),i?i(null,a,b,l):J.apply(a,b)})}function y(e){for(var t,n,r,o=e.length,i=_.relative[e[0].type],a=i||_.relative[" "],s=i?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var o=!i&&(r||n!==S)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,o}];o>s;s++)if(n=_.relative[e[s].type])c=[f(h(c),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;o>r&&!_.relative[e[r].type];r++);return g(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&y(e.slice(s,r)),o>r&&y(e=e.slice(r)),o>r&&p(e))}c.push(n)}return h(c)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,l,u){var c,d,p,f=0,h="0",m=r&&[],g=[],y=S,b=r||i&&_.find.TAG("*",u),w=$+=null==y?1:Math.random()||.1,C=b.length;for(u&&(S=a===A||a||u);h!==C&&null!=(c=b[h]);h++){if(i&&c){for(d=0,a||c.ownerDocument===A||(N(c),s=!D);p=e[d++];)if(p(c,a||A,s)){l.push(c);break}u&&($=w)}o&&((c=!p&&c)&&f--,r&&m.push(c))}if(f+=h,o&&h!==f){for(d=0;p=n[d++];)p(m,g,a,s);if(r){if(f>0)for(;h--;)m[h]||g[h]||(g[h]=X.call(l));g=v(g)}J.apply(l,g),u&&!r&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&($=w,S=y),m};return o?r(a):a}var w,C,_,x,E,T,k,P,S,O,I,N,A,M,D,j,L,R,F,B="sizzle"+1*new Date,U=e.document,$=0,H=0,W=n(),z=n(),V=n(),q=function(e,t){return e===t&&(I=!0),0},K=1<<31,G={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ie),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=function(){N()};try{J.apply(Y=Z.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(xe){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,M=A.documentElement,D=!E(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=ve.test(A.getElementsByClassName),C.getById=o(function(e){return M.appendChild(e).id=B,!A.getElementsByName||!A.getElementsByName(B).length}),C.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},_.filter.ID=function(e){var t=e.replace(we,Ce);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(we,Ce);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},_.find.CLASS=C.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&D?t.getElementsByClassName(e):void 0},L=[],j=[],(C.qsa=ve.test(A.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||j.push(".#.+[+~]")}),o(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(C.matchesSelector=ve.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){C.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",ie)}),j=j.length&&new RegExp(j.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(M.compareDocumentPosition),F=t||ve.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===U&&F(U,e)?-1:t===A||t.ownerDocument===U&&F(U,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!o||!i)return e===A?-1:t===A?1:o?-1:i?1:O?ee(O,e)-ee(O,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===U?-1:l[r]===U?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&N(e),n=n.replace(ce,"='$1']"),C.matchesSelector&&D&&!V[n+" "]&&(!L||!L.test(n))&&(!j||!j.test(n)))try{var r=R.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&N(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&N(e);var n=_.attrHandle[t.toLowerCase()],r=n&&G.call(_.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:C.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(I=!C.detectDuplicates,O=!C.sortStable&&e.slice(0),e.sort(q),I){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return O=null,e},x=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=i!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(v){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(p=v,d=p[B]||(p[B]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===$&&u[1],b=f&&u[2],p=f&&v.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[$,f,b];break}}else if(y&&(p=t,d=p[B]||(p[B]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===$&&u[1],b=f),b===!1)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(y&&(d=p[B]||(p[B]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[$,b]),p!==t)););return b-=o,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[B]?i(n):i.length>1?(o=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=ee(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=k(e.replace(se,"$1"));return o[B]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Ce),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Ce).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,T=t.tokenize=function(e,n){var r,o,i,a,s,l,u,c=z[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=_.preFilter;s;){r&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=ue.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length));for(a in _.filter)!(o=fe[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],o=[],i=V[e+" "];if(!i){for(t||(t=T(e)),n=t.length;n--;)i=y(t[n]),i[B]?r.push(i):o.push(i);i=V(e,b(o,r)),i.selector=e}return i},P=t.select=function(e,t,n,r){var o,i,a,s,l,u="function"==typeof e&&e,d=!r&&T(e=u.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&C.getById&&9===t.nodeType&&D&&_.relative[i[1].type]){if(t=(_.find.ID(a.matches[0].replace(we,Ce),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=fe.needsContext.test(e)?0:i.length;o--&&(a=i[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(r=l(a.matches[0].replace(we,Ce),ye.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&p(i),!e)return J.apply(n,r),n;break}}return(u||k(e,d))(r,t,!D,n,!t||ye.test(e)&&c(t.parentNode)||t),n},C.sortStable=B.split("").sort(q).join("")===B,C.detectDuplicates=!!I,N(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var de=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ie(e).is(n))break;r.push(e)}return r},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=ie.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;n>t;t++)if(ie.contains(o[t],this))return!0}));for(t=0;n>t;t++)ie.find(e,o[t],r);return r=this.pushStack(n>1?ie.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&fe.test(e)?ie(e):e||[],!1).length}});var ve,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=ie.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||ve,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ge.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),he.test(r[1])&&ie.isPlainObject(t))for(r in t)ie.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=Y.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==n.ready?n.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ye.prototype=ie.fn,ve=ie(Y);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=fe.test(e)||"string"!=typeof e?ie(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ie.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Z.call(ie(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var o=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ie.filter(r,o)),this.length>1&&(we[e]||ie.uniqueSort(o),be.test(e)&&o.reverse()),this.pushStack(o)}});var Ce=/\S+/g;ie.Callbacks=function(e){e="string"==typeof e?i(e):ie.extend({},e);var t,n,r,o,a=[],s=[],l=-1,u=function(){for(o=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){ie.each(t,function(t,n){ie.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==ie.type(n)&&r(n)})}(arguments),n&&!t&&u()),this},remove:function(){return ie.each(arguments,function(e,t){for(var n;(n=ie.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?ie.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,i){var a=ie.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},o={};return r.pipe=r.then,ie.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=X.call(arguments),a=i.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,l=1===s?e:ie.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?X.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&ie.isFunction(i[o].promise)?i[o].promise().progress(u(o,n,t)).done(u(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var _e;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(e===!0?--ie.readyWait:ie.isReady)||(ie.isReady=!0,e!==!0&&--ie.readyWait>0||(_e.resolveWith(Y,[ie]),ie.fn.triggerHandler&&(ie(Y).triggerHandler("ready"),ie(Y).off("ready"))))}}),ie.ready.promise=function(t){return _e||(_e=ie.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?e.setTimeout(ie.ready):(Y.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),_e.promise(t)},ie.ready.promise();var xe=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n)){o=!0;for(s in n)xe(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},Ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ee(e))return{};var t=e[this.expando];return t||(t={},Ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,ie.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{ie.isArray(t)?r=t.concat(t.map(ie.camelCase)):(o=ie.camelCase(t),t in i?r=[t,o]:(r=o,r=r in i?[r]:r.match(Ce)||[])),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||ie.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ie.isEmptyObject(t)}};var Te=new s,ke=new s,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/[A-Z]/g;ie.extend({hasData:function(e){return ke.hasData(e)||Te.hasData(e)},data:function(e,t,n){return ke.access(e,t,n)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,n){return Te.access(e,t,n)},_removeData:function(e,t){Te.remove(e,t)}}),ie.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=ke.get(i),1===i.nodeType&&!Te.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(i,r,o[r])));Te.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ke.set(this,e)}):xe(this,function(t){var n,r;if(i&&void 0===t){if(n=ke.get(i,e)||ke.get(i,e.replace(Se,"-$&").toLowerCase()),void 0!==n)return n;if(r=ie.camelCase(e),n=ke.get(i,r),void 0!==n)return n;if(n=l(i,r,void 0),void 0!==n)return n}else r=ie.camelCase(e),this.each(function(){var n=ke.get(this,r);ke.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Te.get(e,t),n&&(!r||ie.isArray(n)?r=Te.access(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,o=n.shift(),i=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Te.get(e,n)||Te.access(e,n,{empty:ie.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ie.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Te.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Me=/^(?:checkbox|radio)$/i,De=/<([\w:-]+)/,je=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Re=/<|&#?\w+;/;!function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Fe=/^key/,Be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ue=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=Te.get(e);if(v)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=ie.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ce)||[""],u=t.length;u--;)s=Ue.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=ie.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=ie.event.special[f]||{},c=ie.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),ie.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=Te.hasData(e)&&Te.get(e);if(v&&(l=v.events)){for(t=(t||"").match(Ce)||[""],u=t.length;u--;)if(s=Ue.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ie.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,v.handle)!==!1||ie.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)ie.event.remove(e,f+t[u],n,r,!0);ie.isEmptyObject(l)&&Te.remove(e,"handle events")}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,o,i,a=[],s=X.call(arguments),l=(Te.get(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,r=((ie.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?ie(o,this).index(l)>-1:ie.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Y,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Be.test(o)?this.mouseHooks:Fe.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=Y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ie.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||ie.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ie.fn.extend({on:function(e,t,n,r){return v(this,e,t,n,r)},one:function(e,t,n,r){return v(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=h),this.each(function(){ie.event.remove(this,e,n,t)})}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,He=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace($e,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=ie.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(a=c(s),i=c(e),r=0,o=i.length;o>r;r++)C(i[r],a[r]);if(t)if(n)for(i=i||c(e),a=a||c(s),r=0,o=i.length;o>r;r++)w(i[r],a[r]);else w(e,s);return a=c(s,"script"),a.length>0&&d(a,!l&&c(e,"script")),s},cleanData:function(e){for(var t,n,r,o=ie.event.special,i=0;void 0!==(n=e[i]);i++)if(Ee(n)){if(t=n[Te.expando]){if(t.events)for(r in t.events)o[r]?ie.event.remove(n,r):ie.removeEvent(n,r,t.handle);n[Te.expando]=void 0}n[ke.expando]&&(n[ke.expando]=void 0)}}}),ie.fn.extend({domManip:_,detach:function(e){return x(this,e,!0)},remove:function(e){return x(this,e)},text:function(e){return xe(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return xe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Le[(De.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;ie.inArray(this,e)<0&&(ie.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=[],o=ie(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),ie(o[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var qe,Ke={HTML:"block",BODY:"block"},Ge=/^margin/,Ye=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),Xe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Qe=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},Je=Y.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Je.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Je.removeChild(a)}var n,r,o,i,a=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ie.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),o},reliableMarginLeft:function(){return null==r&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Je.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Je.removeChild(a),s.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=Y.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=ie.camelCase(t),l=e.style;return t=ie.cssProps[s]||(ie.cssProps[s]=S(s)||s),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t]:(i=typeof n,"string"===i&&(o=Ie.exec(n))&&o[1]&&(n=u(e,t,o),i="number"),void(null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(ie.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var o,i,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(s)||s),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=k(e,t,r)),"normal"===o&&t in tt&&(o=tt[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?Ze.test(ie.css(e,"display"))&&0===e.offsetWidth?Qe(e,et,function(){return N(e,t,r)}):N(e,t,r):void 0},set:function(e,n,r){var o,i=r&&Xe(e),a=r&&I(e,t,r,"border-box"===ie.css(e,"boxSizing",!1,i),i);return a&&(o=Ie.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ie.css(e,t)),O(e,n,a)}}}),ie.cssHooks.marginLeft=P(re.reliableMarginLeft,function(e,t){return t?(parseFloat(k(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),ie.cssHooks.marginRight=P(re.reliableMarginRight,function(e,t){return t?Qe(e,{display:"inline-block"},k,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Ne[r]+t]=i[r]||i[r-2]||i[0];return o}},Ge.test(e)||(ie.cssHooks[e+t].set=O)}),ie.fn.extend({css:function(e,t){return xe(this,function(e,t,n){var r,o,i={},a=0;if(ie.isArray(t)){for(r=Xe(e),o=t.length;o>a;a++)i[t[a]]=ie.css(e,t[a],!1,r);return i}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ie.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=M.prototype.init,ie.fx.step={};var ot,it,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;ie.Animation=ie.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ie.exec(t),n),n}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var n,r=0,o=e.length;o>r;r++)n=e[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[R],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ie.isEmptyObject(e),i=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),i);(o||Te.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ie.timers,a=Te.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Te.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,o)}}),ie.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,n=ie.timers;for(ot=ie.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ie.fx.stop(),ot=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){it||(it=e.setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){e.clearInterval(it),it=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,n){return t=ie.fx?ie.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=Y.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var lt,ut=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return xe(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,o,i=e.nodeType;return 3!==i&&8!==i&&2!==i?"undefined"==typeof e.getAttribute?ie.prop(e,t,n):(1===i&&ie.isXMLDoc(e)||(t=t.toLowerCase(),o=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void ie.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=ie.find.attr(e,t),null==r?void 0:r)):void 0},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(Ce);if(i&&1===e.nodeType)for(;n=i[o++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||ie.find.attr;ut[t]=function(e,t,r){var o,i;return r||(i=ut[t],ut[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,ut[t]=i),o}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return xe(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,n){var r,o,i=e.nodeType;return 3!==i&&8!==i&&2!==i?(1===i&&ie.isXMLDoc(e)||(t=ie.propFix[t]||t,o=ie.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(o=U(n),r=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=ie.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(o=U(n),r=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=ie.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=ie(this),i=e.match(Ce)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=U(this),t&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,ht=/[\x20\t\r\n\f]+/g;ie.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=ie.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ie(this).val()):e,null==o?o="":"number"==typeof o?o+="":ie.isArray(o)&&(o=ie.map(o,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=ie.valHooks[o.type]||ie.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)):void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,l=0>o?s:i?o:0;s>l;l++)if(n=r[l],(n.selected||l===o)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=ie.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=ie.inArray(ie.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>-1:void 0}},re.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,n,r,o){var i,a,s,l,u,c,d,p=[r||Y],f=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!mt.test(f+ie.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[ie.expando]?t:new ie.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),d=ie.event.special[f]||{},o||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!o&&!d.noBubble&&!ie.isWindow(r)){for(l=d.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Y)&&p.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=p[i++])&&!t.isPropagationStopped();)t.type=i>1?l:d.bindType||f,c=(Te.get(a,"events")||{})[t.type]&&Te.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Ee(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Ee(r)||u&&ie.isFunction(r[f])&&!ie.isWindow(r)&&(s=r[u],s&&(r[u]=null),ie.event.triggered=f,r[f](),ie.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=ie.extend(new ie.Event,n,{type:e,isSimulated:!0});ie.event.trigger(r,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Te.access(r,t);o||r.addEventListener(e,n,!0),Te.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Te.access(r,t)-1;o?Te.access(r,t,o):(r.removeEventListener(e,n,!0),Te.remove(r,t))}}});var vt=e.location,gt=ie.now(),yt=/\?/;ie.parseJSON=function(e){return JSON.parse(e+"")},ie.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var bt=/#.*$/,wt=/([?&])_=[^&]*/,Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xt=/^(?:GET|HEAD)$/,Et=/^\/\//,Tt={},kt={},Pt="*/".concat("*"),St=Y.createElement("a");St.href=vt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:_t.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:$(Tt),ajaxTransport:$(kt),ajax:function(t,n){function r(t,n,r,s){var u,d,y,b,C,x=n;2!==w&&(w=2,l&&e.clearTimeout(l),o=void 0,a=s||"",_.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(b=z(p,_,r)),b=V(p,b,_,u),u?(p.ifModified&&(C=_.getResponseHeader("Last-Modified"),C&&(ie.lastModified[i]=C),C=_.getResponseHeader("etag"),C&&(ie.etag[i]=C)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=b.state,d=b.data,y=b.error,u=!y)):(y=x,!t&&x||(x="error",0>t&&(t=0))),_.status=t,_.statusText=(n||x)+"",u?m.resolveWith(f,[d,x,_]):m.rejectWith(f,[_,x,y]),_.statusCode(g),g=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[_,p,u?d:y]),v.fireWith(f,[_,x]),c&&(h.trigger("ajaxComplete",[_,p]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,u,c,d,p=ie.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?ie(f):ie.event,m=ie.Deferred(),v=ie.Callbacks("once memory"),g=p.statusCode||{},y={},b={},w=0,C="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=Ct.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||C;return o&&o.abort(t),r(0,t),this}};if(m.promise(_).complete=v.add,_.success=_.done,_.error=_.fail,p.url=((t||p.url||vt.href)+"").replace(bt,"").replace(Et,vt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ie.trim(p.dataType||"*").toLowerCase().match(Ce)||[""],null==p.crossDomain){u=Y.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=St.protocol+"//"+St.host!=u.protocol+"//"+u.host}catch(x){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ie.param(p.data,p.traditional)),H(Tt,p,n,_),2===w)return _;c=ie.event&&p.global,c&&0===ie.active++&&ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!xt.test(p.type),i=p.url,p.hasContent||(p.data&&(i=p.url+=(yt.test(i)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wt.test(i)?i.replace(wt,"$1_="+gt++):i+(yt.test(i)?"&":"?")+"_="+gt++)),p.ifModified&&(ie.lastModified[i]&&_.setRequestHeader("If-Modified-Since",ie.lastModified[i]),ie.etag[i]&&_.setRequestHeader("If-None-Match",ie.etag[i])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,_,p)===!1||2===w))return _.abort();C="abort";for(d in{success:1,error:1,complete:1})_[d](p[d]);if(o=H(kt,p,n,_)){if(_.readyState=1,c&&h.trigger("ajaxSend",[_,p]),2===w)return _;p.async&&p.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{w=1,o.send(y,r)}catch(x){if(!(2>w))throw x;r(-1,x)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,o){return ie.isFunction(n)&&(o=o||r,r=n,n=void 0),ie.ajax(ie.extend({url:e,type:t,dataType:o,data:n,success:r},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},
wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return!ie.expr.filters.visible(e)},ie.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ot=/%20/g,It=/\[\]$/,Nt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],o=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(n in e)q(n,e[n],t,o);return r.join("&").replace(Ot,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Mt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Me.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Dt={0:200,1223:204},jt=ie.ajaxSettings.xhr();re.cors=!!jt&&"withCredentials"in jt,re.ajax=jt=!!jt,ie.ajaxTransport(function(t){var n,r;return re.cors||jt&&!t.crossDomain?{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Dt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Rt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||ie.expando+"_"+gt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Rt,"$1"+o):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ie.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===i?ie(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(o)),a&&ie.isFunction(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var r=he.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,o),o&&o.length&&ie(o).remove(),ie.merge([],r.childNodes))};var Ft=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&Ft)return Ft.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=ie.trim(e.slice(s)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u,c=ie.css(e,"position"),d=ie(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),i=ie.css(e,"top"),l=ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,ie.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,ie.contains(t,r)?(o=r.getBoundingClientRect(),n=K(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(r=e.offset()),r.top+=ie.css(e[0],"borderTopWidth",!0),r.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ie.css(n,"marginTop",!0),left:t.left-r.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||Je})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ie.fn[e]=function(r){return xe(this,function(e,r,o){var i=K(e);return void 0===o?i?i[t]:e[r]:void(i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o)},e,r,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=P(re.pixelPosition,function(e,n){return n?(n=k(e,t),Ye.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return xe(this,function(t,n,r){var o;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var Bt=e.jQuery,Ut=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=Ut),t&&e.jQuery===ie&&(e.jQuery=Bt),ie},t||(e.jQuery=e.$=ie),ie}),define("lib/jquery/dist/jquery.min",function(){}),!function(e,t,n,r){"use strict";function o(t,n){this.element=t;var r={};e.each(e(this.element).data(),function(e,t){var n=function(e){return e&&e[0].toLowerCase()+e.slice(1)},o=n(e.replace("fluidbox",""));(""!==o||null!==o)&&(t="false"==t?!1:!0,r[o]=t)}),this.settings=e.extend({},s,n,r),this.settings.viewportFill=Math.max(Math.min(parseFloat(this.settings.viewportFill),1),0),this.settings.stackIndex<this.settings.stackIndexDelta&&(settings.stackIndexDelta=settings.stackIndex),this._name=a,this.init()}var i=e(t),a=(e(n),"fluidbox"),s={immediateOpen:!1,loader:!1,maxWidth:0,maxHeight:0,resizeThrottle:500,stackIndex:1e3,stackIndexDelta:10,viewportFill:.95},l={},u=0;("undefined"==typeof console||"undefined"===console.warn)&&(console={},console.warn=function(){}),e.isFunction(e.throttle)||console.warn("Fluidbox: The jQuery debounce/throttle plugin is not found/loaded. Even though Fluidbox works without it, the window resize event will fire extremely rapidly in browsers, resulting in significant degradation in performance upon viewport resize.");var c=function(){var e,t=n.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==r)return o[e]},d=c(),p={dom:function(){var t=e("<div />",{"class":"fluidbox__wrap",css:{zIndex:this.settings.stackIndex-this.settings.stackIndexDelta}});if(e(this.element).addClass("fluidbox--closed").wrapInner(t).find("img").first().css({opacity:1}).addClass("fluidbox__thumb").after('<div class="fluidbox__ghost" />'),this.settings.loader){var n=e("<div />",{"class":"fluidbox__loader",css:{zIndex:2}});e(this.element).find(".fluidbox__wrap").append(n)}},prepareFb:function(){var t=this,n=e(this.element);n.trigger("thumbloaddone.fluidbox"),p.measure.fbElements.call(this),t.bindEvents(),n.addClass("fluidbox--ready"),t.bindListeners(),n.trigger("ready.fluidbox")},measure:{viewport:function(){l.viewport={w:i.width(),h:i.height()}},fbElements:function(){var t=this,n=e(this.element),r=n.find("img").first(),o=n.find(".fluidbox__ghost"),i=n.find(".fluidbox__wrap");t.instanceData.thumb={natW:r[0].naturalWidth,natH:r[0].naturalHeight,w:r.width(),h:r.height()},o.css({width:r.width(),height:r.height(),top:r.offset().top-i.offset().top+parseInt(r.css("borderTopWidth"))+parseInt(r.css("paddingTop")),left:r.offset().left-i.offset().left+parseInt(r.css("borderLeftWidth"))+parseInt(r.css("paddingLeft"))})}},checkURL:function(e){var t=0;return/[\s+]/g.test(e)?(console.warn("Fluidbox: Fluidbox opening is halted because it has detected characters in your URL string that need to be properly encoded/escaped. Whitespace(s) have to be escaped manually. See RFC3986 documentation."),t=1):/[\"\'\(\)]/g.test(e)&&(console.warn("Fluidbox: Fluidbox opening will proceed, but it has detected characters in your URL string that need to be properly encoded/escaped. These will be escaped for you. See RFC3986 documentation."),t=0),t},formatURL:function(e){return e.replace(/"/g,"%22").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}};e.extend(o.prototype,{init:function(){var t=this,n=e(this.element),r=n.find("img").first();if(p.measure.viewport(),(!t.instanceData||!t.instanceData.initialized)&&n.is("a")&&1===n.children().length&&(n.children().is("img")||n.children().is("picture")&&1===n.find("img").length)&&"none"!==n.css("display")&&"none"!==n.children().css("display")&&"none"!==n.parents().css("display")){n.removeClass("fluidbox--destroyed"),t.instanceData={},t.instanceData.initialized=!0,t.instanceData.originalNode=n.html(),u+=1,t.instanceData.id=u,n.addClass("fluidbox__instance-"+u),n.addClass("fluidbox--initialized"),p.dom.call(t),n.trigger("init.fluidbox");var o=new Image;r.width()>0&&r.height()>0?p.prepareFb.call(t):(o.onload=function(){p.prepareFb.call(t)},o.onerror=function(){n.trigger("thumbloadfail.fluidbox")},o.src=r.attr("src"))}},open:function(){var t=this,n=e(this.element),r=n.find("img").first(),o=n.find(".fluidbox__ghost"),i=n.find(".fluidbox__wrap");t.instanceData.state=1,o.off(d),e(".fluidbox--opened").fluidbox("close");var a=e("<div />",{"class":"fluidbox__overlay",css:{zIndex:-1}});if(i.append(a),n.removeClass("fluidbox--closed").addClass("fluidbox--loading"),p.checkURL(r.attr("src")))return t.close(),!1;o.css({"background-image":"url("+p.formatURL(r.attr("src"))+")",opacity:1}),p.measure.fbElements.call(t);var s;t.settings.immediateOpen?(n.addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:t.settings.stackIndex+t.settings.stackIndexDelta}),n.trigger("openstart.fluidbox"),t.compute(),r.css({opacity:0}),e(".fluidbox__overlay").css({opacity:1}),o.one(d,function(){n.trigger("openend.fluidbox")}),s=new Image,s.onload=function(){if(1===t.instanceData.state){if(t.instanceData.thumb.natW=s.naturalWidth,t.instanceData.thumb.natH=s.naturalHeight,n.removeClass("fluidbox--loading"),p.checkURL(s.src))return t.close(),!1;o.css({"background-image":"url("+p.formatURL(s.src)+")"}),t.compute()}},s.onerror=function(){t.close(),n.trigger("imageloadfail.fluidbox"),n.trigger("delayedloadfail.fluidbox")},s.src=n.attr("href")):(s=new Image,s.onload=function(){return n.removeClass("fluidbox--loading").addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:t.settings.stackIndex+t.settings.stackIndexDelta}),n.trigger("openstart.fluidbox"),p.checkURL(s.src)?(t.close(),!1):(o.css({"background-image":"url("+p.formatURL(s.src)+")"}),t.instanceData.thumb.natW=s.naturalWidth,t.instanceData.thumb.natH=s.naturalHeight,t.compute(),r.css({opacity:0}),e(".fluidbox__overlay").css({opacity:1}),void o.one(d,function(){n.trigger("openend.fluidbox")}))},s.onerror=function(){t.close(),n.trigger("imageloadfail.fluidbox")},s.src=n.attr("href"))},compute:function(){var t=this,n=e(this.element),r=n.find("img").first(),o=n.find(".fluidbox__ghost"),a=n.find(".fluidbox__wrap"),s=t.instanceData.thumb.natW,u=t.instanceData.thumb.natH,c=t.instanceData.thumb.w,d=t.instanceData.thumb.h,p=s/u,f=l.viewport.w/l.viewport.h;t.settings.maxWidth>0?(s=t.settings.maxWidth,u=s/p):t.settings.maxHeight>0&&(u=t.settings.maxHeight,s=u*p);var h,m,v,g,y;f>p?(h=u<l.viewport.h?u:l.viewport.h*t.settings.viewportFill,v=h/d,g=s*(d*v/u)/c,y=v):(m=s<l.viewport.w?s:l.viewport.w*t.settings.viewportFill,g=m/c,v=u*(c*g/s)/d,y=g),t.settings.maxWidth&&t.settings.maxHeight&&console.warn("Fluidbox: Both maxHeight and maxWidth are specified. You can only specify one. If both are specified, only the maxWidth property will be respected. This will not generate any error, but may cause unexpected sizing behavior.");var b=i.scrollTop()-r.offset().top+.5*(d*(y-1))+.5*(i.height()-d*y),w=.5*(c*(y-1))+.5*(i.width()-c*y)-r.offset().left,C=parseInt(100*g)/100+","+parseInt(100*v)/100;o.css({transform:"translate("+parseInt(100*w)/100+"px,"+parseInt(100*b)/100+"px) scale("+C+")",top:r.offset().top-a.offset().top,left:r.offset().left-a.offset().left}),n.find(".fluidbox__loader").css({transform:"translate("+parseInt(100*w)/100+"px,"+parseInt(100*b)/100+"px) scale("+C+")"}),n.trigger("computeend.fluidbox")},recompute:function(){this.compute()},close:function(){var t=this,n=e(this.element),o=n.find("img").first(),i=n.find(".fluidbox__ghost"),a=n.find(".fluidbox__wrap"),s=n.find(".fluidbox__overlay");return null===t.instanceData.state||typeof t.instanceData.state==typeof r||0===t.instanceData.state?!1:(t.instanceData.state=0,n.trigger("closestart.fluidbox"),n.removeClass(function(e,t){return(t.match(/(^|\s)fluidbox--(opened|loaded|loading)+/g)||[]).join(" ")}).addClass("fluidbox--closed"),i.css({transform:"translate(0,0) scale(1,1)",top:o.offset().top-a.offset().top+parseInt(o.css("borderTopWidth"))+parseInt(o.css("paddingTop")),left:o.offset().left-a.offset().left+parseInt(o.css("borderLeftWidth"))+parseInt(o.css("paddingLeft"))}),n.find(".fluidbox__loader").css({transform:"none"}),i.one(d,function(){i.css({opacity:0}),o.css({opacity:1}),s.remove(),a.css({zIndex:t.settings.stackIndex-t.settings.stackIndexDelta}),n.trigger("closeend.fluidbox")}),void s.css({opacity:0}))},bindEvents:function(){var t=this,n=e(this.element);n.on("click.fluidbox",function(e){e.preventDefault(),t.instanceData.state&&0!==t.instanceData.state?t.close():t.open()})},bindListeners:function(){var t=this,n=e(this.element),r=function(){p.measure.viewport(),p.measure.fbElements.call(t),n.hasClass("fluidbox--opened")&&t.compute()};e.isFunction(e.throttle)?i.on("resize.fluidbox"+t.instanceData.id,e.throttle(t.settings.resizeThrottle,r)):i.on("resize.fluidbox"+t.instanceData.id,r),n.on("reposition.fluidbox",function(){t.reposition()}),n.on("recompute.fluidbox, compute.fluidbox",function(){t.compute()}),n.on("destroy.fluidbox",function(){t.destroy()}),n.on("close.fluidbox",function(){t.close()})},unbind:function(){e(this.element).off("click.fluidbox reposition.fluidbox recompute.fluidbox compute.fluidbox destroy.fluidbox close.fluidbox"),i.off("resize.fluidbox"+this.instanceData.id)},reposition:function(){p.measure.fbElements.call(this)},destroy:function(){var t=this.instanceData.originalNode;this.unbind(),e.data(this.element,"plugin_"+a,null),e(this.element).removeClass(function(e,t){return(t.match(/(^|\s)fluidbox[--|__]\S+/g)||[]).join(" ")}).empty().html(t).addClass("fluidbox--destroyed").trigger("destroyed.fluidbox")},getMetadata:function(){return this.instanceData}}),e.fn[a]=function(t){var n=arguments;if(t===r||"object"==typeof t)return this.each(function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,new o(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var i;return this.each(function(){var r=e.data(this,"plugin_"+a);r instanceof o&&"function"==typeof r[t]?i=r[t].apply(r,Array.prototype.slice.call(n,1)):console.warn('Fluidbox: The method "'+t+'" used is not defined in Fluidbox. Please make sure you are calling the correct public method.')}),i!==r?i:this}return this}}(jQuery,window,document),define("lib/fluidbox/dist/js/jquery.fluidbox.min",function(){}),define("lib-build/css!lib/fluidbox/dist/css/fluidbox.min",[],function(){}),define("storymaps-react/tpl/view/media/ImageGallery",["module","exports","./Media","lib-build/hbars!./ImageGallery","lib-build/less!./ImageGallery","lib/jquery/dist/jquery.min","lib/fluidbox/dist/js/jquery.fluidbox.min","lib-build/css!lib/fluidbox/dist/css/fluidbox.min"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,{type:"image-gallery",id:null,previewThumb:null,previewIcon:null}));return n._images=e,n._placement=null,n}return s(t,e),c(t,[{key:"render",value:function(e){return this._images&&e&&"block"==e.placement?(this._placement=e.placement,this._render()):(console.log("Could not render image gallery in section"),"")}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.container&&(this._node=e.container.find("#"+this._domID))}},{key:"load",value:function(){this._isLoaded||(this._isLoaded=!0,this._node.find(".image-gallery-item").each(function(){var e=$(this),t=e.find(".image-gallery-img-hidden"),n=e.find(".image-gallery-img"),r=t.parent();t.attr("src",e.data("src")),n.css("backgroundImage",'url("'+e.data("src")+'"');var o=function i(){r.trigger("close.fluidbox"),$(window).off("scroll",i)};r.on("openend.fluidbox",function(){$(window).scroll(o)}).fluidbox({maxWidth:app.display.windowWidth})}))}},{key:"performAction",value:function(){}},{key:"_update",value:function(){this._node.html(this._render()),this._isLoaded=!1,this.load()}},{key:"_render",value:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=this._images.images[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.width/a.height,l=(app.display.windowWidth-140)/2-30,c=Math.round(l/s);e=Math.max(e,c)}}catch(d){n=!0,r=d}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return e+=51,(0,u["default"])({id:this._domID,height:e,images:this._images.images,caption:this._images.caption})}}]),t}(l["default"]);t["default"]=d,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/VideoBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.domId||(null!=e?e.domId:e))?o:a,typeof o===i?o.call(e,{name:"domId",hash:{},data:r}):o))+'" class="block block-type-video" style="position: relative;">\r\n  <div class="block-media">\r\n    <div class="video-fg video-player" data-source="'+s((o=null!=(o=t.source||(null!=e?e.source:e))?o:a,typeof o===i?o.call(e,{name:"source",hash:{},data:r}):o))+'" data-id="'+s((o=null!=(o=t.videoId||(null!=e?e.videoId:e))?o:a,typeof o===i?o.call(e,{name:"videoId",hash:{},data:r}):o))+'"></div>\r\n    <div class="builder-ui media-cfg-invite"></div>\r\n  </div>\r\n  <div class="builder-ui media-cfg-panel"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/VideoBackground",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.domId||(null!=e?e.domId:e))?o:a,typeof o===i?o.call(e,{name:"domId",hash:{},data:r}):o))+'" class="video-viewport">\r\n  <div class="video video-player" data-source="'+s((o=null!=(o=t.source||(null!=e?e.source:e))?o:a,typeof o===i?o.call(e,{name:"source",hash:{},data:r}):o))+'" data-id="'+s((o=null!=(o=t.videoId||(null!=e?e.videoId:e))?o:a,typeof o===i?o.call(e,{name:"videoId",hash:{},data:r}):o))+'"></div>\r\n</div>\r\n<div class="builder-ui media-cfg-invite"></div>\r\n<div class="builder-ui media-cfg-panel"></div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/VideoVimeo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<iframe id="'+s((o=null!=(o=t.domId||(null!=e?e.domId:e))?o:a,typeof o===i?o.call(e,{name:"domId",hash:{},data:r}):o))+'" class="'+s((o=null!=(o=t.classes||(null!=e?e.classes:e))?o:a,typeof o===i?o.call(e,{name:"classes",hash:{},data:r}):o))+'" src="'+s((o=null!=(o=t.url||(null!=e?e.url:e))?o:a,typeof o===i?o.call(e,{name:"url",hash:{},data:r}):o))+'" style="'+s((o=null!=(o=t.options||(null!=e?e.options:e))?o:a,typeof o===i?o.call(e,{name:"options",hash:{},data:r}):o))+'"></iframe>\r\n'+s((o=null!=(o=t.playerControls||(null!=e?e.playerControls:e))?o:a,typeof o===i?o.call(e,{name:"playerControls",hash:{},data:r}):o))+"\r\n"},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/Video",[],function(){});var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=JSON.stringify({method:e,value:t});n.contentWindow.postMessage(r,u)}function n(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(r){}if("ready"!=n||l||(l=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===u&&(u=e.origin);var i=t.value,a=t.data,s=""===s?null:t.player_id,c=o(n,s),d=[];return c?(void 0!==i&&d.push(i),a&&d.push(a),s&&d.push(s),d.length>0?c.apply(null,d):c.call()):!1}function r(e,t,n){n?(s[n]||(s[n]={}),s[n][e]=t):s[e]=t}function o(e,t){return t?s[t][e]:s[e]}function i(e,t){if(t&&s[t]){if(!s[t][e])return!1;s[t][e]=null}else{if(!s[e])return!1;s[e]=null}return!0}function a(e){return!!(e&&e.constructor&&e.call&&e.apply)}var s={},l=!1,u=(Array.prototype.slice,"*");return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,n){if(!this.element||!e)return!1;var o=this,i=o.element,s=""!==i.id?i.id:null,l=a(n)?null:n,u=a(n)?n:null;return u&&r(e,u,s),t(e,l,i),o},addEvent:function(e,n){if(!this.element)return!1;var o=this,i=o.element,a=""!==i.id?i.id:null;return r(e,n,a),"ready"!=e?t("addEventListener",e,i):"ready"==e&&l&&n.call(null,a),o},removeEvent:function(e){if(!this.element)return!1;var n=this,r=n.element,o=""!==r.id?r.id:null,a=i(e,o);"ready"!=e&&a&&t("removeEventListener",e,r)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=e}();if(define("lib/froogaloop/froogaloop",function(){}),define("storymaps-react/tpl/view/media/Video",["module","exports","./Media","lib-build/hbars!./VideoBlock","lib-build/hbars!./VideoBackground","lib-build/hbars!./VideoVimeo","dojo/Deferred","lib-build/less!./Video","lib/froogaloop/froogaloop"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function _(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:_(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y={ratio:16/9},b="resources/tpl/builder/icons/media-placeholder/video.png",w="resources/tpl/builder/icons/immersive-panel/video.png",C=function(e){function t(e){l(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,{type:"video",id:e.source+"-"+e.id,previewThumb:b,previewIcon:w}));return n._video=e,n._source=e.source,n._videoid=e.id,n._soundLevelPreImmersive=null,n._placement=null,n._videoPlayer=null,n._loadDeferred=null,n._video.options||(n._video.options={}),n}return c(t,e),v(t,[{key:"render",value:function(e){var t="";return this._video&&e?(this._placement=e.placement,"block"==this._placement?t+=(0,p["default"])({domId:this._domID,source:this._source,videoId:this._videoid}):"background"==this._placement&&(t+=(0,f["default"])({domId:this._domID,source:this._source,videoId:this._videoid})),t):(console.log("Could not render video in section"),t)}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&(this._node=e.container.find("#"+this._domID),this._nodeMedia=this._node.find(".video-player"),this._applyConfig())}},{key:"getNode",value:function(){return this._node}},{key:"_applyConfig",value:function(){var e=this._video.options;g(Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e)}},{key:"load",value:function(){if(this._loadDeferred=new m["default"],this._isLoaded)return this._loadDeferred.resolve(),this._loadDeferred;this._isLoaded=!0;var e="0",t="";if("background"==this._placement?e="1":this._video.options&&"simple"==this._video.options.ui&&(e="1",t='<div class="player-controls"><button class="play">play/pause</button>&nbsp;&nbsp;&nbsp;<button class="mute">mute/unmute</button></div>'),"vimeo"==this._source){var n="foreground"==this._placement?"video-fg video-player":"video",r=$((0,h["default"])({domId:"player-"+this._domID,classes:n+" initialized",url:"https://player.vimeo.com/video/"+this._videoid+"?api=1&background="+e+"&player_id=player-"+this._domID,options:this._video.options,playerControls:t}));this._nodeMedia.replaceWith(r),this._nodeMedia=r,this._videoPlayer=$f(r[0]),this._videoPlayer.addEvent("ready",this._onVimeoPlayerReady.bind(this))}else"youtube"==this._video.source&&(this._videoPlayer=new window.YT.Player($(".video-player[data-id="+this._video.id+"]")[0],{height:"",width:"",loop:1,playlist:this._video.id,events:{onReady:function(e){this._onYoutubePlayerReady(e,this._video.id)}.bind(this)}}));return this._loadDeferred}},{key:"resize",value:function(e){"background"==this._placement&&this._resizeVideoBackground(e)}},{key:"performAction",value:function(e){this._videoPlayer&&("vimeo"==this._video.source?e.isActive?("background"==this._placement&&(this._videoPlayer.api("getVolume",function(e){1!=e&&(this._soundLevelPreImmersive=e)}.bind(this)),e.visibilityProgress&&this._videoPlayer.api("setVolume",e.visibilityProgress)),this._videoPlayer.api("play")):e.visibilityProgress>.1?this._videoPlayer.api("setVolume",e.visibilityProgress):"background"==this._placement?null!=this._soundLevelPreImmersive&&this._videoPlayer.api("setVolume",this._soundLevelPreImmersive):this._videoPlayer.api("pause"):e.visible?this._videoPlayer.playVideo():this._videoPlayer.pauseVideo())}},{key:"_onVimeoPlayerReady",value:function(){return"block"==this._placement?(this._videoPlayer.api("setVolume",0),void this._videoPlayer.api("pause")):(this._videoPlayer.api("setVolume",0),this._videoPlayer.api("play"),this._videoPlayer.api("setLoop",!0),this._loadDeferred.resolve(),void this.resize())}},{key:"_onYoutubePlayerReady",value:function(e,t){"block"==this._placement&&this._videoPlayer.mute(),this._videoPlayer.loadVideoById(t),this._videoPlayer.setLoop(!0),this._videoPlayer.pauseVideo(),this._resultDeferred.resolve(),this.resize()}},{key:"_resizeVideoBackground",value:function(e){e=e||{windowWidth:app.display.windowWidth,windowHeight:app.display.windowHeight};var t=-1,n=-1,r=app.display.windowWidth,o=app.display.windowHeight+60,i=r/o;i<y.ratio?(t=o*y.ratio,n=o):(t=r,n=t/y.ratio),this._nodeMedia.css({width:t,height:n}),this._nodeMedia.parent().css({width:r,height:o}),this._nodeMedia.parent().scrollLeft((t-r)/2),this._nodeMedia.parent().scrollTop((n-o)/2)}}]),t}(d["default"]);t["default"]=C,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebMapBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" contenteditable="false" class="'+s((o=null!=(o=t.classes||(null!=e?e.classes:e))?o:a,typeof o===i?o.call(e,{name:"classes",hash:{},data:r}):o))+'">\r\n  <div class="block-media">\r\n    <div class="map" data-id="'+s((o=null!=(o=t.webmapId||(null!=e?e.webmapId:e))?o:a,
typeof o===i?o.call(e,{name:"webmapId",hash:{},data:r}):o))+'" data-options="'+s((o=null!=(o=t.options||(null!=e?e.options:e))?o:a,typeof o===i?o.call(e,{name:"options",hash:{},data:r}):o))+'"></div>\r\n    <div class="enable-button-container"><button class="btn btn-default btn-sm">Enable navigation</button></div>\r\n    <div class="builder-ui media-cfg-invite"></div>\r\n    <div class="layer-list-container"></div>\r\n  </div>\r\n  <div class="builder-ui media-cfg-panel"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebMapBackground",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div class="map" data-id="'+s((o=null!=(o=t.webmapId||(null!=e?e.webmapId:e))?o:a,typeof o===i?o.call(e,{name:"webmapId",hash:{},data:r}):o))+'"></div>\r\n<div class="enable-button-container">\r\n  <button class="btn btn-default btn-sm">\r\n    <span class="glyphicon glyphicon-fullscreen"></span>\r\n    Enable navigation\r\n  </button>\r\n</div>\r\n<div class="builder-ui media-cfg-invite"></div>\r\n<div class="builder-ui media-cfg-panel"></div>\r\n<div class="layer-list-container"></div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/WebMap",[],function(){}),define("storymaps-react/tpl/view/media/WebMap",["module","exports","./Media","lib-build/hbars!./WebMapBlock","lib-build/hbars!./WebMapBackground","esri/arcgis/utils","esri/geometry/Extent","esri/symbols/SimpleMarkerSymbol","esri/geometry/webMercatorUtils","esri/geometry/Point","dojo/_base/lang","dojo/Deferred","lib-build/less!./WebMap"],function(e,t,n,r,o,i,a,s,l,u,c,d){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var v=p(n),g=p(r),y=p(o),b=p(i),w=p(a),C=p(s),_=p(l),x=p(u),E=p(c),T=p(d),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function N(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:N(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},S="resources/tpl/builder/icons/media-placeholder/map.png",O="resources/tpl/builder/icons/immersive-panel/map.png",I=function(e){function t(e){f(this,t);var n=h(this,Object.getPrototypeOf(t).call(this,{type:"webmap",id:e.id,previewThumb:S,previewIcon:O}));return n._webmap=e,n._bookmarks=null,n._placement=null,n._swipeLayersNodes=[],n._swipePreviousWebMapLayers=null,n._webmap.options||(n._webmap.options={}),n}return m(t,e),k(t,[{key:"render",value:function(e){var t="";if(!this._webmap||!e)return console.log("Could not render webmap in section"),t;if(this._placement=e.placement,"block"==this._placement){var n=JSON.stringify({extent:this._webmap.extent,layers:this._webmap.layers,legend:this._webmap.legend,layers2:this._webmap.layers2}),r=["block","block-type-webmap"];this._webmap["enable-button"]&&r.push("enable-button"),t+=(0,g["default"])({id:this._domID,webmapId:this.id,classes:r.join(" "),options:n})}else t+=(0,y["default"])({webmapId:this.id});return t}},{key:"_applyConfig",value:function(){var e=this._webmap.options;P(Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e);var n=!app.isInBuilder&&this._webmap.extent;app.isInBuilder&&(n=null==this._webmap.extent),this.performAction({allowExtentUpdate:n}).then(function(){app.isInBuilder&&this._configTabWebMap.attachEvents()}.bind(this),function(){})}},{key:"load",value:function(){var e=new T["default"];if(this._node&&!this._isLoaded)return this._isLoaded=!0,this.loadMap(this._node.find(".map")[0],e),this._node.find(".enable-button-container").click(this.onEnableButtonClick),e}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];P(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&("block"==this._placement?this._node=e.container.find("#"+this._domID):this._node=e.container.find('.map[data-id="'+this.id+'"]').parent(),this._applyConfig())}},{key:"getNode",value:function(){return this._node}},{key:"resize",value:function(){}},{key:"performAction",value:function(e){var t=new T["default"],n=this._cache[this.id]?this._cache[this.id].map:null;if(!n)return t.reject(),t;n.infoWindow&&n.infoWindow.hide();var r=this._webmap;if(e.allowExtentUpdate){var o=null;o=r.extent?new w["default"](r.extent):this._getWebMapExtentFromItemExtent(this._cache[this.id].itemInfo.item.extent),n.setExtent(o,!1).then(function(){t.resolve()},function(){t.resolve()})}else t.resolve();if(r.layers){var i=r.layers,a=this._cache[r.id].itemInfo.itemData.operationalLayers;$.each(a,function(e,t){var n;t.layerObject?(n=$(i).filter(function(e,n){return n.id==t.layerObject.id}),t.layerObject.setVisibility(n.length?n[0].visibility:t.visibility)):t.featureCollection&&t.featureCollection.layers&&$.each(t.featureCollection.layers,function(e,t){n=$(i).filter(function(e,n){return n.id.split("_").slice(0,-1).join("_")==t.layerObject.id.split("_").slice(0,-1).join("_")}),t.layerObject.setVisibility(n.length?n[0].visibility:t.visibility)})})}if(this._swipeLayersNodes&&this._swipeLayersNodes.length){var s=app.display.windowHeight-e.scrollPositionView,l=125;app.isInBuilder&&(s-=l),e.isActive||(s=app.display.windowHeight);var u=!0,c=!1,d=void 0;try{for(var p,f=this._swipeLayersNodes[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,m=h.node,v=s,g=app.display.windowWidth,y=app.display.windowHeight,b=0;if(!h.isSVGLayer){var C=m.position();v+=-C.top,g+=-C.left,y+=-C.top,b+=-C.left}m.css("clip","rect("+v+"px,"+g+"px,"+y+"px,"+b+"px)"),m.data("sm-swipe-pos",s)}}catch(_){c=!0,d=_}finally{try{!u&&f["return"]&&f["return"]()}finally{if(c)throw d}}}return t}},{key:"loadMap",value:function(e,t){console.log("Loading map");var n={mapOptions:{smartNavigation:!1}};this._webmap.extent&&(n.mapOptions.extent=new w["default"](this._webmap.extent)),$(e).css("pointer-events","none"),b["default"].createMap(this.id,e,n).then(E["default"].hitch(this,function(n){var r=n.map;console.log("createMap ok",n),$(e).css("pointer-events",""),r.disableScrollWheelZoom(),r.reposition(),r.resize(),this._cache[this.id]=n,app.isInBuilder&&this._onWebMapLoaded(),this._bookmarks=n.itemInfo.itemData.bookmarks,r.infoWindow&&(r.infoWindow.markerSymbol=(new C["default"]).setSize(0)),t.resolve(this.id),this._applyConfig()}))}},{key:"postLoad",value:function(){var e=this._cache[this.id].map;this._swipePreviousWebMapLayers&&this._swipePreviousWebMapLayers.length&&this.computeSwipeLayers(this._swipePreviousWebMapLayers),e.on("pan",function(){if(this._swipeLayersNodes&&this._isActive){var e=!0,t=!1,n=void 0;try{for(var r,o=this._swipeLayersNodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.node,s=a.data("sm-swipe-pos"),l=s,u=app.display.windowWidth,c=app.display.windowHeight,d=0;if(!i.isSVGLayer){var p=a.position();l+=-p.top,u+=-p.left,c+=-p.top,d+=-p.left}a.css("clip","rect("+l+"px,"+u+"px,"+c+"px,"+d+"px)")}}catch(f){t=!0,n=f}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}})}},{key:"computeSwipeLayers",value:function(e){if(this._swipeLayersNodes=[],this._swipePreviousWebMapLayers=[],e=e||[],this._webmap.layers=this._webmap.layers||[],!this._cache[this.id])return void(this._swipePreviousWebMapLayers=E["default"].clone(e));var t=[],n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t.push(JSON.stringify(l))}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}var c=!0,d=!1,p=void 0;try{for(var f,h=this._webmap.layers[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value;n.push(JSON.stringify(m))}}catch(u){d=!0,p=u}finally{try{!c&&h["return"]&&h["return"]()}finally{if(d)throw p}}var v=new Set(t),g=n.filter(function(e){return!v.has(e)}),y=!0,b=!0,w=!1,C=void 0;try{for(var _,x=g[Symbol.iterator]();!(b=(_=x.next()).done);b=!0){var T=_.value,k=JSON.parse(T).id,P=this._cache[this.id].map.getLayer(k)._div,S=!1;if(P.rawNode){if(!y)continue;P=$(P.rawNode).parent()[0],S=!0,y=!1}this._swipeLayersNodes.push({node:$(P),isSVGLayer:S})}}catch(u){w=!0,C=u}finally{try{!b&&x["return"]&&x["return"]()}finally{if(w)throw C}}console.log("**",this._swipeLayersNodes)}},{key:"getLayersConfiguration",value:function(){return this._webmap.layers}},{key:"onEnableButtonClick",value:function(){var e=$(this).parents(".background");e.hasClass("enable-events")?(e.removeClass("enable-events"),$(this).find("button").html('<span class="glyphicon glyphicon-fullscreen"></span> Enable navigation')):(e.addClass("enable-events"),$(this).find("button").html("Disable navigation"))}},{key:"_getWebMapExtentFromItemExtent",value:function(e){if(!e||2!=e.length)return null;var t=_["default"].geographicToWebMercator(new x["default"](e[0][0],e[0][1])),n=_["default"].geographicToWebMercator(new x["default"](e[1][0],e[1][1]));return new w["default"]({xmax:n.x,xmin:t.x,ymax:n.y,ymin:t.y,spatialReference:{wkid:102100}})}}]),t}(v["default"]);t["default"]=I,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebSceneBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" contenteditable="false" class="block block-type-webscene">\r\n  <div class="block-media">\r\n    <div class="scene" data-id="'+s((o=null!=(o=t.websceneId||(null!=e?e.websceneId:e))?o:a,typeof o===i?o.call(e,{name:"websceneId",hash:{},data:r}):o))+'"></div>\r\n    <div class="enable-button-container"><button class="btn btn-default btn-sm">Enable navigation</button></div>\r\n    <div class="builder-ui media-cfg-invite"></div>\r\n  </div>\r\n  <div class="builder-ui media-cfg-panel"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebSceneBackground",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" class="scene" data-id="'+s((o=null!=(o=t.websceneId||(null!=e?e.websceneId:e))?o:a,typeof o===i?o.call(e,{name:"websceneId",hash:{},data:r}):o))+'" data-scroll="'+s((o=null!=(o=t.scroll||(null!=e?e.scroll:e))?o:a,typeof o===i?o.call(e,{name:"scroll",hash:{},data:r}):o))+'"></div>\r\n<div class="builder-ui media-cfg-invite"></div>\r\n<div class="builder-ui media-cfg-panel"></div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/WebScene",[],function(){}),define("storymaps-react/tpl/view/media/WebScene",["module","exports","./Media","lib-build/hbars!./WebSceneBlock","lib-build/hbars!./WebSceneBackground","storymaps/tpl/utils/UI","lib-build/less!./WebScene"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},v="resources/tpl/builder/icons/media-placeholder/scene.png",g="resources/tpl/builder/icons/immersive-panel/scene.png",y=function(e){function t(e){s(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,{type:"webscene",id:e.id,previewThumb:v,previewIcon:g}));return n._webscene=e,n._placement=null,n._webscene.options||(n._webscene.options={}),n}return u(t,e),h(t,[{key:"render",value:function(e){var t="";if(!this._webscene||!e)return console.log("Could not render webscene in section"),t;if(this._placement=e.placement,"background"==e.placement){var n=!!this._webscene["scroll-slide"],r="";if(this._webscene["enable-button"]&&(r+=" enable-button"),!f["default"].hasWebGL()||f["default"].isMobileBrowser())throw"RUNTIME-NO-WEBGL";t+=(0,p["default"])({id:this._domID,websceneId:this.id,scroll:n})}else t+=(0,d["default"])({id:this._domID,websceneId:this.id});return t}},{key:"_applyConfig",value:function(){var e=this._webscene.options;m(Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e),this.performAction(),app.isInBuilder&&this._configTabWebScene&&this._configTabWebScene.attachEvents()}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];m(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&("block"==this._placement?this._node=e.container.find("#"+this._domID):this._node=e.container.find('.scene[data-id="'+this.id+'"]').parent(),this._applyConfig())}},{key:"getNode",value:function(){return this._node}},{key:"load",value:function(){this._node&&!this._isLoaded&&(this._isLoaded=!0,console.log("scene: "+this.id),require(["esri4/config","esri4/identity/IdentityManager","esri4/identity/OAuthInfo","esri4/portal/Portal","esri4/views/SceneView","esri4/portal/PortalItem","esri4/WebScene","esri4/core/watchUtils","lib-build/css!esri4/css/main.css"],function(e,t,n,r,o,i,a,s){function l(){var e=new a({portalItem:new i({id:this.id})}),t=new o({map:e,container:this._node.find(".scene")[0],ui:{components:[]}});this._cache[this.id]={scene:e,view:t},t.surface.addEventListener("wheel",function(e){e.stopImmediatePropagation()},!0),void 0!==this._webscene.slide?s.init(e,"presentation.slides",function(e){e&&e.items&&e.items.length&&e.items[this._webscene.slide].applyTo(t),app.isInBuilder&&this._onWebSceneLoaded()}.bind(this)):app.isInBuilder&&this._onWebSceneLoaded()}var u=app.indexCfg.sharingurl.split("/sharing/")[0];e.portalUrl=u;var c=new n({appId:app.indexCfg.oAuthAppId,popup:!1,portalUrl:"https:"+u});t.registerOAuthInfos([c]),t.checkSignInStatus(c.portalUrl+"/sharing").then(l.bind(this),l.bind(this))}.bind(this)))}},{key:"performAction",value:function(){var e=this._cache[this.id],t=e?e.scene:null,n=e?e.view:null;t&&n&&n.ready&&(console.log("performAction",this._webscene.slide),void 0!==this._webscene.slide&&this._webscene.slide<=t.presentation.slides.items.length&&t.presentation.slides.items[this._webscene.slide].applyTo(n))}},{key:"resize",value:function(){}}]),t}(c["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebPageBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" contenteditable="false" class="block block-webpage scroll-off">\r\n  <div class="block-media">\r\n    <iframe class="webpage" src="'+s((o=null!=(o=t.url||(null!=e?e.url:e))?o:a,typeof o===i?o.call(e,{name:"url",hash:{},data:r}):o))+'"></iframe>\r\n    <div class="builder-ui media-cfg-invite"></div>\r\n  </div>\r\n  <div class="builder-ui media-cfg-panel"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebPageBackground",["Handlebars"],function(e){return e.template({1:function(e,t,n,r){return'    <div class="enable-button-container">\r\n      <button class="btn btn-default btn-sm">\r\n        <span class="glyphicon glyphicon-fullscreen"></span>\r\n        Enable media\r\n      </button>\r\n    </div>\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'" class="'+l((i=null!=(i=t.classes||(null!=e?e.classes:e))?i:s,typeof i===a?i.call(e,{name:"classes",hash:{},data:r}):i))+'">\r\n  <iframe class="webpage" data-src="'+l((i=null!=(i=t.url||(null!=e?e.url:e))?i:s,typeof i===a?i.call(e,{name:"url",hash:{},data:r}):i))+'" style="width: 100%; height: 100%;"></iframe>\r\n';return o=t["if"].call(e,null!=e?e.enableButton:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+'</div>\r\n<div class="builder-ui media-cfg-invite"></div>\r\n<div class="builder-ui media-cfg-panel"></div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/WebPage",[],function(){}),define("storymaps-react/tpl/view/media/WebPage",["module","exports","./Media","lib-build/hbars!./WebPageBlock","lib-build/hbars!./WebPageBackground","storymaps/tpl/utils/UI","lib-build/less!./WebPage"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},v="resources/tpl/builder/icons/media-placeholder/webpage.png",g="resources/tpl/builder/icons/immersive-panel/webpage.png",y=function(e){function t(e){s(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,{type:"webpage",id:e.url,previewThumb:v,previewIcon:g}));return n._webpage=e,n._url=e.url,n._nodeMedia=null,n._placement=null,n._webpage.options||(n._webpage.options={}),n}return u(t,e),h(t,[{key:"getNode",value:function(){return this._node}},{key:"render",value:function(e){var t="";if(!this._webpage||!e)return console.log("Could not render webpage in section"),t;if(this._placement=e.placement,"block"==this._placement)t+=(0,d["default"])({id:this._domID,url:this._url});else if("background"==e.placement){var n="";if(this._webpage.requirements&&this._webpage.requirements.indexOf("WEBGL")>-1&&(!f["default"].hasWebGL()||f["default"].isMobileBrowser()))throw"RUNTIME-NO-WEBGL";this._webpage["enable-button"]&&(n+=" enable-button"),t+=(0,p["default"])({id:this._domID,url:this._url,classes:"webpage-container"+n,enableButton:this._webpage["enable-button"]})}return t}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];m(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&("block"==this._placement?(this._node=e.container.find("#"+this._domID),this._nodeMedia=this._node.find("iframe")):(this._nodeMedia=e.container.find('.webpage[data-src="'+this._url+'"]'),this._node=this._nodeMedia.parents(".background").eq(0)),this._applyConfig())}},{key:"_applyConfig",value:function(){var e=this._webpage.options;m(Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e)}},{key:"load",value:function(){this._nodeMedia&&!this._isLoaded&&(this._isLoaded=!0,this._nodeMedia.parent(".webpage-container").addClass("initialized"),console.log("webpage: "+this._nodeMedia.data("src")),this._nodeMedia.attr("src",this._nodeMedia.data("src")),this._nodeMedia.siblings(".enable-button-container").click(this._onEnableButtonClick.bind(this)),this._node.on("mouseup",function(){this._node.addClass("scroll-off")}.bind(this)),this._node.on("mousedown",function(){this._node.removeClass("scroll-off")}.bind(this)),this._node.mouseleave(function(){this._node.addClass("scroll-off")}.bind(this)),this._nodeMedia.mouseleave(function(){this._node.addClass("scroll-off")}.bind(this)))}},{key:"performAction",value:function(e){if(e&&e.viewIndex&&e.isActive)try{this._nodeMedia[0].contentWindow.performAction(e.viewIndex)}catch(t){}}},{key:"_onEnableButtonClick",value:function(){this._node.hasClass("enable-events")?(this._node.removeClass("enable-events"),this._node.find("button").html('<span class="glyphicon glyphicon-fullscreen"></span> Enable chapter')):(this._node.addClass("enable-events"),this._node.find("button").html("Back to story"))}}]),t}(c["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/Empty",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" class="media-empty">\r\n  <div class="media-empty-add">\r\n    <img src="resources/tpl/builder/icons/text-editor/Media.png" />\r\n    <div class="media-empty-label">'+s((o=null!=(o=t.label||(null!=e?e.label:e))?o:a,typeof o===i?o.call(e,{name:"label",hash:{},data:r}):o))+"</div>\r\n  </div>\r\n</div>\r\n"},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/Empty",[],function(){}),define("storymaps-react/tpl/view/media/Empty",["module","exports","./Media","lib-build/hbars!./Empty","lib-build/less!./Empty"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="resources/tpl/builder/icons/immersive-panel/image.png",p=function(e){function t(){i(this,t);var e=a(this,Object.getPrototypeOf(t).call(this,{type:"empty",id:null,previewThumb:d,previewIcon:d}));return e._onEdit=null,e}return s(t,e),c(t,[{key:"render",value:function(e){return e?"block"==e.placement?"":app.isInBuilder?(0,u["default"])({id:this._domID,label:"Add media"}):"<div id="+this._domID+' style="height: 100%; background-color: #FFF;"></div>':(console.log("Could not render webmap in section"),"")}},{key:"load",value:function(){}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.container&&e.onEdit&&(this._node=e.container.find("#"+this._domID).parent(),this._node.find(".media-empty-add").click(this.onPickMedia.bind(this)),this._onEdit=e.onEdit)}},{key:"resize",value:function(){}},{key:"getNode",value:function(){return this._node}},{key:"performAction",value:function(){}},{key:"serialize",value:function(){return{type:"empty",empty:"empty"}}},{key:"onPickMedia",value:function(){app.builder.mediaPicker.open({mode:"add"}).then(function(e){this._onEdit(e)}.bind(this))}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/view/media/Color",[],function(){}),define("storymaps-react/tpl/view/media/Color",["module","exports","./Media","lib-build/less!./Color"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,{type:"color",id:null,previewThumb:"",previewIcon:""}));return n._color=e,n}return a(t,e),l(t,[{key:"render",value:function(e){return this._color&&e?'<div class="media-color" style="background-color: '+this._color.value+'"></div>':(console.log("Could not render color in section"),"")}},{key:"load",value:function(){}},{key:"serialize",value:function(){return{type:"color",color:this._color}}}]),t}(s["default"]);t["default"]=u,e.exports=t["default"]}),define("lib-build/css!storymaps/tpl/view/media/Credits",[],function(){}),define("storymaps/tpl/view/media/Credits",["lib-build/css!./Credits"],function(){return function(e){function t(e){var t="";return t+='<div class="cred-container"><table>',$.each(e,function(e,n){t+='<tr class="cred-row">',t+=' <td class="cred-lbl">'+n.label+"</td>",t+=' <td class="cred-link">'+n.link+"</td>",t+="</tr>"}),t+="</table></div>"}this.render=function(n){var r="";return e&&n?(r+='<div style="width: 80%; margin: auto; margin-bottom: 25px; margin-top: 15px;">',e.col1&&(r+=t(e.col1)),e.col2&&(r+=t(e.col2)),r+="</div>"):(console.log("Could not render credits block in section"),r)}}}),define("lib-build/css!storymaps/tpl/view/media/Discover",[],function(){}),define("storymaps/tpl/view/media/Discover",["lib-build/css!./Discover"],function(){return function(e){this.render=function(t){var n="";return e&&t?(n+='<div class="discover">',n+=" <strong>"+e.title+"</strong>",n+=" <table><tr>",$.each(e.items,function(e,t){n+='<td><div class="discover-item"><a href="'+t.url+'" target="_blank"><img src="'+t.thumbnail+'" /><div>'+t.title+"</div></a></div></td>"}),n+=" </tr></table>",n+="</div>"):(console.log("Could not render Discover block in section"),n)}}}),define("storymaps-react/tpl/view/media/FactoryViewer",["module","exports","./Text","./Image","./ImageGallery","./Video","./WebMap","./WebScene","./WebPage","./Empty","./Color","storymaps/tpl/view/media/Credits","storymaps/tpl/view/media/Discover"],function(e,t,n,r,o,i,a,s,l,u,c,d,p){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var m=f(n),v=f(r),g=f(o),y=f(i),b=f(a),w=f(s),C=f(l),_=f(u),x=f(c),E=f(d),T=f(p),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(){function e(){h(this,e)}return k(e,null,[{key:"getClasses",value:function(){return{Text:m["default"],Image:v["default"],ImageGallery:g["default"],Video:y["default"],WebMap:b["default"],WebScene:w["default"],WebPage:C["default"],Empty:_["default"],Color:x["default"],Credits:E["default"],Discover:T["default"]}}},{key:"createInstance",value:function(e,t){var n=this._parseMedia(e.type,e,t);if(n.setCache&&t&&n.setCache(t),e.alternate){var r=this._parseMedia(e.alternate,e,t);r.setCache&&t&&r.setCache(t),n.setAlternate(r)}return n}},{key:"_parseMedia",value:function(e,t){var n=null;if(e&&!t[e])return console.error("Invalid json for: ",t),n;var r=this.getClasses();return"text"==e?n=new r.Text(t.text):"image"==e?n=new r.Image(t.image):"image-gallery"==e?n=new r.ImageGallery(t["image-gallery"]):"video"==e?n=new r.Video(t.video):"webmap"==e?n=new r.WebMap(t.webmap):"webscene"==e?n=new r.WebScene(t.webscene):"webpage"==e?n=new r.WebPage(t.webpage):"color"==e?n=new r.Color(t.color):"credits"==e?n=new r.Credits(t.credits):"discover"==e?n=new r.Discover(t.discover):"empty"==e?n=new r.Empty(t.empty):console.error("Could not find corresponding media for: ",t),n}}]),e}();t["default"]=P,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/PanelInvite",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-invite-background"></div>\r\n<i class="builder-invite-open fa fa-cog" aria-hidden="true"></i>\r\n<i class="builder-invite-close fa fa-check" aria-hidden="true"></i>\r\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/PanelConfig",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config">\r\n  <div class="config-main">\r\n    <ul class="builder-tabs"></ul>\r\n    <div class="config-content">\r\n      <div class="builder-active-tab"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/builder/Panel",[],function(){}),define("storymaps-react/tpl/view/media/builder/Panel",["module","exports","lib-build/hbars!./PanelInvite","lib-build/hbars!./PanelConfig","lib-build/less!./Panel"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t){i(this,e),t=t||{},t.containerInvite&&t.containerPanel&&t.tabs&&t.media&&t.onChange&&t.onAction&&(this._nodeInvite=t.containerInvite,this._nodePanel=t.containerPanel,this._tabs=t.tabs,this._media=t.media,this._onChange=t.onChange,this._onToggle=t.onToggle,this._onAction=t.onAction,this._closeBtnStyle=t.closeBtnStyle,this.selectedClass="selected",this._init())}return u(e,[{key:"_init",value:function(){var e=this;this._nodeInvite.removeClass("active").html((0,a["default"])({})),this._nodePanel.removeClass("active").html((0,s["default"])({})),this._nodeInvite.off("click").click(this._toggleConfigPanel.bind(this));for(var t=this._nodePanel.find(".builder-tabs"),n=0;n<this._tabs.length;n++){var r=this._tabs[n];t.append('<li class="tab'+(0===n?" selected":"")+'" data-tab="'+r.type+'">'+r.title+"</li>"),0===n&&this.renderTab(r)}var o=t.find(".tab"),i=this;o.on("click",function(n){var r=$(n.currentTarget),a=r.data("tab"),s=t.find(".tab."+e.selectedClass).data("tab"),l=i._tabs.find(function(e){return a===e.type}),u=i._tabs.find(function(e){return s===e.type});o.removeClass(e.selectedClass),r.addClass(e.selectedClass),u&&i.destroyTab(u),l&&i.renderTab(l)}),this._onChange()}},{key:"destroyTab",value:function(e){e.destroy()}},{key:"renderTab",value:function(e){var t=this._nodePanel.find(".builder-active-tab");t.html(e.render()),e.postCreate({container:t,media:this._media,onChange:this._onChange,onAction:this._onAction,rootNode:this._nodePanel})}},{key:"_toggleConfigPanel",value:function(e){var t=this,n=this._nodeInvite,r=this._nodePanel,o="active";if(r.hasClass(o)){var i=function(){if("light"==t._closeBtnStyle&&$(e.target).hasClass("builder-invite-background"))return{v:void 0};var n=t._nodePanel.find(".builder-tabs .tab."+t.selectedClass),r=n.data("tab"),o=t._tabs.find(function(e){return r===e.type});o&&t.destroyTab(o)}();if("object"===("undefined"==typeof i?"undefined":l(i)))return i.v}else!function(){t._onChange();var e=t._nodePanel.find(".builder-tabs .tab."+t.selectedClass),n=e.data("tab"),r=t._tabs.find(function(e){return n===e.type});r&&t.renderTab(r)}();r.toggleClass(o),n.toggleClass(o),this._onToggle&&this._onToggle()}}]),e}();t["default"]=c,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/builder/Tab",["module","exports"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.title="",this.selectedClass="selected",this._options=t}return r(e,[{key:"onChange",value:function(){this._onChange()}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.container&&e.media&&e.onChange&&e.rootNode&&(this._node=e.container,this._media=e.media,this._onChange=e.onChange,this._onAction=e.onAction,this._rootNode=e.rootNode)}},{key:"destroy",value:function(){}}]),e}();t["default"]=o,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabSize",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section">\r\n  <ul class="section-content horizontal">\r\n    <li class="config-item" data-type="size" data-value="small">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/small.png">\r\n      <span class="config-label">Small</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="medium">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/medium.png">\r\n      <span class="config-label">Medium</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="large">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/large.png">\r\n      <span class="config-label">Large</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="immersive">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/immersive.png">\r\n      <span class="config-label">Immersive...</span>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/builder/Common",[],function(){}),define("storymaps-react/tpl/view/media/builder/TabSize",["module","exports","./Tab","lib-build/hbars!./TabSize","lib-build/less!./Common"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(){i(this,t);var e=a(this,Object.getPrototypeOf(t).call(this));return e.title="Size",e.type="size",e}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}},{key:"postCreate",value:function(e){var n=this;d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e);var r=this._media.options.size||"large",o=this._node.find('.config-item[data-type="size"]');this._node.find('.config-item[data-value="'+r+'"]').addClass(this.selectedClass),o.on("click",function(e){var t=$(e.currentTarget);n.setConfig("size",t.data("value")),o.removeClass(n.selectedClass),t.addClass(n.selectedClass)})}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this);var e=this._node.find('.config-item[data-type="size"]');e.off("click")}},{key:"setConfig",value:function(e,t){this._media.options[e]=t,this.onChange()}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabSizeImage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section">\r\n  <ul class="section-content horizontal">\r\n    <li class="config-item" data-type="size" data-value="small">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/small.png">\r\n      <span class="config-label">Small</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="medium">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/medium.png">\r\n      <span class="config-label">Medium</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="large">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/large.png">\r\n      <span class="config-label">Large</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="title">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/title.png">\r\n      <span class="config-label">Title</span>\r\n    </li>\r\n    <li class="config-item" data-type="size" data-value="immersive">\r\n      <img class="config-image" src="resources/tpl/builder/icons/media-config/immersive.png">\r\n      <span class="config-label">Immersive...</span>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabSizeImage",["module","exports","./TabSize","lib-build/hbars!./TabSizeImage","lib-build/less!./Common"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).call(this))}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}}]),t}(l["default"]);t["default"]=d,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabManageImage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section larger">\r\n  <div class="section-content button centered">\r\n    <div class="config-item button" data-action="swap">\r\n      Swap for Another Item...\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section">\r\n  <div class="section-content button centered">\r\n    <div class="config-item button" data-action="remove">\r\n      Remove\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabManageImage",["module","exports","./Tab","lib-build/hbars!./TabManageImage"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.title="Manage",n.type="manage",n}return s(t,e),c(t,[{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._options&&this._options.hideRemove&&this._node.find('.config-item[data-action="remove"]').parents(".builder-config-section").hide(),this._node.find('.config-item[data-action="remove"]').on("click",function(){this._onAction("remove")}.bind(this)),this._node.find('.config-item[data-action="swap"]').on("click",function(){console.log("action")})}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._node.find('.config-item[data-action="remove"]').off("click"),this._node.find('.config-item[data-action="swap"]').off("click")}},{key:"render",value:function(){return(0,u["default"])({})}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/notification/Notification",[],function(){}),define("storymaps-react/tpl/builder/notification/Notification",["module","exports","storymaps/tpl/utils/UI","dojo/Deferred","lib-build/less!./Notification"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){i(this,e),this._id=a["default"].getUID(),this._container=$(".notification-container"),this._label=t.label,this._positionTop=t.positionTop,this._resultDeferred=null,this._node=null}return l(e,[{key:"display",value:function(){return this._resultDeferred=new s["default"],this._container&&this._label?(this._container.append(this.render()),this._node=$("#"+this._id),this.postCreate(),this._resultDeferred):(this._resultDeferred.reject(),this._resultDeferred)}},{key:"update",value:function(e){this._label=e.label,this._node&&(this._node.html(this.render()),this.postCreate())}}]),e}();t["default"]=u,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/builder/notification/Cancel",["Handlebars"],function(e){return e.template({1:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'      <button class="btn btn-primary btn-sm btn-cancel">'+s((o=null!=(o=t.labelCancel||(null!=e?e.labelCancel:e))?o:a,typeof o===i?o.call(e,{name:"labelCancel",hash:{},data:r}):o))+"</button>\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'" class="builder-notification">\r\n  <div class="alert '+l((i=null!=(i=t.type||(null!=e?e.type:e))?i:s,typeof i===a?i.call(e,{name:"type",hash:{},data:r}):i))+' alert-dismissible" role="alert">\r\n    '+l((i=null!=(i=t.label||(null!=e?e.label:e))?i:s,typeof i===a?i.call(e,{name:"label",hash:{},data:r}):i))+"\r\n";return o=t["if"].call(e,null!=e?e.displayCancel:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(u+=o),u+'    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/builder/notification/Cancel",[],function(){}),define("storymaps-react/tpl/builder/notification/Cancel",["module","exports","./Notification","lib-build/hbars!./Cancel","lib-build/less!./Cancel"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=5e3,f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n._type="start",n}return s(t,e),c(t,[{key:"render",value:function(){var e="alert-info";return"success"==this._type?e="alert-success":"error"==this._type&&(e="alert-danger"),(0,u["default"])({id:this._id,type:e,label:this._label,displayCancel:"start"==this._type,labelCancel:"Cancel"})}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._type=e.type,d(Object.getPrototypeOf(t.prototype),"update",this).call(this,e)}},{key:"postCreate",value:function(){this._initEvents()}},{key:"_initEvents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.delay||p;"start"!=this._type&&setTimeout(function(){this._node.remove(),this._resultDeferred.reject()}.bind(this),t),this._node.find(".btn-cancel").click(function(){this._node.remove(),this._resultDeferred.resolve()}.bind(this))}}]),t}(l["default"]);t["default"]=f,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/ImageBuilder",["module","exports","./Image","./builder/Panel","./builder/TabSizeImage","./builder/TabManageImage","../../builder/notification/Cancel"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(e){l(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n._uploadNotification=null,n}return c(t,e),v(t,[{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this._builderConfigurationTabs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;"size"==l?n.push(new f["default"]):"appearance"==l||"manage"==l&&n.push(new h["default"]({hideRemove:"background"==this._placement}))}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}new p["default"]({containerPanel:this._node.find(".media-cfg-panel"),containerInvite:this._node.find(".media-cfg-invite"),tabs:n,media:this._image,onChange:this._onConfigChange.bind(this),onAction:this._onAction.bind(this),onToggle:function(){e.onToggleMediaConfig(this)}.bind(this),closeBtnStyle:"background"==this._placement?"light":"standard"})}},{key:"serialize",value:function(){return this._image.uploadDeferred&&delete this._image.uploadDeferred,{type:"image",image:this._image}}},{key:"_onConfigChange",value:function(){console.log("onConfigChange: ",this._video),this._applyConfig()}},{key:"_onUploadStart",value:function(){this._uploadNotification=new m["default"]({container:this._node.parents(".section").eq(0),label:"Image upload in progress..."}),this._uploadNotification.display().then(function(){this._onAction("remove")}.bind(this),function(){})}},{key:"_onUploadSuccess",value:function(e){this._image.url=e.url,this._url=e.url,this._uploadNotification&&this._uploadNotification.update({type:"success",label:"Image uploaded successfully"}),this._isLoaded=!1,this.load()}},{key:"_onUploadFail",value:function(){this._uploadNotification&&this._uploadNotification.update({type:"error",label:"Image upload failed"}),"block"==this._placement?this._onAction("remove"):this._onAction("swap",{type:"empty",empty:"empty"})}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/view/media/ImageGalleryBuilder",[],function(){}),define("storymaps-react/tpl/view/media/ImageGalleryBuilder",["module","exports","./ImageGallery","lib-build/less!./ImageGalleryBuilder"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),l(t,[{key:"postCreate",value:function(e){u(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),console.log("attach events"),setTimeout(function(){this._images.images.splice(0,1),this._update()}.bind(this),3e3)}},{key:"getPreviewThumbnail",value:function(){return this._images.images&&this._images.images.length?this._images.images[0].url:null}},{key:"serialize",value:function(){return{type:"image-gallery","image-gallery":this._images}}}]),t}(s["default"]);t["default"]=c,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabManageMedia",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section centered">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="upload-image">\r\n      Upload Alternate Image for Mobile\r\n    </div>\r\n    <div class="image-preview">\r\n      <div class="overlay">\r\n        <span class="icon">Edit</span>\r\n        <span class="icon">Remove</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section larger centered">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="swap">\r\n      Swap for Another Item...\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section centered">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="remove">\r\n      Remove\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabManageMedia",["module","exports","./Tab","lib-build/hbars!./TabManageMedia"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.title="Manage",n.type="manage",n}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}},{key:"postCreate",value:function(e){var n=this;d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._options&&this._options.hideRemove&&this._node.find('.config-item[data-action="remove"]').parents(".builder-config-section").hide(),this._node.find('.config-item[data-action="remove"]').on("click",function(){n._onAction("remove")}),this._node.find('.config-item[data-action="upload-image"]').on("click",function(){console.log("action")}),this._node.find('.config-item[data-action="swap"]').on("click",function(){console.log("action")})}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._node.find('.config-item[data-action="remove"]').off("click"),this._node.find('.config-item[data-action="upload-image"]').off("click"),this._node.find('.config-item[data-action="swap"]').off("click")}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabVideo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section larger">\r\n  <h4 class="title">Play</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="play" data-value="automatic">Play Automatically</li>\r\n    <li class="config-item" data-type="play" data-value="click">Play on Click</li>\r\n  </ul>\r\n</div>\r\n<div class="builder-config-section">\r\n  <h4 class="title">Audio</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="audio" data-value="sound-on">Sound On</li>\r\n    <li class="config-item" data-type="audio" data-value="muted">Muted</li>\r\n  </ul>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabVideo",["module","exports","./Tab","lib-build/hbars!./TabVideo"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(){i(this,t);var e=a(this,Object.getPrototypeOf(t).call(this));return e.title="Appearance",e.type="appearance",e}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}},{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this.bindPlayOptions(),this.bindAudioOptions()}},{key:"bindPlayOptions",value:function(){var e=this,t=this._node.find('.config-item[data-type="play"]'),n=this._media.play||"automatic";this._node.find('.config-item[data-type="play"][data-value="'+n+'"]').addClass(this.selectedClass),t.on("click",function(n){var r=$(n.currentTarget),o=r.data("value");t.removeClass(e.selectedClass),r.addClass(e.selectedClass),e.setMedia("play",o)})}},{key:"bindAudioOptions",value:function(){var e=this,t=this._node.find('.config-item[data-type="audio"]'),n=this._media.audio||"sound-on";this._node.find('.config-item[data-type="audio"][data-value="'+n+'"]').addClass(this.selectedClass),t.on("click",function(n){var r=$(n.currentTarget),o=r.data("value");t.removeClass(e.selectedClass),r.addClass(e.selectedClass),e.setMedia("audio",o)})}},{key:"unbindPlayOptions",value:function(){var e=this._node.find('.config-item[data-type="play"]');e.off("click")}},{key:"unbindAudioOptions",value:function(){var e=this._node.find('.config-item[data-type="audio"]');e.off("click")}},{key:"setMedia",value:function(e,t){this._media[e]=t,this.onChange()}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.unbindPlayOptions(),this.unbindAudioOptions()}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/VideoBuilder",["module","exports","./Video","./builder/Panel","./builder/TabSizeImage","./builder/TabManageMedia","./builder/TabVideo"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){
var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this._builderConfigurationTabs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;"size"==l?n.push(new f["default"]):"appearance"==l?n.push(new m["default"]):"manage"==l&&n.push(new h["default"]({hideRemove:"background"==this._placement}))}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}new p["default"]({containerPanel:this._node.find(".media-cfg-panel"),containerInvite:this._node.find(".media-cfg-invite"),tabs:n,media:this._video,onChange:this._onConfigChange.bind(this),onAction:this._onAction.bind(this),onToggle:function(){e.onToggleMediaConfig(this)}.bind(this),closeBtnStyle:"background"==this._placement?"light":"standard"})}},{key:"serialize",value:function(){return{type:"video",video:this._video}}},{key:"_onConfigChange",value:function(){console.log("onConfigChange: ",this._video),this._applyConfig()}},{key:"_onAction",value:function(){}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabManage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="upload-image">\r\n      Upload Alternate Image for Mobile\r\n    </div>\r\n    <div class="image-preview">\r\n      <div class="overlay">\r\n        <span class="icon">Edit</span>\r\n        <span class="icon">Remove</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section larger">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="edit">\r\n      Edit Original\r\n      <span class="whisper">(saves to ArcGIS)</span>\r\n    </div>\r\n    <div class="config-item button" data-action="swap">\r\n      Swap for Another Item...\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section">\r\n  <div class="section-content button">\r\n    <div class="config-item button" data-action="remove">\r\n      Remove\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabManage",["module","exports","./Tab","lib-build/hbars!./TabManage"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.title="Manage",n.type="manage",n}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}},{key:"postCreate",value:function(e){var n=this;d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._options&&this._options.hideRemove&&this._node.find('.config-item[data-action="remove"]').parents(".builder-config-section").hide(),this._node.find('.config-item[data-action="remove"]').on("click",function(){n._onAction("remove")}),this._node.find('.config-item[data-action="upload-image"]').on("click",function(){console.log("action")}),this._node.find('.config-item[data-action="edit"]').on("click",function(){console.log("action")}),this._node.find('.config-item[data-action="swap"]').on("click",function(){console.log("action")})}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._node.find('.config-item[data-action="remove"]').off("click"),this._node.find('.config-item[data-action="upload-image"]').off("click"),this._node.find('.config-item[data-action="edit"]').off("click"),this._node.find('.config-item[data-action="swap"]').off("click")}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/builder/TabArcGIS",["module","exports","./Tab"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.title="Appearance",e.type="appearance",e}return a(t,e),l(t,[{key:"postCreate",value:function(e){u(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this.bindPopup(),this.bindInteraction(),this.bindView(),this.bindExtras()}},{key:"bindPopup",value:function(){var e=this,t=this._node.find('.config-item[data-type="popup"]'),n=this._media.popup||!0,r=n?"enabled":"disabled";this._node.find('.config-item[data-type="popup"][data-value="'+r+'"]').addClass(this.selectedClass),t.on("click",function(n){var r=$(n.currentTarget),o="enabled"===r.data("value");t.removeClass(e.selectedClass),r.addClass(e.selectedClass),e.setMedia("popup",o)})}},{key:"unbindPopup",value:function(){var e=this._node.find('.config-item[data-type="popup"]');e.off("click")}},{key:"bindInteraction",value:function(){var e=this,t=this._node.find('.config-item[data-type="interaction"]'),n=this._media.interaction||"enabled";this._node.find('.config-item[data-type="interaction"][data-value="'+n+'"]').addClass(this.selectedClass),t.on("click",function(n){var r=$(n.currentTarget),o=r.data("value");t.removeClass(e.selectedClass),r.addClass(e.selectedClass),e.setMedia("interaction",o)})}},{key:"unbindInteraction",value:function(){var e=this._node.find('.config-item[data-type="interaction"]');e.off("click")}},{key:"bindView",value:function(){}},{key:"unbindView",value:function(){}},{key:"bindExtras",value:function(){var e=this._node.find('.config-item[data-type="extra"]'),t=!1,n=!1,r=!1;this._media.extras&&(t=this._media.extras.legend&&this._media.extras.legend.enabled,n=this._media.extras.search&&this._media.extras.search.enabled,r=this._media.extras.locate&&this._media.extras.locate.enabled),this._node.find('.config-item[data-type="extra"][data-value="legend"] input[type="checkbox"]').prop("checked",t),this._node.find('.config-item[data-type="extra"][data-value="search"] input[type="checkbox"]').prop("checked",n),this._node.find('.config-item[data-type="extra"][data-value="locate"] input[type="checkbox"]').prop("checked",r);var o=this;e.on("click",function(e){var t=$(e.currentTarget),n=t.data("value"),r=t.find('input[type="checkbox"]').is(":checked");o.setExtras(n,r)})}},{key:"unbindExtras",value:function(){var e=this._node.find('.config-item[data-type="extra"]');e.off("click")}},{key:"setMedia",value:function(e,t){this._media[e]=t,this.onChange()}},{key:"setExtras",value:function(e,t){this._media.extras||(this._media.extras={}),this._media.extras[e]||(this._media.extras[e]={}),this._media.extras[e].enabled=t,this.onChange()}},{key:"destroy",value:function(){u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.unbindPopup(),this.unbindInteraction(),this.unbindView(),this.unbindExtras()}}]),t}(s["default"]);t["default"]=c,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabWebMap",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section">\r\n  <h4 class="title">View</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item disabled" data-type="reset" data-value="location">Reset Location</li>\r\n    <li class="config-item disabled" data-type="reset" data-value="layers">Reset Layers</li>\r\n    <li class="config-item disabled" data-type="reset" data-value="popup">Clear Pop-Up</li>\r\n  </ul>\r\n</div>\r\n<div class="builder-config-section larger">\r\n  <h4 class="title">Interaction</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="interaction" data-value="disabled">Interaction Disabled</li>\r\n    <li class="config-item" data-type="interaction" data-value="button">Button to Enable</li>\r\n    <li class="config-item" data-type="interaction" data-value="enabled">*Interaction Enabled</li>\r\n  </ul>\r\n  <span class="aside">*Touch devices will show an interaction button.</span>\r\n</div>\r\n<div class="builder-config-section">\r\n  <h4 class="title">Pop-Ups</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="popup" data-value="disabled">Disabled</li>\r\n    <li class="config-item" data-type="popup" data-value="enabled">Enabled</li>\r\n  </ul>\r\n</div>\r\n<div class="builder-config-section">\r\n  <h4 class="title">Extras</h4>\r\n  <ul class="section-content vertical-list checkmarks">\r\n    <li class="config-item" data-type="extra" data-value="legend">\r\n      <label class="check"><input type="checkbox" value="legend"> Legend</label>\r\n    </li>\r\n    <li class="config-item" data-type="extra" data-value="search">\r\n      <label class="check"><input type="checkbox" value="search"> Search</label>\r\n    </li>\r\n    <li class="config-item" data-type="extra" data-value="locate">\r\n      <label class="check"><input type="checkbox" value="locate"> Locate</label>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabWebMap",["module","exports","./TabArcGIS","esri/dijit/LayerList","esri/arcgis/utils","lib-build/hbars!./TabWebMap"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},v=function(e){function t(e){s(this,t);var n=l(this,Object.getPrototypeOf(t).call(this));return n.map=null,n.layerList=null,n._layerListNode=e.layerListNode,n._eventExtent=null,n._eventPopup=null,n._ignoreNextExtentChangeEvent=!1,n}return u(t,e),h(t,[{key:"setMap",value:function(e){this.map=e,this.attachEvents(),this._node&&this.initLayerList()}},{key:"attachEvents",value:function(){this._media&&this.map&&(this._eventExtent||(this._eventExtent=this.map.map.on("extent-change",function(e){this._ignoreNextExtentChangeEvent?this._ignoreNextExtentChangeEvent=!1:(this.setMedia("extent",e.extent.toJson()),this._updateLocationReset())}.bind(this))),this._eventPopup||(this._eventPopup=this.map.map.on("click",function(){var e=this.getSelectedFeatureInfo();if(e){var t="disabled",n=this._node.find('.config-item[data-type="reset"][data-value="popup"]');n.removeClass(t),this.setMedia("popup",e)}}.bind(this))))}},{key:"detachEvents",value:function(){this._eventExtent&&(this._eventExtent.remove(),this._eventExtent=null),this._eventPopup&&(this._eventPopup.remove(),this._eventPopup=null)}},{key:"initLayerList",value:function(){var e=this;if(!this.layerList&&this._rootNode&&this._media&&this.map){this._layerListNode.html('<div class="layer-list"></div>');var t=this._layerListNode.find(".layer-list")[0],n="disabled",r=this._node.find('.config-item[data-type="reset"][data-value="layers"]'),o=p["default"].getLayerList(this.map);if(this._media.layers)for(var i=function(t){var n=e._media.layers[t],r=o.find(function(e){return e.layer.id===n.id});r&&(r.visibility=n.visibility)},a=0;a<this._media.layers.length;a++)i(a);this.layerList=new d["default"]({map:this.map.map,layers:o,showSubLayers:!1},t),this.layerList.startup(),this._media.layers&&this._media.layers.length>0&&r.removeClass(n);var s=this;this.layerList.on("toggle",function(t){e._media.layers||(e._media.layers=[]);var o=s.layerList.layers[t.layerIndex],i=s._media.layers.findIndex(function(e){return e.id===o.id});-1!==i?s._media.layers.splice(i,1):s._media.layers.push({id:o.id,visibility:o.visibility}),e.onChange(),s._media.layers.length>0?r.removeClass(n):r.addClass(n)})}}},{key:"postCreate",value:function(e){var n=this;m(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this.map&&this.initLayerList();var r="disabled",o=this._node.find('.config-item[data-type="reset"][data-value="location"]'),i=this._node.find('.config-item[data-type="reset"][data-value="popup"]'),a=this._node.find('.config-item[data-type="reset"][data-value="layers"]');this._media.popup&&i.removeClass(r),o.on("click",function(){n.detachEvents(),n.setMedia("extent",null),n._updateLocationReset()}),i.on("click",function(){i.addClass(r),n.setMedia("popup",null)}),a.on("click",function(){n.layerList.destroy(),n.layerList=null,a.addClass(r),n._ignoreNextExtentChangeEvent=!0,n.setMedia("layers",[])}),this._updateLocationReset(),this.attachEvents()}},{key:"_updateLocationReset",value:function(){var e=this._node.find('.config-item[data-type="reset"][data-value="location"]');e.toggleClass("disabled",!this._media.extent)}},{key:"destroy",value:function(){m(Object.getPrototypeOf(t.prototype),"destroy",this).call(this);var e=this._node.find('.config-item[data-type="reset"][data-value="location"]');e.off("click"),this.layerList&&(this.layerList.destroy(),this.layerList=null)}},{key:"render",value:function(){return(0,f["default"])({})}},{key:"getSelectedFeatureInfo",value:function(){var e=this.map.map.infoWindow.getSelectedFeature();if(!e)return null;var t=e.getLayer(),n=t.fields;if(!n)return null;var r=$.grep(n,function(e){return"esriFieldTypeOID"===e.type});if(t&&n&&!r.length&&(r=$.grep(n,function(e){return"OBJECTID"===e.name||"FID"===e.name}),r.length||(r=$.grep(n,function(e){return"esriFieldTypeInteger"===e.type}))),r.length){var o=r[0].name;return{layerId:t.id,fieldName:o,fieldValue:e.attributes[o]}}return null}}]),t}(c["default"]);t["default"]=v,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/WebMapBuilder",["module","exports","./WebMap","./builder/Panel","./builder/TabSize","./builder/TabManage","./builder/TabWebMap"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(e){l(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n._configTabWebMap=null,n._isMultiViewSection=!1,n._onToggleMediaConfig=null,n}return c(t,e),v(t,[{key:"_initConfigPanel",value:function(){var e=[];this._configTabWebMap=new m["default"]({layerListNode:this._node.find(".layer-list-container")});var t=!0,n=!1,r=void 0;try{for(var o,i=this._builderConfigurationTabs[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;"size"==a?e.push(new f["default"]):"appearance"==a?e.push(this._configTabWebMap):"manage"==a&&e.push(new h["default"]({hideRemove:"background"==this._placement}))}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}new p["default"]({containerPanel:this._node.find(".media-cfg-panel"),containerInvite:this._node.find(".media-cfg-invite"),tabs:e,media:this._webmap,onChange:this._onConfigChange.bind(this),onAction:this._onAction.bind(this),onToggle:function(){this._onToggleMediaConfig(this)}.bind(this),closeBtnStyle:"background"==this._placement?"light":"standard"})}},{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._onToggleMediaConfig=e.onToggleMediaConfig,e.delayBuilderInit||this._initConfigPanel()}},{key:"performAction",value:function(e){return e.performBuilderInit&&this._initConfigPanel(),g(Object.getPrototypeOf(t.prototype),"performAction",this).call(this,e)}},{key:"getAuthorizedTransitionsWith",value:function(e){if(!e||e.id!=this.id)return[];var t=this.serialize().webmap,n=JSON.stringify(t.extent),r=JSON.stringify(t.layers),o=JSON.stringify(t.popup),i=e.serialize().webmap,a=JSON.stringify(i.extent),s=JSON.stringify(i.layers),l=JSON.stringify(i.popup);return o!=l||n!=a?[]:r==s?[]:["swipe-vertical","swipe-horizontal"]}},{key:"serialize",value:function(){return{type:"webmap",webmap:this._webmap}}},{key:"_onWebMapLoaded",value:function(){this._configTabWebMap.setMap(this._cache[this.id])}},{key:"_onConfigChange",value:function(){console.log("onConfigChange: ",this._webmap),this._applyConfig(),this._webmap.layers&&0!=this._webmap.layers.length||this._configTabWebMap.initLayerList()}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabWebScene",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section">\r\n  <h4 class="title">Slide</h4>\r\n  <select class="section-content" name="slides"></select>\r\n  <div class="section-content no-slides">\r\n    <span class="">No slides available.</span>\r\n  </div>\r\n</div>\r\n<div class="builder-config-section larger">\r\n  <h4 class="title">Interaction</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="interaction" data-value="disabled">Interaction Disabled</li>\r\n    <li class="config-item" data-type="interaction" data-value="button">Button to Enable</li>\r\n    <li class="config-item" data-type="interaction" data-value="enabled">*Interaction Enabled</li>\r\n  </ul>\r\n  <span class="aside">*Touch devices will show an interaction button.</span>\r\n</div>\r\n<!--\r\n<div class="builder-config-section">\r\n  <h4 class="title">Pop-Ups</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="popup" data-value="disabled">Disabled</li>\r\n    <li class="config-item" data-type="popup" data-value="enabled">Enabled</li>\r\n  </ul>\r\n</div>\r\n<div class="builder-config-section">\r\n  <h4 class="title">Extras</h4>\r\n  <ul class="section-content vertical-list checkmarks">\r\n    <li class="config-item" data-type="extra" data-value="legend">\r\n      <label class="check"><input type="checkbox" value="legend"> Legend</label>\r\n    </li>\r\n    <li class="config-item" data-type="extra" data-value="search">\r\n      <label class="check"><input type="checkbox" value="search"> Search</label>\r\n    </li>\r\n    <li class="config-item" data-type="extra" data-value="locate">\r\n      <label class="check"><input type="checkbox" value="locate"> Locate</label>\r\n    </li>\r\n  </ul>\r\n</div>\r\n-->\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabWebScene",["module","exports","./TabArcGIS","lib-build/hbars!./TabWebScene"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(){i(this,t);var e=a(this,Object.getPrototypeOf(t).call(this));return e.scene=null,e}return s(t,e),c(t,[{key:"setScene",value:function(e){this.scene=e,this._node&&this.renderSceneSection()}},{key:"renderSceneSection",value:function(){var e=this,t=this.scene.scene,n=this._node.find('.section-content[name="slides"]'),r=this._node.find(".section-content.no-slides");if(t.presentation&&t.presentation.slides&&t.presentation.slides.items&&t.presentation.slides.items.length>0){var o=t.presentation.slides.items;r.hide(),n.show();for(var i=0;i<o.length;i++)n.append('<option class="config-item" data-type="slides" value="'+i+'">'+o[i].title.text+"</option>");this._media.slide&&n.val(this._media.slide),n.on("change",function(t){var n=$(t.currentTarget).val(),r=parseInt(n,10);isNaN(r)||e.setMedia("slide",r)})}else n.hide(),r.show()}},{key:"attachEvents",value:function(){!this._media}},{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this.scene&&this.renderSceneSection()}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"render",value:function(){return(0,u["default"])({})}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/WebSceneBuilder",["module","exports","./WebScene","./builder/Panel","./builder/TabSize","./builder/TabManage","./builder/TabWebScene"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(e){l(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n._configTabWebScene=null,n}return c(t,e),v(t,[{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._configTabWebScene=new m["default"];var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this._builderConfigurationTabs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;"size"==l?n.push(new f["default"]):"appearance"==l?n.push(this._configTabWebScene):"manage"==l&&n.push(new h["default"]({hideRemove:"background"==this._placement}))}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}new p["default"]({containerPanel:this._node.find(".media-cfg-panel"),containerInvite:this._node.find(".media-cfg-invite"),tabs:n,media:this._webscene,onChange:this._onConfigChange.bind(this),onAction:this._onAction.bind(this),onToggle:function(){e.onToggleMediaConfig(this)}.bind(this),closeBtnStyle:"background"==this._placement?"light":"standard"})}},{key:"serialize",value:function(){return{type:"webscene",webscene:this._webscene}}},{key:"_onWebSceneLoaded",value:function(){this._configTabWebScene.setScene(this._cache[this.id])}},{key:"_onConfigChange",value:function(){console.log("onConfigChange: ",this._webscene),this._applyConfig()}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabWebPage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-section no-spread">\r\n  <h4 class="title">Interaction</h4>\r\n  <ul class="section-content vertical-list">\r\n    <li class="config-item" data-type="interaction" data-value="disabled">Interaction Disabled</li>\r\n    <li class="config-item" data-type="interaction" data-value="button">Button to Enable</li>\r\n    <li class="config-item" data-type="interaction" data-value="enabled">*Interaction Enabled</li>\r\n  </ul>\r\n  <span class="aside">*Touch devices will show an interaction button.</span>\r\n</div>\r\n'},useData:!0})}),define("storymaps-react/tpl/view/media/builder/TabWebPage",["module","exports","./Tab","lib-build/hbars!./TabWebPage"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(){i(this,t);var e=a(this,Object.getPrototypeOf(t).call(this));return e.title="Appearance",e.type="appearance",e}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({})}},{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this.bindInteraction()}},{key:"bindInteraction",value:function(){var e=this,t=this._node.find('.config-item[data-type="interaction"]'),n=this._media.interaction||"enabled";this._node.find('.config-item[data-type="interaction"][data-value="'+n+'"]').addClass(this.selectedClass),t.on("click",function(n){var r=$(n.currentTarget),o=r.data("value");t.removeClass(e.selectedClass),r.addClass(e.selectedClass),e.setMedia("interaction",o)})}},{key:"unbindInteraction",value:function(){var e=this._node.find('.config-item[data-type="interaction"]');e.off("click")}},{key:"setMedia",value:function(e,t){this._media[e]=t,this.onChange()}},{key:"destroy",value:function(){d(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.unbindInteraction()}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/WebPageBuilder",["module","exports","./WebPage","./builder/Panel","./builder/TabSize","./builder/TabManageMedia","./builder/TabWebPage"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){
function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this._builderConfigurationTabs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;"size"==l?n.push(new f["default"]):"appearance"==l?n.push(new m["default"]):"manage"==l&&n.push(new h["default"]({hideRemove:"background"==this._placement}))}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}new p["default"]({containerPanel:this._node.find(".media-cfg-panel"),containerInvite:this._node.find(".media-cfg-invite"),tabs:n,media:this._webpage,onChange:this._onConfigChange.bind(this),onAction:this._onAction.bind(this),onToggle:function(){e.onToggleMediaConfig(this)}.bind(this),closeBtnStyle:"background"==this._placement?"light":"standard"})}},{key:"serialize",value:function(){return{type:"webpage",webpage:this._webpage}}},{key:"_onConfigChange",value:function(){console.log("onConfigChange: ",this._webpage),this._applyConfig()}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("storymaps-react/tpl/view/media/FactoryBuilder",["module","exports","./FactoryViewer","./Text","./ImageBuilder","./ImageGalleryBuilder","./VideoBuilder","./WebMapBuilder","./WebSceneBuilder","./WebPageBuilder","./Empty","./Color","storymaps/tpl/view/media/Credits","storymaps/tpl/view/media/Discover"],function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var y=h(n),b=h(r),w=h(o),C=h(i),_=h(a),x=h(s),E=h(l),T=h(u),k=h(c),P=h(d),S=h(p),O=h(f),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(e){function t(){return m(this,t),v(this,Object.getPrototypeOf(t).apply(this,arguments))}return g(t,e),I(t,null,[{key:"getClasses",value:function(){return{Text:b["default"],Image:w["default"],ImageGallery:C["default"],Video:_["default"],WebMap:x["default"],WebScene:E["default"],WebPage:T["default"],Empty:k["default"],Color:P["default"],Credits:S["default"],Discover:O["default"]}}}]),t}(y["default"]);t["default"]=N,e.exports=t["default"]}),define("lib-build/less!storymaps/tpl/view/section/Cover/Cover",[],function(){}),define("lib-build/css!storymaps/tpl/view/ui/AuthorInfo",[],function(){}),define("lib-build/less!storymaps/tpl/view/section/Common",[],function(){}),define("storymaps/tpl/view/section/Common",["../../utils/UI","lib-build/less!./Common"],function(e){return{initMedia:function(e,t){return app.ui.MediaFactory.createInstance(e,t)},checkErrors:function(e,t,n){var r=!1;return t.background&&t.foreground?(e.backgroundMedia.indexOf(t.background.type)<0&&(console.error("Section ",n," is using invalid background"),r=!0),t.foreground.layout&&(!e.foregroundLayout||!e.foregroundLayout.length||e.foregroundLayout.indexOf(t.foreground.layout)<0)&&(console.error("Section ",n," is using invalid foreground"),r=!0)):t.views?$.each(t.views,function(t,o){e.backgroundMedia.indexOf(o.background.type)<0&&(console.error("Section ",n," - view "+t+"is using invalid background"),r=!0)}):console.error("Section ",n," is not using a proper background/foreground configuration"),r?void console.error("Section",n," ignored"):void 0},renderBlocks:function(e){var t="",n=null,r=[],o=null,i="";return $.each(e,function(e,a){o=app.ui.MediaFactory.createInstance(a),i=a[a.type].style||[],o&&(n&&"text"==n||i.push("first-letter-huge"),t+=o.render({placement:"block",style:i}),n=a.type,r.push(o))}),{output:t,blocks:r}},createBlock:function(e){var t=app.ui.MediaFactory.createInstance(e);return t},renderBackground:function(t){var n="";if(t=t||{},!t.media)return n;if(e.isMobileBrowser()&&t.media.getAlternate&&t.media.getAlternate()&&(t.media=t.media.getAlternate()),!t.noBackgroundTag){var r=" "+(t.media.options||""),o=[];t.transition&&o.push(" transition-"+t.transition),n+='<div class="background background-type-'+t.media.type+" "+o.join(" ")+'" style="'+r+'">'}return n+=t.media.render({placement:"background"}),t.noBackgroundTag||(n+="</div>"),n},getMediaIndexes:function(e,t,n){if(!e||!e.length||!t)return-1;var r=t.type,o=null;o=n?t:t[r];var i=[];return $.each(e,function(e,t){t.type==r&&("webmap"==t.type||"webscene"==t.type?t.id==o.id&&i.push(e):"webpage"==t.type?t.id==o.url&&i.push(e):"video"==t.type&&t.id==o.source+"-"+o.id&&i.push(e))}),i},resize:function(){}}}),define("storymaps/tpl/view/section/Cover/CoverCommonEffects",[],function(){function e(e){var t=e.$currentSection.find(".foreground"),n=e.$currentSection.find(".background");setTimeout(function(){n.addClass("scale-out")},c),setTimeout(function(){n.css("transform","scale(1)"),n.css("opacity",1),n.removeClass("scale-out")},c+1500),setTimeout(function(){t.addClass("slide-text")},c+200),setTimeout(function(){t.css("transform","translateY(0)"),t.css("opacity",1),t.removeClass("slide-text")},c+1700)}function t(e){var t=e.$currentSection.find(".background");setTimeout(function(){t.addClass("fade-in-background")},c),setTimeout(function(){e.$currentSection.find(".cover-title").addClass("fade-in-cover-title")},c+500),setTimeout(function(){e.$currentSection.find(".cover-subtitle").addClass("fade-in-cover-subtitle")},c+1200),setTimeout(function(){e.$currentSection.find(".cover-title").css("opacity",1)},c+2500),setTimeout(function(){e.$currentSection.find(".cover-subtitle").css("opacity",1)},c+3e3)}function n(e,t){var n=e.$currentSection.data("views"),r=n*app.display.windowHeight,o=e.currentSectionScroll/r,i=t?1.5:2.5,a=Math.pow(1-o,i);e.$currentSection.find(".foreground, .scroll-invite").css("opacity",a)}function r(e,t){var n=t?-1:-5,r=e.$currentSection.find(".foreground"),o=e.currentSectionScroll/100*n;o=parseInt(o,10),r.css("transform","translateY("+o+"px)")}function o(e){var t=e.$currentSection.data("views"),n=t*app.display.windowHeight,r=e.currentSectionScroll/n,o=1-r,i=e.currentSectionScroll*o,a=(e.currentSectionScroll-100)/n,s=(1-a)*e.currentSectionScroll;i=parseInt(i,10),s=parseInt(s,10),e.$currentSection.find(".cover-title").css("transform","translateY("+i+"px)"),e.$currentSection.find(".cover-subtitle").css("transform","translateY("+s+"px)")}function i(e,t){var n=e.$currentSection.find(".background"),r=e.$currentSection.data("views"),o=r*app.display.windowHeight,i=0,a=t?6:10;o>0&&(i=e.currentSectionScroll/o*a),n.css({webkitFilter:"blur("+i+"px)",filter:"blur("+i+"px)"})}function a(e,t,n){var r=e.$currentSection.find(".background"),o=1,i=0,a=t?4:20,s=e.$currentSection.find(".foreground");e.currentSectionScroll>0&&(i=e.currentSectionScroll/app.display.windowHeight,o=1+i/a),r.css("transform","scale("+o+")"),n&&s.css("transform","scale("+o+")")}function s(e){var t=e.$currentSection.find(".wrapper"),n=1;e.currentSectionScroll>0&&(n=1-e.currentSectionScroll/app.display.windowHeight),t.css("opacity",n)}function l(e,t){var n=e.$currentSection.data("views"),r=n*app.display.windowHeight,o=e.$currentSection.find(".wrapper"),i=100,a=i,s="";e.currentSectionScroll>0&&(a=t?100*(1-e.currentSectionScroll/r):(r-e.currentSectionScroll)/app.display.windowHeight*100,a>i&&(a=i)),s="brightness("+a.toFixed(1)+"%)",o.css({webkitFilter:s,filter:s})}function u(e){var t=e.$currentSection.find(".background"),n=e.$currentSection.data("views"),r=n*app.display.windowHeight,o=.1,i=.7,a=e.currentSectionScroll>=r*o,s=1;a&&(s=1-(e.currentSectionScroll-r*o)/(r*(1-o)*i)),t.css("opacity",s)}var c=900;return{scaleFadeInCover:e,fadeInBackground:t,fadeOutForeground:n,translateForeground:r,translateForegroundDown:o,blurBackground:i,scaleBackground:a,blendCoverWithHeader:s,darkenCover:l,fadeOutCover:u}}),define("storymaps/tpl/view/section/Cover/CoverStatic",["./CoverCommonEffects"],function(){return function(){this.dataViews=1,this.layoutType="static",this.displayCover=function(){},this.onScroll=function(){}}}),define("storymaps/tpl/view/section/Cover/CoverScale",["./CoverCommonEffects"],function(e){return function(){function t(t){e.scaleBackground(t,!1),e.fadeOutCover(t)}function n(t){e.translateForeground(t,!0),e.fadeOutForeground(t)}this.dataViews=1.25,this.layoutType="scale",this.displayCover=function(t){e.scaleFadeInCover(t)},this.onScroll=function(e){t(e),n(e)}}}),define("storymaps/tpl/view/section/Cover/CoverBlur",["./CoverCommonEffects"],function(e){return function(){function t(t){e.blurBackground(t,!1)}function n(t){e.fadeOutForeground(t)}this.dataViews=1.5,this.layoutType="blur",this.displayCover=function(t){e.scaleFadeInCover(t)},this.onScroll=function(e){t(e),n(e)}}}),define("storymaps/tpl/view/section/Cover/CoverPartialPage",["./CoverCommonEffects"],function(e){return function(){function t(t){e.blurBackground(t,!0),e.darkenCover(t,!0)}function n(t){e.translateForeground(t,!1),e.fadeOutForeground(t,!0)}this.dataViews=.7,this.layoutType="partial-page",this.displayCover=function(){},this.onScroll=function(e){t(e),n(e)}}}),define("storymaps/tpl/view/section/Cover/CoverDelay",["./CoverCommonEffects"],function(e){return function(){function t(t){e.scaleBackground(t,!1),e.darkenCover(t,!1)}function n(t){e.translateForeground(t,!1),e.fadeOutForeground(t,!1)}this.dataViews=1.5,this.layoutType="delay",this.displayCover=function(t){e.fadeInBackground(t)},this.onScroll=function(e){t(e),n(e)}}}),define("storymaps/tpl/view/section/Cover/CoverBlendHeader",["./CoverCommonEffects"],function(e){return function(){function t(t){e.scaleBackground(t,!0,!0),e.blendCoverWithHeader(t)}function n(e){e.$currentSection.css("background-color","rgba(0,0,0,1)")}this.dataViews=1,this.layoutType="blend-header",this.displayCover=function(e){n(e)},this.onScroll=function(e){t(e)}}}),define("storymaps/tpl/view/section/Cover/CoverCurtain",["./CoverCommonEffects"],function(e){return function(){function t(t){e.darkenCover(t,!1)}function n(t){e.translateForegroundDown(t)}this.dataViews=1,this.layoutType="curtain",this.displayCover=function(t){e.fadeInBackground(t)},this.onScroll=function(e){t(e),n(e)}}}),define("storymaps/tpl/view/section/Cover/CoverStyleFactory",["./CoverStatic","./CoverScale","./CoverBlur","./CoverPartialPage","./CoverDelay","./CoverBlendHeader","./CoverCurtain"],function(e,t,n,r,o,i,a){function s(s){var u=null;if(u=l(),!u)switch(s){case"scale":u=new t;break;case"blur":u=new n;break;case"partial-page":u=new r;break;case"delay":u=new o;break;case"blend-header":u=new i;break;case"curtain":u=new a;break;default:u=new e}return u}function l(){var e=window.location.href,s=null;return-1!==e.indexOf("coverStyle=blur")?s=new n:-1!==e.indexOf("coverStyle=scale")?s=new t:-1!==e.indexOf("coverStyle=partial-page")?s=new r:-1!==e.indexOf("coverStyle=delay")?s=new o:-1!==e.indexOf("coverStyle=blend-header")?s=new i:-1!==e.indexOf("coverStyle=curtain")&&(s=new a),s}return{createInstance:s}}),define("storymaps/tpl/view/section/Cover/Cover",["lib-build/less!./Cover.less","lib-build/css!storymaps/tpl/view/ui/AuthorInfo.css","../Common","./CoverStyleFactory","../../../utils/UI"],function(e,t,n,r,o){var i={backgroundMedia:["image","video"],foregroundLayout:["cover-1"]};return function(e){function t(e,t){0==e.currentSectionIndex&&(e.currentSectionScroll>app.display.sectionHeight/2?$(".header").css("background-color","rgba(0,0,0,"+e.currentSectionScroll/app.display.sectionHeight+")"):$(".header").css("background-color","rgba(0,0,0,0)")),t||"current"!==e.status||l.onScroll(e)}var a=!1,s=null,l=r.createInstance(e.layout),u=e.foreground;this.type="cover",this.id=o.getUID(),this._node=null,this.render=function(t){var r="";if(n.checkErrors(i,e,t))return r;r+='<div class="section section-layout-cover '+e.layout+" "+l.layoutType+'" data-views="'+l.dataViews+'"><div class="wrapper">',s=n.initMedia(e.background);var o={media:s};return r+=n.renderBackground(o),s=o.media,r+='<div class="foreground">',r+='<h1 class="cover-title">'+u.title+"</h1>",r+='<h2 class="cover-subtitle">'+u.subtitle+"</h2>",u.author&&(r+="<h3>"+u.author+"</h3>"),u.date&&(r+="<h4>"+u.date+"</h4>"),r+="</div>",r+='<div class="author-info wow rubberBand" data-wow-delay="2s">',r+=' <div class="author-info-wrapper">',r+='  <div class="author-info-text">',r+='   <div class="author-info-intro">A Story Map by</div>',r+='   <div class="author-info-org">'+app.data.author.name+"</div>",r+="  </div>",r+=" </div>",r+="</div>",r+='<div class="scroll-invite"><div class="scroll-invite-btn"></div></div>',u["credits-left"]&&(r+='<div class="cover-credits-left">'+u["credits-left"]+"</div>"),u["credits-right"]&&(r+='<div class="cover-credits-right">'+u["credits-right"]+"</div>"),r+="</div>",r+="</div>",$(".header .title").html(u.title),document.title=u.title,$(".header .share .shareIcon").show(),r},this.postCreate=function(e){this._node=e,s.postCreate({container:e}),$(".scroll-invite").click(function(){app.Controller.navigateToSection({index:1,animate:!0})})},this.onScroll=function(e){if("unload"==e.status)s.performAction({visible:!1});else{if("preload"==e.status)return;if("current"==e.status)a||(a=!0,s.load().then(function(){s.performAction({isActive:!0})})),l.displayCover(e),t(e,!0);else{if(!a)return;t(e,!1)}}},this.getBookmark=function(){var t=e.bookmark||{};return{status:t.enabled?"visible":"disabled",title:this.getPreviewText?this.getPreviewText():"",bookmark:t.title||this.getPreviewText&&this.getPreviewText()}},this.setBookmark=function(t){e.bookmark={enabled:"visible"==t.status,title:t.bookmark}},this.getPreviewThumbnail=function(){return""},this.getPreviewText=function(){return u.title},this.getPreviewIcon=function(){return""},this.resize=function(e){s.resize(e)},this.serialize=function(){return e}}}),define("lib-build/less!storymaps-react/tpl/view/section/Sequence",[],function(){}),define("storymaps-react/tpl/view/section/Sequence",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","lib-build/less!./Sequence"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u={backgroundMedia:["color","image"],foregroundLayout:["sequence-1"],foregroundMedia:["image","video","webscene","webpage"]},c=function(){function e(t){i(this,e),this.type="sequence",this.id=s["default"].getUID(),this._section=t,this._node=null,this._isLoaded=!1,this._blocks=null,this._backgroundMedia=null,this._isActive=!1,this._sectionIndex=null}return l(e,[{key:"render",value:function(e){var t="",n=this._section.foreground;if(a["default"].checkErrors(u,this._section,e))return t;if(this._sectionIndex=e,t+='<div class="section section-layout-sequence '+this._section.layout+'">',this._backgroundMedia=a["default"].initMedia(this._section.background),t+=a["default"].renderBackground({media:this._backgroundMedia}),t+='<div class="foreground">',n.blocks){var r=a["default"].renderBlocks(n.blocks,{adaptiveBackground:!1});this._blocks=r.blocks,t+=r.output}return t+="</div>",t+="</div>"}},{key:"postCreate",value:function(e){this._node=e;var t=!0,n=!1,r=void 0;try{for(var o,i=this._blocks[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.postCreate&&a.postCreate({container:e,onToggleMediaConfig:app.isInBuilder?this._onToggleMediaConfig.bind(this):null,onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS})}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"getBookmark",value:function(){var e=this._section.bookmark||{};return{status:e.enabled?"visible":"disabled",title:this.getPreviewText?this.getPreviewText():"",bookmark:e.title||this.getPreviewText&&this.getPreviewText()}}},{key:"getNumberOfBlocks",value:function(){return this._blocks&&this._blocks.length?this._blocks.length:0}},{key:"onScroll",value:function(e){if("unload"==e.status)this._isActive=!1,$.each(this._blocks,function(e,t){t.performAction({isActive:!1})});else if("preload"==e.status){if(this._isLoaded)return;this._isLoaded=!0,this._backgroundMedia.load(),$.each(this._blocks,function(e,t){t.load()})}else("visible"==e.status||"current"==e.status)&&(this._isLoaded&&$.each(this._blocks,function(e,t){t.load()}),this._isLoaded=!0,$.each(app.display.inlineVideos,function(t,n){n.sectionIndex==this._sectionIndex&&(n.bottom<=e.viewportBottom&&n.top>e.viewportTop?this._blocks[n.blockIndex].performAction({isActive:!0}):this._blocks[n.blockIndex].performAction({isActive:!1}))}))}},{key:"resize",value:function(){}}]),e}();t["default"]=c,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/Title",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="'+l((i=null!=(i=t.classes||(null!=e?e.classes:e))?i:s,typeof i===a?i.call(e,{name:"classes",hash:{},data:r}):i))+'" id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'">\r\n\r\n  ';return i=null!=(i=t.background||(null!=e?e.background:e))?i:s,o=typeof i===a?i.call(e,{name:"background",hash:{},data:r}):i,null!=o&&(u+=o),u+'\r\n\r\n  <div class="foreground">\r\n    <div class="thin-title">\r\n      <h3>'+l((i=null!=(i=t.title||(null!=e?e.title:e))?i:s,typeof i===a?i.call(e,{name:"title",hash:{},data:r}):i))+'</h3>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="thin-credits">'+l((i=null!=(i=t.credits||(null!=e?e.credits:e))?i:s,typeof i===a?i.call(e,{name:"credits",hash:{},data:r}):i))+'</div>\r\n  <div class="builder-section-add-menu"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/Title",[],function(){}),define("storymaps-react/tpl/view/section/Title",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","lib-build/hbars!./Title","lib-build/less!./Title"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n),l=i(r),u=i(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d={backgroundMedia:["color","image","map","video"],foregroundLayout:["thin-1"]},p=function(){function e(t){a(this,e),this.type="title",this.id=l["default"].getUID(),this._section=t,this._node=null,this._isLoaded=!1,this._backgroundMedia=null}return c(e,[{key:"getBookmark",value:function(){var e=this._section.bookmark||{};return{status:e.enabled?"visible":"disabled",title:this.getPreviewText?this.getPreviewText():"",bookmark:e.title||this.getPreviewText&&this.getPreviewText()}}},{key:"getPreviewThumbnail",value:function(){return this._backgroundMedia.getPreviewThumbnail()}},{key:"getPreviewText",value:function(){return this._section.foreground?this._section.foreground.title:""}},{key:"getPreviewIcon",value:function(){return""}},{key:"render",value:function(e){var t=this._section.background,n=this._section.foreground,r=[];return s["default"].checkErrors(d,this._section,e)?"":(this._section.options&&this._section.options.dimension&&r.push("dimension-"+this._section.options.dimension),this._backgroundMedia=s["default"].initMedia(t),(0,u["default"])({classes:["section","section-layout-thin"].concat(r).join(" "),id:this.id,background:s["default"].renderBackground({media:this._backgroundMedia}),title:n.title,credits:n.credits}))}},{key:"postCreate",value:function(e){this._node=e,this._backgroundMedia.postCreate({container:e})}},{key:"onScroll",value:function(e){"unload"!=e.status&&("preload"==e.status?this._isLoaded||(this._backgroundMedia.load(),this._isLoaded=!0):this._backgroundMedia.performAction({isActive:!0,progress:0}))}},{key:"resize",value:function(e){this._backgroundMedia.resize(e)}}]),e}();t["default"]=p,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/Immersive/Immersive",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="'+l((i=null!=(i=t.classes||(null!=e?e.classes:e))?i:s,typeof i===a?i.call(e,{name:"classes",hash:{},data:r}):i))+'" data-views="'+l((i=null!=(i=t.viewsCount||(null!=e?e.viewsCount:e))?i:s,typeof i===a?i.call(e,{name:"viewsCount",hash:{},data:r}):i))+'">\r\n  <div class="background-title"><h2>'+l((i=null!=(i=t.title||(null!=e?e.title:e))?i:s,typeof i===a?i.call(e,{name:"title",hash:{},data:r}):i))+'</h2></div>\r\n  <div class="background-credits">'+l((i=null!=(i=t.credits||(null!=e?e.credits:e))?i:s,typeof i===a?i.call(e,{name:"credits",hash:{},data:r}):i))+'</div>\r\n  <div class="background-filler"></div>\r\n\r\n  ';return i=null!=(i=t.background||(null!=e?e.background:e))?i:s,o=typeof i===a?i.call(e,{name:"background",hash:{},data:r}):i,null!=o&&(u+=o),u+='\r\n\r\n  <div class="background-swipe-trans-extras">\r\n    <div class="separator-vertical"></div>\r\n    <div class="separator-horizontal"></div>\r\n  </div>\r\n\r\n  <div class="foreground">\r\n    ',i=null!=(i=t.foreground||(null!=e?e.foreground:e))?i:s,o=typeof i===a?i.call(e,{name:"foreground",hash:{},data:r}):i,null!=o&&(u+=o),u+'\r\n  </div>\r\n\r\n  <div class="builder-panel"></div>\r\n  <div class="builder-section-add-menu"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/Immersive/Immersive",[],function(){}),define("storymaps-react/tpl/view/section/Immersive/Immersive",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","lib-build/hbars!./Immersive","lib-build/less!./Immersive"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n),l=i(r),u=i(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=125,p=function(){function e(t){a(this,e),this.type="immersive",this.id=l["default"].getUID(),this._section=t,this._section.options=this._section.options||{},this._nbViews=0,this._isLoaded=!1,this._isActive=!1,this._currentViewIndex=-1,this._isNavigatingAway=!1,this._currentViewScrollPosition=-1,this._swipeTransitionExtrasNode=null,this._medias=[],this._panels=[],this._transitions=[],this._mediaCache={}}return c(e,[{key:"render",value:function(){var e=this._section.views,t=this._section.options;e=e||[],t=t||{},this._nbViews=e.length;var n=[],r="",o="",i="",a="";1==this._nbViews&&l["default"].isMobileBrowser()&&!t["events-btn"]&&n.push("disable-snap"),t.style&&n.push(t.style),e.length&&e[0].foreground.panels&&e[0].foreground.panels[0]&&n.push("layout-"+e[0].foreground.panels[0].layout),t.events&&n.push("events-"+t.events),t["events-btn"]&&n.push("events-"+t["events-btn"]),l["default"].isMobileBrowser()&&t["events-btn"]&&(this._nbViews=1.2),e.length&&e[0].foreground.title&&(r=e[0].foreground.title.value),t.credits&&(o=t.credits);var c=!0,d=!1,p=void 0;try{for(var f,h=e[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value,v=this.isMediaAlreadyLoaded(m.background),g=s["default"].initMedia(m.background,this._mediaCache);v||(i+=s["default"].renderBackground({media:g,transition:m.transition})),this._medias.push(g);var y=m.foreground.panels?m.foreground.panels[0]:null;if(y){var b=app.ui.ImmersivePanelFactory.createInstance(y,{onUpdateLayout:this.onUpdatePanelLayout.bind(this)});this._panels.push(b),a+=b.render()}this._transitions.push(m.transition)}}catch(w){d=!0,p=w}finally{try{!c&&h["return"]&&h["return"]()}finally{if(d)throw p}}return(0,u["default"])({classes:["section","section-immersive"].concat(n).join(" "),viewsCount:this._nbViews+1,title:r,credits:o,background:i,foreground:a})}},{key:"postCreate",value:function(e){var t=this;this._node=e,this._swipeTransitionExtrasNode=this._node.find(".background-swipe-trans-extras");var n=!0,r=!1,o=void 0;try{for(var i,a=function(){var n=i.value;n.postCreate({container:e,delayBuilderInit:!0,onEdit:function(e){this._onEditMedia(n,e)}.bind(t),onToggleMediaConfig:app.isInBuilder?t._onToggleMediaConfig.bind(t):null,onConfigAction:app.isInBuilder?t._onMediaConfigAction.bind(t):null,builderConfigurationTabs:t.MEDIA_BUILDER_TABS_BACKGROUND})},s=this._medias[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(l){r=!0,o=l}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}var u=!0,c=!1,d=void 0;try{for(var p,f=this._panels[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value;h.postCreate({container:e,mediaConfigurationTabs:this.MEDIA_BUILDER_TABS_PANEL})}}catch(l){c=!0,d=l}finally{try{!u&&f["return"]&&f["return"]()}finally{if(c)throw d}}app.foo=this._medias,this.update()}},{key:"update",value:function(){this._nbViews=this._medias.length;var e=this._nbViews+1;1==e&&this._node.find(".background").hasClass("background-type-image")&&(e*=1.1),this._node.css("min-height",100*e+"vh"),this._applyTransitionRules(),this._computeWebMapsSwipeLayers()}},{key:"onScroll",value:function(e){var t=parseInt(e.currentSectionScroll/app.display.windowHeight,10)+1;this._isNavigatingAway=t>this._nbViews,this._currentViewScrollPosition=e.currentSectionScroll%app.display.windowHeight,t=Math.min(t,this._nbViews),e.viewportTop<=0&&(t=1);var n=this._medias[t-1];if(n)if("unload"!=e.status){if(!this._isLoaded){this._isLoaded=!0,this.loadMedias();var r=!0,o=!1,i=void 0;try{for(var a,s=this._panels[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.load()}}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}this._node.find(".background").eq(0).addClass("active")}if("visible"==e.status||"current"==e.status){var c={isActive:"current"==e.status,isNewView:this._currentViewIndex!=t,viewIndex:t,visibilityProgress:1,scrollPositionSection:e.currentSectionScroll,scrollPositionView:this._currentViewScrollPosition,performBuilderInit:this._currentViewIndex!=t};if(this._currentViewIndex=t,(c.isNewView||"webmap"==n.type)&&n.performAction(c),"current"==e.status){var p=this._transitions[t-1],f=this._medias[t-2],h=!this._isTransitionDoneByMedia(p,n,f);if(c.isNewView&&(n.getNode().nextAll().removeClass("active"),n.getNode().addClass("active")),!this._isNavigatingAway&&("swipe-vertical"==p||"swipe-horizontal"==p)&&h){var m=null,v=app.display.windowWidth,g=app.display.windowHeight;app.isInBuilder&&(g-=d),"swipe-vertical"==p?(m=g-this._currentViewScrollPosition,n.getNode().css("clip","rect("+m+"px,"+v+"px,"+app.display.windowHeight+"px,0px)"),this._swipeTransitionExtrasNode.css({top:m,left:""}).toggleClass("trans-vertical",!0).toggleClass("trans-horizontal",!1).addClass("active")):"swipe-horizontal"==p&&(m=v-this._currentViewScrollPosition/g*v,n.getNode().css("clip","rect(0px,"+v+"px,"+app.display.windowHeight+"px,"+m+"px)"),this._swipeTransitionExtrasNode.css({top:"",left:m}).toggleClass("trans-vertical",!1).toggleClass("trans-horizontal",!0).addClass("active"))}var y=this._panels&&this._panels.length?this._panels[t-1]:null;if(y.updatePosition(e),c.isNewView){var b=this._panels[t-2];b&&b.updatePosition({isNewView:!0})}t==this._nbViews&&(this._node.toggleClass("hide-title hide-credits",this._isNavigatingAway),"scroll-partial"==y.layout&&this._isNavigatingAway&&this._node.find(".imm-panel").css("opacity",0))}}}else{this._isActive=!1;var w=!0,C=!1,_=void 0;try{for(var x,E=this._medias[Symbol.iterator]();!(w=(x=E.next()).done);w=!0){var T=x.value;T.performAction({isActive:!1})}}catch(u){C=!0,_=u}finally{try{!w&&E["return"]&&E["return"]()}finally{if(C)throw _}}}}},{key:"loadMedias",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this._medias[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!1;if(("webmap"==a.type||"webscene"==a.type)&&(e.indexOf(a.id)>-1?s=!0:e.push(a.id)),!s){var l=a.load();l&&l.then(function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._medias[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.id==e&&a.postLoad()}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}.bind(this))}}}catch(u){n=!0,r=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"navigateToViewByIndex",value:function(e){var t=this._node.position().top,n=app.display.windowHeight,r=e*n,o=n/2;app.isInBuilder&&(o+=d),$("html,body").animate({scrollTop:t+r+o})}},{key:"isMediaAlreadyLoaded",value:function(e){return s["default"].getMediaIndexes(this._medias,e).length>0}},{key:"isMediaUniqueInSection",value:function(e){return 1==s["default"].getMediaIndexes(this._medias,e).length}},{key:"resize",value:function(){}},{key:"getBookmark",value:function(){var e=this._section.bookmark||{};return{status:e.enabled?"visible":"disabled",title:this.getPreviewText?this.getPreviewText():"",bookmark:e.title||this.getPreviewText&&this.getPreviewText()}}},{key:"_computeWebMapsSwipeLayers",value:function(){for(var e=0;e<this._medias.length;e++){var t=this._getTransitionInfo(e),n=this._medias[e];0!=e&&"webmap"==n.type&&t.isDuplicateConsecutive&&this._medias[e].computeSwipeLayers(this._medias[e-1].getLayersConfiguration())}}},{key:"_isTransitionDoneByMedia",value:function(e,t,n){return e&&t&&n&&("swipe-vertical"==e||"swipe-horizontal"==e)&&"webmap"==t.type&&"webmap"==n.type&&t.id==n.id}},{key:"_applyTransitionRules",value:function(){for(var e=0;e<this._medias.length;e++){var t=this._getTransitionInfo(e);0!=e?t.isDuplicateConsecutive?-1==t.duplicateConsecutiveTransitions.indexOf(this._transitions[e])&&(this._transitions[e]="none"):t.isDuplicate&&t.firstOccurenceTransition&&(this._transitions[e]=t.firstOccurenceTransition):this._transitions[e]="fade-slow"}}},{key:"_getTransitionInfo",value:function(e){var t=this._medias[e],n=s["default"].getMediaIndexes(this._medias,t,!0),r=!1,o=null,i=!1,a=[];return n.length>1&&n[0]<e&&(r=!0,o=this._transitions[n[0]],n[n.indexOf(e)-1]==e-1&&(i=!0,a=t.getAuthorizedTransitionsWith(this._medias[e-1]))),{isDuplicate:r,isDuplicateConsecutive:i,firstOccurenceTransition:o,duplicateConsecutiveTransitions:a}}},{key:"onUpdatePanelLayout",value:function(){}
}]),e}();t["default"]=p,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/Credits",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="section section-layout-credits">\r\n\r\n  ';return i=null!=(i=t.background||(null!=e?e.background:e))?i:s,o=typeof i===a?i.call(e,{name:"background",hash:{},data:r}):i,null!=o&&(u+=o),u+='\r\n\r\n  <div class="foreground">\r\n    <div class="author-info">\r\n      <div class="author-info-wrapper">\r\n        <div class="author-info-text">\r\n          <div class="author-info-intro">'+l((i=null!=(i=t.authorIntro||(null!=e?e.authorIntro:e))?i:s,typeof i===a?i.call(e,{name:"authorIntro",hash:{},data:r}):i))+'</div>\r\n          <div class="author-info-org">'+l((i=null!=(i=t.authorName||(null!=e?e.authorName:e))?i:s,typeof i===a?i.call(e,{name:"authorName",hash:{},data:r}):i))+'</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="credits">\r\n      ',i=null!=(i=t.credits||(null!=e?e.credits:e))?i:s,o=typeof i===a?i.call(e,{name:"credits",hash:{},data:r}):i,null!=o&&(u+=o),u+'\r\n    </div>\r\n  </div>\r\n  \r\n  <div class="builder-section-add-menu"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/Credits",[],function(){}),define("lib-build/css!storymaps-react/tpl/view/ui/AuthorInfo",[],function(){}),define("storymaps-react/tpl/view/section/Credits",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","lib-build/hbars!./Credits","lib-build/less!./Credits","lib-build/css!../ui/AuthorInfo"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n),l=i(r),u=i(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d={backgroundMedia:["color"],foregroundLayout:["credits-1"]},p=function(){function e(t){a(this,e),this.type="credits",this.id=l["default"].getUID(),this._section=t,this._node=null,this._backgroundMedia=null}return c(e,[{key:"render",value:function(e){var t=this._section.background,n=this._section.foreground;return s["default"].checkErrors(d,this._section,e)?"":(this._backgroundMedia=s["default"].initMedia(t),(0,u["default"])({background:s["default"].renderBackground({media:this._backgroundMedia}),credits:s["default"].renderBlocks(n.blocks).output,authorIntro:"A Story Map by",authorName:app.data.author.name}))}},{key:"postCreate",value:function(e){this._node=e}},{key:"getPreviewThumbnail",value:function(){return""}},{key:"getPreviewText",value:function(){return""}},{key:"getPreviewIcon",value:function(){return""}},{key:"onScroll",value:function(){}},{key:"resize",value:function(){}}]),e}();t["default"]=p,e.exports=t["default"]}),define("storymaps-react/tpl/view/section/FactoryViewer",["module","exports","storymaps/tpl/view/section/Cover/Cover","./Sequence","./Title","./Immersive/Immersive","./Credits"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=s(n),c=s(r),d=s(o),p=s(i),f=s(a),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(){l(this,e)}return h(e,null,[{key:"getClasses",value:function(){return{Cover:u["default"],Sequence:c["default"],Title:d["default"],Immersive:p["default"],Credits:f["default"],CreditsPlaceholder:function(){}}}},{key:"createInstance",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=null,n=e.type;if(!n)return console.error("Invalid json for: ",e),t;var r=this.getClasses();return"cover"==n?t=new r.Cover(e):"sequence"==n?t=new r.Sequence(e):"title"==n?t=new r.Title(e):"immersive"==n?t=new r.Immersive(e):"credits"==n?t=new r.Credits(e):"credits-placeholder"==n?t=new r.CreditsPlaceholder(e):console.error("Could not find corresponding layout for: ",e),t}}]),e}();t["default"]=m,e.exports=t["default"]}),"classList"in document.createElement("_")||!function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],o=Object,i=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},u=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;o>r;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=u[n]=[],d=function(){return new u(this)};if(s[n]=Error[n],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",-1!==l(this,e)},c.add=function(){var e,t=arguments,n=0,r=t.length,o=!1;do e=t[n]+"",-1===l(this,e)&&(this.push(e),o=!0);while(++n<r);o&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do for(e=n[r]+"",t=l(this,e);-1!==t;)this.splice(t,1),i=!0,t=l(this,e);while(++r<o);i&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),t===!0||t===!1?t:!n},c.toString=function(){return this.join(" ")},o.defineProperty){var p={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(r,t,p)}catch(f){-2146823252===f.number&&(p.enumerable=!1,o.defineProperty(r,t,p))}}else o[n].__defineGetter__&&r.__defineGetter__(t,d)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},o=n.prototype,i=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=e.URL||e.webkitURL||e,d=c.createObjectURL,p=c.revokeObjectURL,f=c,h=e.btoa,m=e.atob,v=e.ArrayBuffer,g=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=i.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),f.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):d?d.call(c,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&p&&p.call(c,e)},o.append=function(e){var n=this.data;if(g&&(e instanceof v||e instanceof g)){for(var o="",i=new g(e),l=0,u=i.length;u>l;l++)o+=String.fromCharCode(i[l]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},i.slice=function(e,t,n){var o=arguments.length;return 3>o&&(n=null),new r(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,t){var r=t?t.type||"":"",o=new n;if(e)for(var i=0,a=e.length;a>i;i++)Uint8Array&&e[i]instanceof Uint8Array?o.append(e[i].buffer):o.append(e[i]);var s=o.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e,t){"use strict";"object"==typeof module?module.exports=t:"function"==typeof define&&define.amd?define("lib/medium-editor/dist/js/medium-editor",[],function(){return t}):e.MediumEditor=t}(this,function(){"use strict";function e(e,t){return this.init(e,t)}return e.extensions={},function(t){function n(e,t){var n,r=Array.prototype.slice.call(arguments,2);t=t||{};for(var o=0;o<r.length;o++){var i=r[o];if(i)for(n in i)i.hasOwnProperty(n)&&"undefined"!=typeof i[n]&&(e||t.hasOwnProperty(n)===!1)&&(t[n]=i[n])}return t}var r=!1;try{var o=document.createElement("div"),i=document.createTextNode(" ");o.appendChild(i),r=o.contains(i)}catch(a){}var s={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(e){return s.isMac&&e.metaKey||!s.isMac&&e.ctrlKey?!0:!1},isKey:function(e,t){var n=s.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1===t.indexOf(n)?!1:!0},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},createLink:function(e,t,n,r){var o=e.createElement("a");return s.moveTextRangeIntoElement(t[0],t[t.length-1],o),o.setAttribute("href",n),r&&o.setAttribute("target",r),o},findOrCreateMatchingTextNodes:function(e,t,n){for(var r=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),o=[],i=0,a=!1,l=null,u=null;null!==(l=r.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!a&&n.start<i+l.nodeValue.length&&(a=!0,u=s.splitStartNodeIfNeeded(l,n.start,i)),a&&s.splitEndNodeIfNeeded(l,u,n.end,i),a&&i===n.end)break;if(a&&i>n.end+1)throw new Error("PerformLinking overshot the target!");a&&o.push(u||l),i+=l.nodeValue.length,null!==u&&(i+=u.nodeValue.length,r.nextNode()),u=null}else"img"===l.tagName.toLowerCase()&&(!a&&n.start<=i&&(a=!0),a&&o.push(l));return o},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,r){var o,i;o=r+(t||e).nodeValue.length+(t?e.nodeValue.length:0)-1,i=(t||e).nodeValue.length-(o+1-n),o>=n&&r!==o&&0!==i&&(t||e).splitText(i)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var n=[],r=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(r).length)return[t];for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes[o];if(3===i.nodeType)n.push(i);else if(1===i.nodeType){var a=i.querySelectorAll(r);0===a.length?n.push(i):n=n.concat(e.util.splitByBlockElements(i))}}return n},findAdjacentTextNodeWithContent:function(e,t,n){var r,o=!1,i=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(r=i.nextNode();r;){if(r===t)o=!0;else if(o&&3===r.nodeType&&r.nodeValue&&r.nodeValue.trim().length>0)break;r=i.nextNode()}return r},findPreviousSibling:function(e){if(!e||s.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!s.isMediumEditorElement(e.parentNode);)e=e.parentNode,t=e.previousSibling;return t},isDescendant:function(e,t,n){if(!e||!t)return!1;if(e===t)return!!n;if(1!==e.nodeType)return!1;if(r||3!==t.nodeType)return e.contains(t);for(var o=t.parentNode;null!==o;){if(o===e)return!0;o=o.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,r,o,i=50,a=null,s=0,l=function(){s=Date.now(),a=null,o=e.apply(n,r),a||(n=r=null)};return t||0===t||(t=i),function(){var i=Date.now(),u=t-(i-s);return n=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=i,o=e.apply(n,r),a||(n=r=null)):a||(a=setTimeout(l,u)),o}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(s.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,n){var r,o,i,a,l,u,c,d=!1,p=["insertHTML",!1,n];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,p)}catch(f){}if(r=t.getSelection(),r.rangeCount){if(o=r.getRangeAt(0),c=o.commonAncestorContainer,s.isMediumEditorElement(c)&&!c.firstChild)o.selectNode(c.appendChild(t.createTextNode("")));else if(3===c.nodeType&&0===o.startOffset&&o.endOffset===c.nodeValue.length||3!==c.nodeType&&c.innerHTML===o.toString()){for(;!s.isMediumEditorElement(c)&&c.parentNode&&1===c.parentNode.childNodes.length&&!s.isMediumEditorElement(c.parentNode);)c=c.parentNode;o.selectNode(c)}for(o.deleteContents(),i=t.createElement("div"),i.innerHTML=n,a=t.createDocumentFragment();i.firstChild;)l=i.firstChild,u=a.appendChild(l);o.insertNode(a),u&&(o=o.cloneRange(),o.setStartAfter(u),o.collapse(!0),r.removeAllRanges(),r.addRange(o)),d=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(p,d),d},execFormatBlock:function(t,n){var r,o=s.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===n){if(o&&(r=Array.prototype.slice.call(o.childNodes),r.some(function(e){return s.isBlockContainer(e)})))return t.execCommand("outdent",!1,null);if(s.isIE)return t.execCommand("indent",!1,n)}if(o&&n===o.nodeName.toLowerCase()&&(n="p"),s.isIE&&(n="<"+n+">"),o&&"blockquote"===o.nodeName.toLowerCase()){if(s.isIE&&"<p>"===n)return t.execCommand("outdent",!1,n);if((s.isFF||s.isEdge)&&"p"===n)return r=Array.prototype.slice.call(o.childNodes),r.some(function(e){return!s.isBlockContainer(e)})&&t.execCommand("formatBlock",!1,n),t.execCommand("outdent",!1,n)}return t.execCommand("formatBlock",!1,n)},setTargetBlank:function(e,t){var n,r=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)(!1===r||r===e[n].attributes.href.value)&&(e[n].target="_blank")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&e[n].removeAttribute("target")},addClassToAnchors:function(e,t){var n,r,o=t.split(" ");if("a"===e.nodeName.toLowerCase())for(r=0;r<o.length;r+=1)e.classList.add(o[r]);else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)for(r=0;r<o.length;r+=1)e[n].classList.add(o[r])},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!s.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t)return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,n){if("li"===n.nodeName.toLowerCase()){var r=n.parentElement;"p"===r.parentElement.nodeName.toLowerCase()&&(s.unwrap(r.parentElement,t),e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var r=t,o=null,i=!n;r!==e;){var a,s=r.parentNode,l=s.cloneNode(!1),u=i?r:s.firstChild;for(o&&(i?l.appendChild(o):a=o),o=l;u;){var c=u.nextSibling;u===r?(u.hasChildNodes()?u=u.cloneNode(!1):u.parentNode.removeChild(u),u.textContent&&o.appendChild(u),u=i?c:null):(u.parentNode.removeChild(u),(u.hasChildNodes()||u.textContent)&&o.appendChild(u),u=c)}a&&o.appendChild(a),r=s}return o},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var r=s.findCommonRoot(e,t);if(!r)return!1;if(t===e){var o=e.parentNode,i=e.nextSibling;return o.removeChild(e),n.appendChild(e),i?o.insertBefore(n,i):o.appendChild(n),n.hasChildNodes()}for(var a,l,u,c=[],d=0;d<r.childNodes.length;d++)if(u=r.childNodes[d],a){if(s.isDescendant(u,t,!0)){l=u;break}c.push(u)}else s.isDescendant(u,e,!0)&&(a=u);var p=l.nextSibling,f=r.ownerDocument.createDocumentFragment();return a===e?(a.parentNode.removeChild(a),f.appendChild(a)):f.appendChild(s.splitOffDOMTree(a,e)),c.forEach(function(e){e.parentNode.removeChild(e),f.appendChild(e)}),l===t?(l.parentNode.removeChild(l),f.appendChild(l)):f.appendChild(s.splitOffDOMTree(l,t,!0)),n.appendChild(f),l.parentNode===r?r.insertBefore(n,l):p?r.insertBefore(n,p):r.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=s.depthOfNode(e),r=s.depthOfNode(t),o=e,i=t;n!==r;)n>r?(o=o.parentNode,n-=1):(i=i.parentNode,r-=1);for(;o!==i;)o=o.parentNode,i=i.parentNode;return o},isElementAtBeginningOfBlock:function(e){for(var t,n;!s.isBlockContainer(e)&&!s.isMediumEditorElement(e);){for(n=e;n=n.previousSibling;)if(t=3===n.nodeType?n.nodeValue:n.textContent,t.length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return s.traverseUp(e,function(e){return s.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==s.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return s.traverseUp(e,function(e){return s.isBlockContainer(e)||s.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=s.isBlockContainer(e)?e:!1;return s.traverseUp(e,function(e){return s.isBlockContainer(e)&&(t=e),!t&&s.isMediumEditorElement(e)?(t=e,!0):!1}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if(e=s.traverseUp(e,function(e){return-1===s.emptyElementNames.indexOf(e.nodeName.toLowerCase())}),"table"===e.nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=s._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,n){var r=e+" is deprecated, please use "+t+" instead.";n&&(r+=" Will be removed in "+n),s.warn(r)},deprecatedMethod:function(e,t,n,r){s.deprecated(e,t,r),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.forEach(function(t){e.nodeName.toLowerCase()===t&&e.parentNode.removeChild(e)})},getClosestTag:function(e,t){return s.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var n=t.createDocumentFragment(),r=Array.prototype.slice.call(e.childNodes),o=0;o<r.length;o++)n.appendChild(r[o]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)}};e.util=s}(window),function(){var t=function(t){e.util.extend(this,t)};t.extend=function(t){var n,r=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.util.extend(n,r);var o=function(){this.constructor=n};return o.prototype=r.prototype,n.prototype=new o,t&&e.util.extend(n.prototype,t),n},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}}),e.Extension=t}(),function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(t,n){var r,o,i=n.getSelection();return 0===i.rangeCount?!1:(r=i.getRangeAt(0),o=r.commonAncestorContainer,e.util.traverseUp(o,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return e.util.isMediumEditorElement(t)},t)},exportSelection:function(e,t){if(!e)return null;var n=null,r=t.getSelection();if(r.rangeCount>0){var o,i=r.getRangeAt(0),a=i.cloneRange();a.selectNodeContents(e),a.setEnd(i.startContainer,i.startOffset),o=a.toString().length,n={start:o,end:o+i.toString().length},this.doesRangeStartWithImages(i,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,i.endContainer,i.endOffset);if(s&&(n.trailingImageCount=s),0!==o){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,i.startContainer,i.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,r){if(e&&t){var o=n.createRange();o.setStart(t,0),o.collapse(!0);var i,a=t,s=[],l=0,u=!1,c=!1,d=0,p=!1,f=!1,h=null;for((r||e.startsWithImage||"undefined"!=typeof e.emptyBlocksIndex)&&(f=!0);!p&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||c){if(e.trailingImageCount&&c&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var m=0;a.parentNode.childNodes[m]!==a;)m++;o.setEnd(a.parentNode,m+1),p=!0}if(!p&&1===a.nodeType)for(var v=a.childNodes.length-1;v>=0;)s.push(a.childNodes[v]),v-=1}else i=l+a.length,!u&&e.start>=l&&e.start<=i&&(f||e.start<i?(o.setStart(a,e.start-l),u=!0):h=a),u&&e.end>=l&&e.end<=i&&(e.trailingImageCount?c=!0:(o.setEnd(a,e.end-l),p=!0)),l=i;p||(a=s.pop())}!u&&h&&(o.setStart(h,h.length),o.setEnd(h,h.length)),"undefined"!=typeof e.emptyBlocksIndex&&(o=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,o)),r&&(o=this.importSelectionMoveCursorPastAnchor(e,o));var g=n.getSelection();g.removeAllRanges(),g.addRange(o)}},importSelectionMoveCursorPastAnchor:function(t,n){var r=function(e){return"a"===e.nodeName.toLowerCase()};if(t.start===t.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&e.util.traverseUp(n.startContainer,r)){for(var o=n.startContainer,i=n.startContainer.parentNode;null!==i&&"a"!==i.nodeName.toLowerCase();)i.childNodes[i.childNodes.length-1]!==o?i=null:(o=i,i=i.parentNode);if(null!==i&&"a"===i.nodeName.toLowerCase()){for(var a=null,s=0;null===a&&s<i.parentNode.childNodes.length;s++)i.parentNode.childNodes[s]===i&&(a=s);n.setStart(i.parentNode,a+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,r,o,i){var a,s,l=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),u=i.startContainer,c=0;for(o=o||1,a=3===u.nodeType&&e.util.isBlockContainer(u.previousSibling)?u.previousSibling:e.util.getClosestBlockContainer(u);l.nextNode();)if(s){if(s=l.currentNode,c++,c===o)break;if(s.textContent.length>0)break}else a===l.currentNode&&(s=l.currentNode);return s||(s=a),i.setStart(e.util.getFirstSelectableLeafNode(s),0),i},getIndexRelativeToAdjacentEmptyBlocks:function(n,r,o,i){if(o.textContent.length>0&&i>0)return-1;var a=o;if(3!==a.nodeType&&(a=o.childNodes[i]),a){if(!e.util.isElementAtBeginningOfBlock(a))return-1;var s=e.util.findPreviousSibling(a);if(!s)return-1;if(s.nodeValue)return-1}for(var l=e.util.getClosestBlockContainer(o),u=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,t,!1),c=0;u.nextNode();){var d=""===u.currentNode.textContent;if((d||c>0)&&(c+=1),u.currentNode===l)return c;d||(c=0)}return c},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var r=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);r.nextNode();){var o=r.currentNode;if(o===n)break;if(o.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,r){if(0===r||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var o=n.childNodes[r-1];o.hasChildNodes();)o=o.lastChild;for(var i,a=e,s=[],l=0,u=!1,c=!1,d=!1,p=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||c){if("img"===a.nodeName.toLowerCase()&&p++,a===o)d=!0;else if(1===a.nodeType)for(var f=a.childNodes.length-1;f>=0;)s.push(a.childNodes[f]),f-=1}else p=0,i=l+a.length,!u&&t.start>=l&&t.start<=i&&(u=!0),u&&t.end>=l&&t.end<=i&&(c=!0),l=i;d||(a=s.pop())}return p},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return n&&("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img"))?!0:!1},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent(function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n},e);return!t&&n},getSelectionHtml:function(e){var t,n,r,o="",i=e.getSelection();if(i.rangeCount){for(r=e.createElement("div"),t=0,n=i.rangeCount;n>t;t+=1)r.appendChild(i.getRangeAt(t).cloneContents());o=r.innerHTML}return o},getCaretOffsets:function(e,t){var n,r;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),r=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),r.selectNodeContents(e),r.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:r.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,r,o=e.getSelection();if(!o.rangeCount||o.isCollapsed||!o.getRangeAt(0).commonAncestorContainer)return[];if(t=o.getRangeAt(0),3===t.commonAncestorContainer.nodeType){for(n=[],r=t.commonAncestorContainer;r.parentNode&&1===r.parentNode.childNodes.length;)n.push(r.parentNode),r=r.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"==typeof o.containsNode?o.containsNode(e,!0):!0})},selectNode:function(e,t){var n=t.createRange(),r=t.getSelection();n.selectNodeContents(e),r.removeAllRanges(),r.addRange(n)},select:function(e,t,n,r,o){e.getSelection().removeAllRanges();var i=e.createRange();return i.setStart(t,n),r?i.setEnd(r,o):i.collapse(!0),e.getSelection().addRange(i),i},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},getSelectionStart:function(e){var t=e.getSelection().anchorNode,n=t&&3===t.nodeType?t.parentNode:t;return n}};e.selection=n}(),function(){var t=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};t.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,n,r,o){t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(n,r,o),this.events.push([e,n,r,o])}.bind(this))},detachDOMEvent:function(t,n,r,o){var i,a;t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){i=this.indexOfListener(e,n,r,o),-1!==i&&(a=this.events.splice(i,1)[0],a[0].removeEventListener(a[1],a[2],a[3]))}.bind(this))},indexOfListener:function(e,t,n,r){var o,i,a;for(o=0,i=this.events.length;i>o;o+=1)if(a=this.events[o],a[0]===e&&a[1]===t&&a[2]===n&&a[3]===r)return o;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:n})})},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var r=Array.prototype.slice.call(arguments);return t(r,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache=[],this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML,
this.InputEventOnContenteditableSupported&&this.attachDOMEvent(e,"input",this.handleInput.bind(this))}.bind(this)),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.base.elements.forEach(function(n){this.attachDOMEvent(n,e,t.bind(this))},this)},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(t,n){var r,o=this.base.getExtensionByName("toolbar"),i=o?o.getToolbarElement():null,a=this.base.getExtensionByName("anchor-preview"),s=a&&a.getPreviewElement?a.getPreviewElement():null,l=this.base.getFocusedElement();l&&"click"===n.type&&this.lastMousedownTarget&&(e.util.isDescendant(l,this.lastMousedownTarget,!0)||e.util.isDescendant(i,this.lastMousedownTarget,!0)||e.util.isDescendant(s,this.lastMousedownTarget,!0))&&(r=l),r||this.base.elements.some(function(n){return!r&&e.util.isDescendant(n,t,!0)&&(r=n),!!r},this);var u=!e.util.isDescendant(l,t,!0)&&!e.util.isDescendant(i,t,!0)&&!e.util.isDescendant(s,t,!0);r!==l&&(l&&u&&(l.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",n,l)),r&&(r.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",n,r))),u&&this.triggerCustomEvent("externalInteraction",n)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),r=e.innerHTML;r!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=r}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n,r=t.currentTarget.activeElement;this.base.elements.some(function(t){return e.util.isDescendant(t,r,!0)?(n=t,!0):!1},this),n&&this.updateInput(n,{target:r,currentTarget:n})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=t}(),function(){var t=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(n){t.isBuiltInButton(n)?e.Extension.call(this,this.defaults[n]):e.Extension.call(this,n)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),r=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===r&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,r=!1,o=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&(r=-1!==o.indexOf(e.nodeName.toLowerCase())),!r&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||(r=-1!==n.indexOf(e),(r||"text-decoration"!==this.style.prop)&&(this.knownState=r))},this)),r)}});t.isBuiltInButton=function(t){return"string"==typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=t}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var t=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}});e.extensions.form=t}(),function(){var t=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var n=e.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var n=this.getInput(),r=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox();if(t=t||{url:""},"string"==typeof t&&(t={url:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=t.url,n.focus(),r&&(r.checked="_blank"===t.target),o){var i=t.buttonClass?t.buttonClass.split(" "):[];o.checked=-1!==i.indexOf(this.customClassOption)}},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={url:this.getInput().value.trim()};return this.linkValidation&&(n.url=this.checkLinkFormat(n.url)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,n=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;return n.test(e)?"tel:"+e:(t.test(e)?"":"http://")+encodeURI(e)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),r=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(r,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document,t=e.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){return t.keyCode===e.util.keyCode.ENTER?(t.preventDefault(),void this.doFormSave()):void(t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel()))},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.anchor=t}(),function(){var t=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||e.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,r=this.anchorPreview.offsetHeight,o=e.getBoundingClientRect(),i=(o.left+o.right)/2,a=this.diffLeft,s=this.diffTop;t=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(a=l.diffLeft,s=l.diffTop),n=a-t,this.anchorPreview.style.top=Math.round(r+o.bottom-s+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",t>i?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-i<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+i+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={url:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var n=e.util.getClosestTag(t.target,"a");if(!1!==n){if(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML))return!0;var r=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&r&&r.isDisplayed&&r.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var e=(new Date).getTime()-this.lastOver;e>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=t}(),function(){function t(t){return!e.util.getClosestTag(t,"a")}var n,r,o,i;n=[" ","	","\n","\r","","","","","","\u2028","\u2029"],r="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",o="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+r+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+r+"))",i=new RegExp("^("+r+")$","i");var a=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(n){window.console&&window.console.error("Failed to perform linking",n),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var n=e.util.splitByBlockElements(t),r=!1;0===n.length&&(n=[t]);for(var o=0;o<n.length;o++)r=this.removeObsoleteAutoLinkSpans(n[o])||r,r=this.performLinkingWithinElement(n[o])||r;return this.base.events.updateInput(t,{target:t,currentTarget:t}),r},removeObsoleteAutoLinkSpans:function(n){if(!n||3===n.nodeType)return!1;for(var r=n.querySelectorAll('span[data-auto-link="true"]'),o=!1,i=0;i<r.length;i++){var a=r[i].textContent;if(-1===a.indexOf("://")&&(a=e.util.ensureUrlHasProtocol(a)),r[i].getAttribute("data-href")!==a&&t(r[i])){o=!0;var s=a.replace(/\s+$/,"");if(r[i].getAttribute("data-href")===s){var l=a.length-s.length,u=e.util.splitOffDOMTree(r[i],this.splitTextBeforeEnd(r[i],l));r[i].parentNode.insertBefore(u,r[i].nextSibling)}else e.util.unwrap(r[i],this.document)}}return o},splitTextBeforeEnd:function(e,t){for(var n=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r=!0;r;)r=null!==n.lastChild();for(var o,i,a;t>0&&null!==a;)o=n.currentNode,i=o.nodeValue,i.length>t?(a=o.splitText(i.length-t),t=0):(a=n.previousNode(),t-=i.length);return a},performLinkingWithinElement:function(t){for(var n=this.findLinkableText(t),r=!1,o=0;o<n.length;o++){var i=e.util.findOrCreateMatchingTextNodes(this.document,t,n[o]);this.shouldNotLink(i)||this.createAutoLink(i,n[o].href)}return r},shouldNotLink:function(t){for(var n=!1,r=0;r<t.length&&n===!1;r++)n=!!e.util.traverseUp(t[r],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return n},findLinkableText:function(e){for(var t=new RegExp(o,"gi"),r=e.textContent,a=null,s=[];null!==(a=t.exec(r));){var l=!0,u=a.index+a[0].length;l=!(0!==a.index&&-1===n.indexOf(r[a.index-1])||u!==r.length&&-1===n.indexOf(r[u])),l=l&&(-1!==a[0].indexOf("/")||i.test(a[0].split(".").pop().split("?").shift())),l&&s.push({href:a[0],start:a.index,end:u})}return s},createAutoLink:function(t,n){n=e.util.ensureUrlHasProtocol(n);var r=e.util.createLink(this.document,t,n,this.getEditorOption("targetBlank")?"_blank":null),o=this.document.createElement("span");for(o.setAttribute("data-auto-link","true"),o.setAttribute("data-href",n),r.insertBefore(o,r.firstChild);r.childNodes.length>1;)o.appendChild(r.childNodes[1])}});e.extensions.autoLink=a}(),function(){function t(t){var r=e.util.getContainerEditorElement(t),o=Array.prototype.slice.call(r.parentElement.querySelectorAll("."+n));o.forEach(function(e){e.classList.remove(n)})}var n="medium-editor-dragover",r=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var r=e.target.classList?e.target:e.target.parentElement;t(r),"dragover"===e.type&&r.classList.add(n)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var n=this.base.exportSelection();n.start=n.end,this.base.importSelection(n),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),t(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(t){var n=this.document.createElement("img");n.src=t.target.result,e.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});e.extensions.fileDragging=r}(),function(){var t=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(t){var n=e.util.getKeyCode(t);if(this.keys[n]){var r=e.util.isMetaCtrlKey(t),o=!!t.shiftKey,i=!!t.altKey;this.keys[n].forEach(function(e){e.meta!==r||e.shift!==o||e.alt!==i&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"==typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))},this)}}});e.extensions.keyboardCommands=t}(),function(){var t=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),r=t.createElement("select"),o=t.createElement("a"),i=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)e=t.createElement("option"),e.innerHTML=this.fonts[a],e.value=this.fonts[a],r.appendChild(e);return r.className="medium-editor-toolbar-select",n.appendChild(r),this.on(r,"change",this.handleFontChange.bind(this)),i.setAttribute("href","#"),i.className="medium-editor-toobar-save",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(i),this.on(i,"click",this.handleSaveClick.bind(this),!0),o.setAttribute("href","#"),o.className="medium-editor-toobar-close",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(o),this.on(o,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){
var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{name:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontName=t}(),function(){var t=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),r=e.createElement("a"),o=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{size:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=t}(),function(){function t(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],["<!--EndFragment-->",""],["<!--StartFragment-->",""]]}var n=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&this.subscribe("editablePaste",this.handlePaste.bind(this))},handlePaste:function(t,n){var r,o,i,a,s="",l="text/html",u="text/plain";if(this.window.clipboardData&&void 0===t.clipboardData&&(t.clipboardData=this.window.clipboardData,l="Text",u="Text"),t.clipboardData&&t.clipboardData.getData&&!t.defaultPrevented){if(t.preventDefault(),i=t.clipboardData.getData(l),a=t.clipboardData.getData(u),this.cleanPastedHTML&&i)return this.cleanPaste(i);if(this.getEditorOption("disableReturn")||n.getAttribute("data-disable-return"))s=e.util.htmlEntities(a);else if(r=a.split(/[\r\n]+/g),r.length>1)for(o=0;o<r.length;o+=1)""!==r[o]&&(s+="<p>"+e.util.htmlEntities(r[o])+"</p>");else s=e.util.htmlEntities(r[0]);e.util.insertHTMLCommand(this.document,s)}},cleanPaste:function(e){var n,r,o,i,a=/<p|<br|<div/.test(e),s=[].concat(this.preCleanReplacements||[],t(),this.cleanReplacements||[]);for(n=0;n<s.length;n+=1)e=e.replace(s[n][0],s[n][1]);if(!a)return this.pasteHTML(e);for(o=this.document.createElement("div"),o.innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",r=o.querySelectorAll("a,p,div,br"),n=0;n<r.length;n+=1)switch(i=r[n],i.innerHTML=i.innerHTML.replace(/\n/gi," "),i.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(i);break;case"br":this.filterLineBreak(i)}this.pasteHTML(o.innerHTML)},pasteHTML:function(t,n){n=e.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var r,o,i,a,s=this.document.createDocumentFragment();for(s.appendChild(this.document.createElement("body")),a=s.querySelector("body"),a.innerHTML=t,this.cleanupSpans(a),r=a.querySelectorAll("*"),i=0;i<r.length;i+=1)o=r[i],"a"===o.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(o),e.util.cleanupAttrs(o,n.cleanAttrs),e.util.cleanupTags(o,n.cleanTags);e.util.insertHTMLCommand(this.document,a.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var n,r,o,i=t.querySelectorAll(".replace-with"),a=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(n=0;n<i.length;n+=1)r=i[n],o=this.document.createElement(r.classList.contains("bold")?"b":"i"),r.classList.contains("bold")&&r.classList.contains("italic")?o.innerHTML="<i>"+r.innerHTML+"</i>":o.innerHTML=r.innerHTML,r.parentNode.replaceChild(o,r);for(i=t.querySelectorAll("span"),n=0;n<i.length;n+=1){if(r=i[n],e.util.traverseUp(r,a))return!1;e.util.unwrap(r,this.document)}}});e.extensions.paste=n}(),function(){var t=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},this)},destroy:function(){this.getEditorElements().forEach(function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},this)},showPlaceholder:function(e){e&&e.classList.add("medium-editor-placeholder")},hidePlaceholder:function(e){e&&e.classList.remove("medium-editor-placeholder")},updatePlaceholder:function(e,t){return e.querySelector("img, blockquote, ul, ol")||""!==e.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(e):void(t||this.showPlaceholder(e))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});e.extensions.placeholder=t}(),function(){var t=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,"static":!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(n){return n!==this?e.apply(t||this,arguments):void 0},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this["static"]?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,n,r,o,i,a,s=this.document.createElement("ul");return s.id="medium-editor-toolbar-actions"+this.getEditorId(),s.className="medium-editor-toolbar-actions",s.style.display="block",this.buttons.forEach(function(r){"string"==typeof r?(i=r,a=null):(i=r.name,a=r),o=this.base.addBuiltInExtension(i,a),o&&"function"==typeof o.getButton&&(n=o.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(n)?t.appendChild(n):t.innerHTML=n,s.appendChild(t))},this),r=s.querySelectorAll("button"),r.length>0&&(r[0].classList.add(this.firstButtonClass),r[r.length-1].classList.add(this.lastButtonClass)),s},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this["static"]&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){return t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target)?!1:void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var t=/<[^\/>][^>]*><\/[^>]+>/gim,n=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),r=e.selection.getSelectionHtml(this.document).replace(t,""),o=r.match(n);return!!o&&o.length>1},modifySelection:function(){var t=this.window.getSelection(),n=t.getRangeAt(0);if(this.standardizeSelectionStart&&n.startContainer.nodeValue&&n.startOffset===n.startContainer.nodeValue.length){var r=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),n.startContainer,this.document);if(r){for(var o=0;0===r.nodeValue.substr(o,1).trim().length;)o+=1;n=e.selection.select(this.document,r,o,n.endContainer,n.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this["static"]?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var t,n=[],r=null,o=e.selection.getSelectionRange(this.document),i=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&"function"==typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(o&&(this.forEachExtension(function(e){return"function"==typeof e.queryCommandState&&(r=e.queryCommandState(),null!==r)?void(r&&"function"==typeof e.setActive&&e.setActive()):void n.push(e)}),t=e.selection.getSelectedParentElement(o),this.getEditorElements().some(function(n){return e.util.isDescendant(n,t,!0)})))for(;t&&(n.forEach(i),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();return e?void((this["static"]||!t.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this["static"]?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))):this},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,r=this.window.innerWidth,o=this.getToolbarElement(),i=e.getBoundingClientRect(),a=i.top+n,s=i.left+i.width/2,l=o.offsetHeight,u=o.offsetWidth,c=u/2;switch(this.sticky?n>a+e.offsetHeight-l-this.stickyTopOffset?(o.style.top=a+e.offsetHeight-l+"px",o.classList.remove("medium-editor-sticky-toolbar")):n>a-l-this.stickyTopOffset?(o.classList.add("medium-editor-sticky-toolbar"),o.style.top=this.stickyTopOffset+"px"):(o.classList.remove("medium-editor-sticky-toolbar"),o.style.top=a-l+"px"):o.style.top=a-l+"px",this.align){case"left":t=i.left;break;case"right":t=i.right-u;break;case"center":t=s-c}0>t?t=0:t+u>r&&(t=r-Math.ceil(u)-1),o.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var r=this.window.innerWidth,o=(n.left+n.right)/2,i=this.getToolbarElement(),a=i.offsetHeight,s=i.offsetWidth,l=s/2,u=50,c=this.diffLeft-l;n.top<u?(i.classList.add("medium-toolbar-arrow-over"),i.classList.remove("medium-toolbar-arrow-under"),i.style.top=u+n.bottom-this.diffTop+this.window.pageYOffset-a+"px"):(i.classList.add("medium-toolbar-arrow-under"),i.classList.remove("medium-toolbar-arrow-over"),i.style.top=n.top+this.diffTop+this.window.pageYOffset-a+"px"),l>o?(i.style.left=c+l+"px",i.style.right="initial"):l>r-o?(i.style.left="auto",i.style.right=0):(i.style.left=c+o+"px",i.style.right="initial")}});e.extensions.toolbar=t}(),function(){var t=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(t){var n,r="medium-editor-dragover";t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&(n=Array.prototype.slice.call(t.dataTransfer.files,0),n.some(function(t){if(t.type.match("image")){var n,r;n=new FileReader,n.readAsDataURL(t),r="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+r+'" />'),n.onload=function(){var e=this.document.getElementById(r);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=n.result)}.bind(this)}}.bind(this))),t.target.classList.remove(r)}});e.extensions.imageDragging=t}(),function(){function t(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),r=n.textContent,o=e.selection.getCaretOffsets(n);(void 0===r[o.left-1]||""===r[o.left-1].trim()||void 0!==r[o.left]&&""===r[o.left].trim())&&t.preventDefault()}function n(t,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var r=e.selection.getSelectionStart(this.options.ownerDocument);(r&&""===r.textContent.trim()&&"li"!==r.nodeName.toLowerCase()||r.previousElementSibling&&"br"!==r.previousElementSibling.nodeName.toLowerCase()&&""===r.previousElementSibling.textContent.trim())&&t.preventDefault()}}function r(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),r=n&&n.nodeName.toLowerCase();"pre"===r&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(n)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function o(t){var n,r=e.selection.getSelectionStart(this.options.ownerDocument),o=r.nodeName.toLowerCase(),i=/^(\s+|<br\/?>)?$/i,a=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&r.previousElementSibling&&a.test(o)&&0===e.selection.getCaretOffsets(r).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&i.test(r.previousElementSibling.innerHTML)?(r.previousElementSibling.parentNode.removeChild(r.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&(n=this.options.ownerDocument.createElement("p"),n.innerHTML="<br>",r.previousElementSibling.parentNode.insertBefore(n,r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&r.nextElementSibling&&r.previousElementSibling&&!a.test(o)&&i.test(r.innerHTML)&&a.test(r.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,r.nextElementSibling),r.previousElementSibling.parentNode.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===o&&i.test(r.innerHTML)&&!r.previousElementSibling&&!r.parentElement.previousElementSibling&&r.nextElementSibling&&"li"===r.nextElementSibling.nodeName.toLowerCase()?(n=this.options.ownerDocument.createElement("p"),n.innerHTML="<br>",r.parentElement.parentElement.insertBefore(n,r.parentElement),e.selection.moveCursor(this.options.ownerDocument,n),r.parentElement.removeChild(r),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(r,"blockquote")!==!1&&0===e.selection.getCaretOffsets(r).left&&(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p"))}function i(t){var n,r=e.selection.getSelectionStart(this.options.ownerDocument);r&&(e.util.isMediumEditorElement(r)&&0===r.children.length&&!e.util.isBlockContainer(r)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(r)||e.util.isBlockContainer(r)||(n=r.nodeName.toLowerCase(),"a"===n?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function a(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function s(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function l(t){t||(t=[]),"string"==typeof t&&(t=this.options.ownerDocument.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]);var n=Array.prototype.slice.apply(t);this.elements=[],n.forEach(function(e,t){"textarea"===e.nodeName.toLowerCase()?this.elements.push(y.call(this,e,t)):this.elements.push(e)},this)}function u(e,t){return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e}function c(e,t,n){var r={window:n.options.contentWindow,document:n.options.ownerDocument,base:n};return e=u(e,r),"function"==typeof e.init&&e.init(),e.name||(e.name=t),e}function d(){return this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function p(){return d.call(this)?this.options.anchorPreview!==!1:!1}function f(){return this.options.placeholder!==!1}function h(){return this.options.autoLink!==!1}function m(){return this.options.imageDragging!==!1}function v(){return this.options.keyboardCommands!==!1}function g(){return!this.options.extensions.imageDragging}function y(e,t){for(var n=this.options.ownerDocument.createElement("div"),r=Date.now(),o="medium-editor-"+r+"-"+t,i=e.attributes;this.options.ownerDocument.getElementById(o);)r++,o="medium-editor-"+r+"-"+t;n.className=e.className,n.id=o,n.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",o);for(var a=0,s=i.length;s>a;a++)n.hasAttribute(i[a].nodeName)||n.setAttribute(i[a].nodeName,i[a].nodeValue);return e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(n,e),n}function b(){var e=!1;this.elements.forEach(function(t,n){this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),t.setAttribute("data-medium-editor-element",!0),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("medium-editor-index",n),t.hasAttribute("medium-editor-textarea-id")&&(e=!0)},this),e&&this.subscribe("editableInput",function(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=this.serialize()[t.id].value)}.bind(this))}function w(){var e;if(this.subscribe("editableKeydownTab",r.bind(this)),this.subscribe("editableKeydownDelete",o.bind(this)),this.subscribe("editableKeydownEnter",o.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.options.disableReturn||this.options.disableDoubleReturn)this.subscribe("editableKeydownEnter",n.bind(this));else for(e=0;e<this.elements.length;e+=1)if(this.elements[e].getAttribute("data-disable-return")||this.elements[e].getAttribute("data-disable-double-return")){this.subscribe("editableKeydownEnter",n.bind(this));break}this.options.disableReturn||this.elements.forEach(function(e){e.getAttribute("data-disable-return")||this.on(e,"keyup",i.bind(this))},this)}function C(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(c(this.options.extensions[e],e,this))},this),g.call(this)){var t=this.options.fileDragging;t||(t={},m.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var n={paste:!0,"anchor-preview":p.call(this),autoLink:h.call(this),keyboardCommands:v.call(this),placeholder:f.call(this)};Object.keys(n).forEach(function(e){n[e]&&this.addBuiltInExtension(e)},this);var r=this.options.extensions.toolbar;if(!r&&d.call(this)){var o=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});r=new e.extensions.toolbar(o)}r&&this.extensions.push(c(r,"toolbar",this))}function _(t,n){var r=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return n&&r.forEach(function(t){n.hasOwnProperty(t[0])&&void 0!==n[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")}),e.util.defaults({},n,t)}function x(t,n){var r,o=/^append-(.+)$/gi,i=/justify([A-Za-z]*)$/g;if(r=o.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,r[1]);if("fontSize"===t)return this.options.ownerDocument.execCommand("fontSize",!1,n.size);if("fontName"===t)return this.options.ownerDocument.execCommand("fontName",!1,n.name);if("createLink"===t)return this.createLink(n);if("image"===t){var a=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,a)}if(i.exec(t)){var s=this.options.ownerDocument.execCommand(t,!1,null),l=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return l&&E.call(this,e.util.getTopBlockContainer(l)),s}return this.options.ownerDocument.execCommand(t,!1,null)}function E(t){if(t){var n,r=Array.prototype.slice.call(t.childNodes).filter(function(e){var t="div"===e.nodeName.toLowerCase();return t&&!n&&(n=e.style.textAlign),t});r.length&&(this.saveSelection(),r.forEach(function(t){if(t.style.textAlign===n){var r=t.lastChild;if(r){e.util.unwrap(t,this.options.ownerDocument);var o=this.options.ownerDocument.createElement("BR");r.parentNode.insertBefore(o,r.nextSibling)}}},this),t.style.textAlign=n,this.restoreSelection())}}e.prototype={init:function(e,t){return this.options=_.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.origElements),0!==this.elements.length&&(this.isActive=!0,a.call(this,this.options.contentWindow),this.events=new e.Events(this),b.call(this),C.call(this),w.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){if(this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.hasAttribute("medium-editor-textarea-id")){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&t.classList.remove("medium-editor-hidden"),e.parentNode&&e.parentNode.removeChild(e)}},this),this.elements=[],s.call(this,this.options.contentWindow))},on:function(e,t,n,r){return this.events.attachDOMEvent(e,t,n,r),this},off:function(e,t,n,r){return this.events.detachDOMEvent(e,t,n,r),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t,n={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===e?(t=n,!0):!1}),t},addBuiltInExtension:function(t,n){var r,o=this.getExtensionByName(t);if(o)return o;switch(t){case"anchor":r=e.util.extend({},this.options.anchor,n),o=new e.extensions.anchor(r);break;case"anchor-preview":o=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":o=new e.extensions.autoLink;break;case"fileDragging":o=new e.extensions.fileDragging(n);break;case"fontname":o=new e.extensions.fontName(this.options.fontName);break;case"fontsize":o=new e.extensions.fontSize(n);break;case"keyboardCommands":o=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":o=new e.extensions.paste(this.options.paste);break;case"placeholder":o=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(n?(r=e.util.defaults({},n,e.extensions.button.prototype.defaults[t]),o=new e.extensions.button(r)):o=new e.extensions.button(t))}return o&&this.extensions.push(c(o,t,this)),o},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=/^full-(.+)$/gi,r=null;t=n.exec(e),t&&(e=t[1]);try{r=this.options.ownerDocument.queryCommandState(e)}catch(o){r=null}return r},execAction:function(t,n){var r,o,i=/^full-(.+)$/gi;return r=i.exec(t),r?(this.saveSelection(),this.selectAllContents(),o=x.call(this,r[1],n),this.restoreSelection()):o=x.call(this,t,n),("insertunorderedlist"===t||"insertorderedlist"===t)&&e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),o},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var n=e.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n);
},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(t),r=null;return n>=0&&(r=e.selection.exportSelection(t,this.options.ownerDocument)),null!==r&&0!==n&&(r.editableElementIndex=n),r},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,n){if(t){var r=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,r,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var n=e.selection.getSelectionElement(this.options.contentWindow),r={};if(-1!==this.elements.indexOf(n)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&t.url.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var i,a,s,l,u=o.getRangeAt(0),c=u.commonAncestorContainer;if(3===u.endContainer.nodeType&&3!==u.startContainer.nodeType&&0===u.startOffset&&u.startContainer.firstChild===u.endContainer&&(c=u.endContainer),a=e.util.getClosestBlockContainer(u.startContainer),s=e.util.getClosestBlockContainer(u.endContainer),3!==c.nodeType&&0!==c.textContent.length&&a===s){var d=a||n,p=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),i=this.exportSelection(),p.appendChild(d.cloneNode(!0)),n===d?e.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var f=this.exportSelection();l=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,p,{start:i.start-f.start,end:i.end-f.start,editableElementIndex:i.editableElementIndex}),0===l.length&&(p=this.options.ownerDocument.createDocumentFragment(),p.appendChild(c.cloneNode(!0)),l=[p.firstChild.firstChild,p.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,l,t.url.trim());var h=(p.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,p.firstChild.innerHTML.replace(/^\s+/,"")),i.start-=h,i.end-=h,this.importSelection(i)}else this.options.ownerDocument.execCommand("createLink",!1,t.url);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){r=this.options.ownerDocument.createEvent("HTMLEvents"),r.initEvent("input",!0,!0,this.options.contentWindow);for(var m=0;m<this.elements.length;m+=1)this.elements[m].dispatchEvent(r)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",r,n)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.events.updateInput(n,{target:n,currentTarget:n})}}}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),r=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:r,toString:function(){return[n[0],n[1],n[2]].join(".")+(r?"-"+r:"")}}},e.version=e.parseVersionString.call(this,{version:"5.16.1"}.version),e}()),define("storymaps-react/common/builder/textEditor/plugins/blockToolbar/utils",["module","exports","lib/medium-editor/dist/js/medium-editor"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n),i={isChildOf:function(e,t){return o["default"].util.traverseUp(e,function(e){return e===t})?!0:!1}};t["default"]=i,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/textEditor/plugins/blockToolbar/Core",[],function(){}),define("storymaps-react/common/builder/textEditor/plugins/blockToolbar/Core",["module","exports","lib/medium-editor/dist/js/medium-editor","./utils","lib-build/less!./Core"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){i(this,e),this._plugin=t,this._editor=this._plugin.base,this._editorNode=$(this._editor.elements[0]),this._document=$(document),this._defaultButtons=a["default"].extensions.button.prototype.defaults,this._highlightToolbar=null,this._buttonsClasses={},this._managedTagsList=[],this._activeButtons=[],this._actionPendingRefresh=!1,this._button=null,this._blockToolbar=null,this._selection=a["default"].selection,this.init(),this.createToolbar(),this.initEvents()}return l(e,[{key:"selectElement",value:function(e){this.selectedElement=e}},{key:"getSelectedElement",value:function(){return this.selectedElement}},{key:"init",value:function(){var e=this,t=this._plugin.getButtons();t.forEach(function(t){e._buttonsClasses[t]=e._editor.addBuiltInExtension(t),e._managedTagsList=e._managedTagsList.concat(e._buttonsClasses[t].tagNames)}),this._managedTagsList.push("p"),this._managedTagsList=this._managedTagsList.filter(function(e,t,n){return n.indexOf(e)==t}),setTimeout(function(){var e=this;this._editor.extensions.forEach(function(t){"toolbar"==t.name&&(e._highlightToolbar=t)})}.bind(this),1e3)}},{key:"createToolbar",value:function(){var e=this._plugin.getButtons(),t=a["default"].extensions.button.prototype.defaults,n=void 0;this._button=document.createElement("div"),this._button.classList.add("block-toolbar-button"),this._button.setAttribute("contentediable",!1),this._button.innerHTML=n,document.body.appendChild(this._button),this._blockToolbar=document.createElement("div"),this._blockToolbar.classList.add("block-toolbar-buttons"),this._blockToolbar.classList.add("medium-toolbar-arrow-under"),this._blockToolbar.setAttribute("contentediable",!1),n="<ul>",e.forEach(function(e){if(t[e]){var r=t[e].contentFA;r.match(/<\/i>$/)||(r+="</i>"),n+='<li><a class="block-button" data-button="'+e+'">'+r+"</a></li>"}}),n+="</ul>",this._blockToolbar.innerHTML=n,document.body.appendChild(this._blockToolbar)}},{key:"initEvents",value:function(){var e=this;this._plugin.on(document,"click",this.updateToolbar.bind(this)),this._plugin.on(document,"keyup",this.updateToolbar.bind(this)),this._plugin.on(this._button,"click",this.toggleToolbar.bind(this));var t=this._blockToolbar.getElementsByClassName("block-button");Array.prototype.forEach.call(t,function(t){e._plugin.on(t,"click",e.handleButtonClick.bind(e))}),this._plugin.on(window,"resize",this.positionToolbar.bind(this)),this._editor.subscribe("showToolbar",function(){this.hideToolbar()}.bind(this))}},{key:"destroy",value:function(){this._button.remove(),this._blockToolbar.remove()}},{key:"positionToolbar",value:function(){var e=void 0,t=void 0,n=void 0;this._button.classList.contains("active")!==!1&&(e=this._editor.getSelectedParentElement(),this._managedTagsList.indexOf(e.tagName.toLowerCase())<0&&(e=$(e).closest(this._managedTagsList.join(","))[0],!this.shouldDisplayButtonsOnElement(e))||(t=e.getBoundingClientRect(),n={top:this.getScrollY()+t.top,left:(window.scrollX||0)+t.left},$(e).is("h1")&&(n.top=n.top+10),n.left-=35,n.left=n.left<0?t.left:n.left,this._button.style.left=n.left+"px",this._button.style.top=n.top+"px",this._blockToolbar.style.top=n.top-48+"px",this._blockToolbar.style.left=n.left-10+"px"))}},{key:"updateToolbar",value:function(e){var t=$(e.target);if(this._editorNode.has(t).length||this._actionPendingRefresh){var n=this._editor.getSelectedParentElement();if(this._highlightToolbar&&this._highlightToolbar.multipleBlockElementsSelected())return void this.hideToolbarAndButton();if(!this.shouldDisplayButtonsOnElement(n))return void this.hideToolbarAndButton();var r=n!=this.getSelectedElement();null==this.getSelectedElement()?r=!1:$(n).hasClass("block-toolbar-button-status")?r=!1:this._actionPendingRefresh&&(r=!1,this._actionPendingRefresh=!1),r&&this.hideToolbar(),this.selectElement(n),this.showButtons()}}},{key:"shouldDisplayButtonsOnElement",value:function(e){var t=!1;return this._plugin.getEditorElements().forEach(function(n){return s["default"].isChildOf(e,n)?void(t=!0):void 0}),t?!0:!1}},{key:"showButtons",value:function(){var e=this,t=this._plugin.getButtons(),n=[];t.forEach(function(t){var r=!1;r="ALREADY_APLLIED"==e._plugin.getQueryStateMethods()[t]?e._buttonsClasses[t].isAlreadyApplied(e.getSelectedElement()):e._editor.queryCommandState(t),r&&n.push(t)}),t.forEach(function(e){var t=n.indexOf(e)>-1;$(".block-button[data-button="+e+"]").toggleClass("active",t)});var r="justifyLeft";n.length?r=n.indexOf("h1")>-1?"h1":n.indexOf("h2")>-1?"h2":n.indexOf("quote")>-1?"quote":n[0]:(n=[r],$(".block-button[data-button="+r+"]").toggleClass("active",!0)),this._button.innerHTML='<a class="block-toolbar-button-status">'+this._defaultButtons[r].contentFA+"</a>",this._button.classList.add("active"),this.positionToolbar(),this._activeButtons=n}},{key:"toggleToolbar",value:function(){this._button.classList.toggle("buttons-active"),this._blockToolbar.classList.toggle("active")}},{key:"hideToolbar",value:function(){this._button.classList.remove("buttons-active"),this._blockToolbar.classList.remove("active")}},{key:"hideToolbarAndButton",value:function(){this._button.classList.remove("active"),this._button.classList.remove("buttons-active"),this._blockToolbar.classList.remove("active")}},{key:"handleButtonClick",value:function(e){var t=e.currentTarget.getAttribute("data-button");this._actionPendingRefresh=!0,this._selection.selectNode(this.getSelectedElement(),document),"quote"==t?this._activeButtons.indexOf("h1")>-1?this._editor.execAction(this._defaultButtons.h1.action):this._activeButtons.indexOf("h2")>-1&&this._editor.execAction(this._defaultButtons.h2.action):("h1"==t||"h2"==t)&&(this._activeButtons.indexOf("quote")>-1?this._editor.execAction(this._defaultButtons.quote.action):this._activeButtons.indexOf("orderedlist")>-1?this._editor.execAction(this._defaultButtons.orderedlist.action):this._activeButtons.indexOf("unorderedlist")>-1&&this._editor.execAction(this._defaultButtons.unorderedlist.action)),this._defaultButtons[t]&&this._editor.execAction(this._defaultButtons[t].action),this.hideEditorToolbar(),this._selection.clearSelection(document),e.preventDefault()}},{key:"hideEditorToolbar",value:function(){setTimeout(function(){this._highlightToolbar.hideToolbar()}.bind(this),0),setTimeout(function(){this._highlightToolbar.hideToolbar()}.bind(this),10),setTimeout(function(){this._highlightToolbar.hideToolbar()}.bind(this),50)}},{key:"getScrollY",value:function(){return this._document.scrollTop()}}]),e}();t["default"]=u,e.exports=t["default"]}),define("storymaps-react/common/builder/textEditor/plugins/blockToolbar/Plugin",["module","exports","lib/medium-editor/dist/js/medium-editor","./Core"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(n),a=o(r),s=i["default"].Extension.extend({name:"blockToolbar",_initializedAddons:{},init:function(){i["default"].Extension.prototype.init.apply(this,arguments),this.core=new a["default"](this)},destroy:function(){this.core.destroy()},getCore:function(){return this.core},getButtons:function(){return this.buttons},getQueryStateMethods:function(){return this.queryStateMethods},hide:function(){this.core.hideToolbarAndButton()}});t["default"]=s,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/textEditor/plugins/blockAdd/Core",[],function(){}),define("storymaps-react/common/builder/textEditor/plugins/blockAdd/Core",["module","exports","dojo/has","lib-build/less!./Core"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){o(this,e),this._plugin=t,this._editor=this._plugin.base,this._document=$(document),this._editorNode=$(this._editor.elements[0]),this._menu=null,this.createMenu(),this.initEvents(),this.addBlockEvents()}return a(e,[{key:"addBlockEvents",value:function(){this.getEditorBlocks().off("mousemove").off("mouseleave").mousemove(function(e){var t=$(e.target)[0],n=t.getBoundingClientRect(),r=e.pageY>n.bottom+this.getScrollY();$(e.target).toggleClass("show-add-invite",r).css("cursor",r?"hand":"default")}.bind(this)).mouseleave(function(){$(this).toggleClass("show-add-invite",!1).css("cursor","default")})}},{key:"getEditorBlocks",value:function(){return this._editorNode.find(this._plugin.getBlocksSelector())}},{key:"onEditorContentChange",value:function(){setTimeout(function(){this.addBlockEvents()}.bind(this),50)}},{key:"update",value:function(){this.onEditorContentChange()}},{key:"destroy",value:function(){this._menu.remove()}},{key:"createMenu",value:function(){var e=this._plugin.getButtons();this._menu=document.createElement("div"),this._menu.classList.add("add-toolbar-menu-container"),this._menu.setAttribute("contentediable",!1);var t='<div class="add-toolbar-menu"><ul>';Object.keys(e).forEach(function(n){var r=e[n],o=e[n].icon||"",i=e[n].iconHover||"",a='<img class="add-button-icon" src="'+o+'" />';t+='<li><a class="add-button" data-button="'+n+'" data-icon="'+o+'" data-icon-hover="'+i+'">'+a+" "+r.label+"</a></li>"}),t+="</ul></div>",this._menu.innerHTML=t,document.body.appendChild(this._menu),this._menu=$(this._menu)}},{key:"initEvents",value:function(){var e=this;this._plugin.on(document,"click",this.handleDocumentClick.bind(this));var t=this._menu[0].getElementsByClassName("add-button");Array.prototype.forEach.call(t,function(t){e._plugin.on(t,"click",e.handleButtonClick.bind(e)),t.getAttribute("data-icon-hover")&&$(t).hover(function(){$(this).find("img").attr("src",t.getAttribute("data-icon-hover"))},function(){$(this).find("img").attr("src",t.getAttribute("data-icon"))})}),this._editor.subscribe("editableInput",this.onEditorContentChange.bind(this)),(0,i["default"])("mac")&&$("body").addClass("is-mac-os")}},{key:"handleDocumentClick",value:function(e){var t=$(e.target),n=!1,r=null;if(this._editorNode.has(t).length&&t.hasClass("block")&&(r=e.target.getBoundingClientRect(),e.pageY>r.bottom+this.getScrollY()&&(n=!0)),n){if(this._menu.hasClass("active")&&this._menu.data("block-index")==t.index())return void this._menu.removeClass("active");this._menu.css({top:this.getScrollY()+r.bottom}).data("block-index",t.index()).addClass("active"),this._editor.options.extensions&&this._editor.options.extensions.blockToolbar&&this._editor.options.extensions.blockToolbar.hide(),t.addClass("add-menu-active");var o=this._menu[0].getBoundingClientRect(),i=0;o.bottom>app.display.windowHeight&&(i=app.display.windowHeight-o.bottom),i&&$("html,body").animate({scrollTop:document.body.scrollTop-i+10},150)}else this.hideMenuAndInvite()}},{key:"hideMenuAndInvite",value:function(){this.getEditorBlocks().removeClass("add-menu-active"),this._menu.removeClass("active")}},{key:"handleButtonClick",value:function(e){var t=e.currentTarget.getAttribute("data-button"),n=this._plugin.getButtons();if(n[t].action){var r=this._editorNode.find(".add-menu-active"),o=r.parents(".section").eq(0).index();n[t].action({previousNode:r,sectionIndex:o,blockIndex:r.index()}).then(function(e){if(!e)return void this.hideMenuAndInvite();if(r.after(e),this.update(),this.hideMenuAndInvite(),"text"==t){var n=r.next();this._editor.selectElement(n[0]),n.click()}}.bind(this))}}},{key:"getScrollY",value:function(){return this._document.scrollTop()}}]),e}();t["default"]=s,e.exports=t["default"]}),define("storymaps-react/common/builder/textEditor/plugins/blockAdd/Plugin",["module","exports","lib/medium-editor/dist/js/medium-editor","./Core"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(n),a=o(r),s=i["default"].Extension.extend({name:"blockAdd",_initializedAddons:{},init:function(){i["default"].Extension.prototype.init.apply(this,arguments),this.core=new a["default"](this)},destroy:function(){this.core.destroy()},getCore:function(){return this.core},getButtons:function(){return this.buttons},getBlocksSelector:function(){return this.blocksSelector},update:function(){this.core.update()},hide:function(){this.core.hideMenuAndInvite()}});t["default"]=s,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/textEditor/plugins/AnchorPreview",[],function(){}),define("storymaps-react/common/builder/textEditor/plugins/AnchorPreview",["module","exports","lib/medium-editor/dist/js/medium-editor","lib-build/less!./AnchorPreview"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n),i=o["default"].extensions.anchorPreview.extend({name:"anchor-preview",init:function(){o["default"].extensions.anchorPreview.prototype.init.call(this)},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner" target="_blank"></a>    <i class="fa fa-pencil edit-btn" aria-hidden="true"></i></div>'},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&e.target.classList.contains("edit-btn")&&(this.base.selectElement(this.activeAnchor),e.preventDefault(),this.base.delay(function(){if(n){var e={url:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},positionPreview:function(e){e=e||this.activeAnchor;var t,n,r=this.anchorPreview.offsetHeight,o=e.getBoundingClientRect(),i=(o.left+o.right)/2,a=this.diffLeft;t=this.anchorPreview.offsetWidth/2;var s=this.base.getExtensionByName("toolbar");s&&(a=s.diffLeft),n=a-t,this.anchorPreview.style.top=Math.round(o.top-r+this.window.pageYOffset)+"px",this.anchorPreview.style.right="initial",t>i?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-i<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+i+"px",this.anchorPreview.style.right="initial")}});t["default"]=i,e.exports=t["default"]}),define("lib-build/css!lib/medium-editor/dist/css/medium-editor",[],function(){}),define("lib-build/less!storymaps-react/common/builder/textEditor/MediumEditorWrapper",[],function(){}),define("storymaps-react/common/builder/textEditor/MediumEditorWrapper",["module","exports","lib/medium-editor/dist/js/medium-editor","./plugins/blockToolbar/Plugin","./plugins/blockAdd/Plugin","./plugins/AnchorPreview","dojo/Deferred","lib-build/css!lib/medium-editor/dist/css/medium-editor","lib-build/less!./MediumEditorWrapper","lib-build/css!lib/font-awesome/css/font-awesome"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.node,n=e.addMedia,r=e.splitSection,o=e.style,i=e.addButtons,a=e.authorizedMedia,s=null;if(i||(i=["text","arcgis","media","title","immersive"]),a||(a=["image","video","webpage","map","scene"]),!t||!n||!o)return void console.error("Could not initialize MediumEditor");var h=e.placeholder||"Enter narrative or media...",m=["bold","italic","underline","strikethrough","anchor"],v=["h1","h2","quote","justifyLeft","justifyCenter","justifyRight"],g=["justifyLeft","justifyCenter","justifyRight","h2"],y={justifyLeft:"QUERY_STATE",justifyCenter:"QUERY_STATE",justifyRight:"QUERY_STATE",quote:"ALREADY_APLLIED",h1:"ALREADY_APLLIED",h2:"ALREADY_APLLIED"},b={text:{icon:"resources/tpl/builder/icons/text-editor/Text.png",label:"Text",action:function(){var e=new p["default"],t='<p class="block"></p>';return e.resolve(t),e}},media:{icon:"resources/tpl/builder/icons/text-editor/Media.png",label:"Media",action:function(e){var t=new p["default"];return e=e||{},e.previousNode?(app.builder.mediaPicker.open({mode:"add",authorizedMedia:a}).then(function(e){console.log("selected media:",e);var r=n({media:e});t.resolve(r)},function(e){console.warn("Selected media error:",e)}),t):(t.reject(),t)}},title:{icon:"resources/tpl/builder/icons/text-editor/Title.png",label:"Title",action:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=new p["default"];return void 0===e.sectionIndex?(t.reject(),t):(app.Controller.addSection({index:e.sectionIndex,type:"title",media:null}),t.resolve(),t)}},immersive:{icon:"resources/tpl/builder/icons/text-editor/Immersive.gif",iconHover:"resources/tpl/builder/icons/text-editor/Immersive-hover.gif",label:"Immersive",action:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=new p["default"];return void 0===e.sectionIndex?(t.reject(),t):(r&&r({blockIndex:e.blockIndex}),app.Controller.addSection({index:e.sectionIndex,type:"immersive",media:null}),t.resolve(),t)}}},w="p, h1, h2, blockquote, ol, ul",C=".block",_=".image-gallery, .image, .block-type-webmap, .block-webpage, .block-type-webscene, .block-type-video",x={},E=!0,T=!1,k=void 0;try{for(var P,S=i[Symbol.iterator]();!(E=(P=S.next()).done);E=!0){var O=P.value;b[O]&&(x[O]=b[O])}}catch(I){T=!0,k=I}finally{try{!E&&S["return"]&&S["return"]()}finally{if(T)throw k}}var N="compact"==o?g:v,A=new l["default"](t,{targetBlank:!0,autoLink:!0,imageDragging:!1,fileDragging:!1,diffTop:-20,buttonLabels:"fontawesome",toolbar:{allowMultiParagraphSelection:!1,buttons:m},placeholder:{text:h},anchor:{linkValidation:!0,placeholderText:"Enter a link..."},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanReplacements:[[/<!--[^>]*-->/gi,""]],cleanAttrs:["class","dir"],cleanTags:["label","meta","aside","span","ul","ol"]},extensions:{imageDragging:new function(){},blockToolbar:new u["default"]({buttons:N,queryStateMethods:y,style:o}),blockAdd:new c["default"]({buttons:x,blocksSelector:C,style:o}),"anchor-preview":new d["default"]}});A.subscribe("editableKeydown",function(e){var t=$(A.getSelectedParentElement());if(8==event.keyCode){if(console.log(e,t.parents(".image-gallery-label")),t.is(".image-gallery-label")||t.is(".image-caption"))0===f.getSelectionRange(document).startOffset&&e.preventDefault();else if(0===f.getSelectionRange(document).startOffset){var n=t.prev();t.hasClass("block")&&n.is(_)&&e.preventDefault()}}else if(46==event.keyCode){var r=f.getSelectionRange(document);if(r.startOffset==r.startContainer.length){var o=t.next();t.hasClass("block")&&o.is(_)&&e.preventDefault()}}}),A.subscribe("editableKeydownEnter",function(e){var t=$(A.getSelectedParentElement());if(t.is(C)){var n=t.children();1==n.length?"br"==n[0].tagName.toLowerCase()&&e.preventDefault():setTimeout(function(){t.next().click()},50)}}.bind(this)),A.subscribe("editableInput",function(e,t){var n=$(A.getSelectedParentElement());n.is(w)&&n.addClass("block"),$(t).find("p").contents().each(function(){(this.nodeType===Node.COMMENT_NODE||8==this.nodeType)&&$(this).remove()})});var M=$(A.elements[0]);M.on("input",function(){M.find("span[style]").each(function(){$(this).contents().unwrap()})}),A.subscribe("editablePaste",function(){setTimeout(function(){$(A.elements[0]).find(w).addClass("block")},100)}),s=A,this.serialize=function(){var e=[],t=$(s.serialize()["element-0"].value);return $.each(t,function(t,n){var r=$(n);3!=n.nodeType&&(r.is(w)?e.push({type:"text",text:{value:r[0].outerHTML}}):r.is(_)&&e.push({type:"media",id:r.attr("id")}))}),e},this.hideToolbars=function(){s.options.extensions.blockToolbar.hide(),s.options.extensions.blockAdd.hide(),s.extensions.forEach(function(e){"toolbar"==e.name&&e.hideToolbar()})}};var l=s(n),u=s(r),c=s(o),d=s(i),p=s(a),f=l["default"].selection;e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/view/section/SequenceBuilder",[],function(){}),define("storymaps-react/tpl/view/section/SequenceBuilder",["module","exports","./Sequence","storymaps/tpl/view/section/Common","storymaps-react/common/builder/textEditor/MediumEditorWrapper","lib-build/less!./SequenceBuilder"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(n),c=i(r),d=i(o),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function m(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},h=function(e){function t(e){a(this,t);var n=s(this,Object.getPrototypeOf(t).call(this,e));return n._editor=null,n.MEDIA_BUILDER_TABS=["size","appearance","manage"],n}return l(t,e),p(t,[{key:"render",value:function(){return this._section.background&&this._section.foreground&&this._section.foreground.blocks&&this._section.foreground.blocks.length||(this._section={type:"sequence",layout:"sequence-1",background:{type:"color",color:{value:"#FFF"}},foreground:{blocks:[{type:"text",text:{value:'<p class="block"></p>'}}]}}),f(Object.getPrototypeOf(t.prototype),"render",this).call(this)}},{key:"postCreate",value:function(e){f(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._editor=new d["default"]({node:this._node.find(".foreground"),addMedia:this.addMedia.bind(this),splitSection:this.splitSection.bind(this),style:"full",placeholder:"Welcome "+app.data.author.name+", your Cascade story starts here!"})}},{key:"addMedia",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.media){var t=c["default"].createBlock(e.media);return this._blocks.push(t),setTimeout(function(){t.postCreate({container:this._node,onToggleMediaConfig:app.isInBuilder?this._onToggleMediaConfig.bind(this):null,onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS}),t.load();var e=t.getNode()[0].getBoundingClientRect(),n=0;e.bottom>app.display.windowHeight&&(n=app.display.windowHeight-e.bottom),n&&$("html,body").animate({scrollTop:document.body.scrollTop-n+10},150)}.bind(this),50),t.render({placement:"block"})}}},{key:"_onToggleMediaConfig",value:function(e){var t=e.getNode()[0],n=t.getBoundingClientRect(),r=0;n.bottom>app.display.windowHeight&&(r=app.display.windowHeight-n.bottom),r&&$("html,body").animate({scrollTop:document.body.scrollTop-r+10},150)}},{key:"_onMediaConfigAction",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.action&&e.media&&"remove"==e.action&&(e.media.remove(),this._blocks.splice(this._blocks.indexOf(e.media),1))}},{key:"splitSection",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];void 0!==e.blockIndex&&console.log("Split section:",e.blockIndex)}},{key:"getPreviewThumbnail",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._blocks[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if("text"!=i.type)return i.getPreviewThumbnail()}}catch(a){t=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}return null}},{key:"getPreviewIcon",value:function(){return""}},{key:"getPreviewText",value:function(){var e="";return this._blocks.length&&this._blocks[0]._text&&(e=$(this._blocks[0]._text.value).text()),e}},{key:"findBlock",value:function(e){if(!e)return null;for(var t=0;t<this._blocks.length;t++)if(this._blocks[t]._domID==e)return this._blocks[t]}},{key:"serialize",value:function(){if(this._editor){for(var e=this._editor.serialize(),t=0;t<e.length;t++){var n=e[t];if("media"==n.type){var r=this.findBlock(n.id);r&&(e[t]=r.serialize())}}this._section.foreground.blocks=e}return this._section}},{key:"setBookmark",value:function(e){this._section.bookmark={enabled:"visible"==e.status,title:e.bookmark}}}]),t}(u["default"]);t["default"]=h,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/builder/AddMenu",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l='<div class="add-menu">\r\n  <ul>\r\n    ';return i=null!=(i=t.buttons||(null!=e?e.buttons:e))?i:s,o=typeof i===a?i.call(e,{name:"buttons",hash:{},data:r}):i,null!=o&&(l+=o),l+"\r\n  </ul>\r\n</div>\r\n"},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/builder/AddMenu",[],function(){}),define("storymaps-react/tpl/view/section/builder/AddMenu",["module","exports","lib-build/hbars!./AddMenu","lib-build/less!./AddMenu"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={sequence:{name:"sequence",icon:"resources/tpl/builder/icons/text-editor/Text.png",label:"Sequence"},title:{name:"title",icon:"resources/tpl/builder/icons/text-editor/Title.png",label:"Title"},immersive:{name:"immersive",icon:"resources/tpl/builder/icons/text-editor/Immersive.gif",iconHover:"resources/tpl/builder/icons/text-editor/Immersive-hover.gif",label:"Immersive"}},l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(o(this,e),this._container=null,this._sectionContainer=null,this._buttons=[],t.buttons&&t.buttons.length){var n=!0,r=!1,i=void 0;try{for(var a,l=t.buttons[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;this._buttons.push(s[u])}}catch(c){r=!0,i=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw i}}}}return a(e,[{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];
this._container=e.container,this._sectionContainer=e.sectionContainer,this._container.html(this._render()).mouseleave(this._onMenuMouseleave.bind(this)).find(".add-button").click(this._onButtonClick.bind(this)),this._sectionContainer.click(this._onSectionClick.bind(this)).mousemove(this._onSectionMouseMove.bind(this)).mouseleave(this._onSectionMouseleave.bind(this))}},{key:"_render",value:function(){var e="",t=!0,n=!1,r=void 0;try{for(var o,a=this._buttons[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=s.name,u=s.icon||"",c=s.iconHover||"",d='<img class="add-button-icon" src="'+u+'" />';e+='<li><a class="add-button" data-button="'+l+'" data-icon="'+u+'" data-icon-hover="'+c+'">'+d+" "+s.label+"</a></li>"}}catch(p){n=!0,r=p}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw r}}return(0,i["default"])({buttons:e})}},{key:"show",value:function(){this._container.addClass("active")}},{key:"_onSectionClick",value:function(e){var t=e.currentTarget.getBoundingClientRect();e.clientY-15<t.top&&this.show()}},{key:"_onSectionMouseMove",value:function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.clientY-15<t.top;this._sectionContainer.toggleClass("show-add-section-menu",n).css("cursor",n?"hand":"default")}},{key:"_onSectionMouseleave",value:function(){this._sectionContainer.toggleClass("show-add-section-menu",!1).css("cursor","default"),this._container.removeClass("active")}},{key:"_onMenuMouseleave",value:function(){this._onSectionMouseleave()}},{key:"_onButtonClick",value:function(e){var t=$(e.currentTarget);app.Controller.addSection({type:t.data("button"),index:this._sectionContainer.index()-1})}}]),e}();t["default"]=l,e.exports=t["default"]}),define("storymaps-react/tpl/view/section/TitleBuilder",["module","exports","./Title","./builder/AddMenu"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p=function(e){function t(e,n){i(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e));return r._initialMedia=n,r._addMenu=new u["default"]({buttons:["sequence","title","immersive"]}),r}return s(t,e),c(t,[{key:"render",value:function(){return this._section.background||(this._section.background=this._initialMedia||{type:"empty",empty:"empty"},this._section.foreground={title:"",credits:""}),d(Object.getPrototypeOf(t.prototype),"render",this).call(this)}},{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._addMenu.postCreate({container:this._node.find(".builder-section-add-menu"),sectionContainer:this._node})}},{key:"serialize",value:function(){return this._section}},{key:"setBookmark",value:function(e){this._section.bookmark={enabled:"visible"==e.status,title:e.bookmark}}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=e(40),o=e(152),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{152:152,40:40}],2:[function(e,t,n){function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case S.topCompositionStart:return O.compositionStart;case S.topCompositionEnd:return O.compositionEnd;case S.topCompositionUpdate:return O.compositionUpdate}}function a(e,t){return e===S.topKeyDown&&t.keyCode===C}function s(e,t){switch(e){case S.topKeyUp:return-1!==w.indexOf(t.keyCode);case S.topKeyDown:return t.keyCode!==C;case S.topKeyPress:case S.topMouseDown:case S.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r){var o,u;if(_?o=i(e):N?s(e,n)&&(o=O.compositionEnd):a(e,n)&&(o=O.compositionStart),!o)return null;T&&(N||o!==O.compositionStart?o===O.compositionEnd&&N&&(u=N.getData()):N=v.getPooled(r));var c=g.getPooled(o,t,n,r);if(u)c.data=u;else{var d=l(n);null!==d&&(c.data=d)}return h.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case S.topCompositionEnd:return l(t);case S.topKeyPress:var n=t.which;return n!==k?null:(I=!0,P);case S.topTextInput:var r=t.data;return r===P&&I?null:r;default:return null}}function d(e,t){if(N){if(e===S.topCompositionEnd||s(e,t)){var n=N.getData();return v.release(N),N=null,n}return null}switch(e){case S.topPaste:return null;case S.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case S.topCompositionEnd:return T?null:t.data;default:return null}}function p(e,t,n,r){var o;if(o=E?c(e,n):d(e,n),!o)return null;var i=y.getPooled(O.beforeInput,t,n,r);return i.data=o,h.accumulateTwoPhaseDispatches(i),i}var f=e(16),h=e(20),m=e(144),v=e(21),g=e(101),y=e(105),b=e(162),w=[9,13,27,32],C=229,_=m.canUseDOM&&"CompositionEvent"in window,x=null;m.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!x&&!r(),T=m.canUseDOM&&(!_||x&&x>8&&11>=x),k=32,P=String.fromCharCode(k),S=f.topLevelTypes,O={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[S.topCompositionEnd,S.topKeyPress,S.topTextInput,S.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[S.topBlur,S.topCompositionEnd,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[S.topBlur,S.topCompositionStart,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[S.topBlur,S.topCompositionUpdate,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]}},I=!1,N=null,A={eventTypes:O,extractEvents:function(e,t,n,r){return[u(e,t,n,r),p(e,t,n,r)]}};t.exports=A},{101:101,105:105,144:144,16:16,162:162,20:20,21:21}],3:[function(e,t,n){function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],4:[function(e,t,n){var r=e(3),o=e(144),i=e(82),a=e(146),s=e(118),l=e(157),u=e(164),c=e(168),d=u(function(e){return l(e)}),p=!1,f="cssFloat";if(o.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(m){p=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var v=/^(?:webkit|moz|o)[A-Z]/,g=/;\s*$/,y={},b={},w=!1,C=function(e,t){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported style property %s. Did you mean %s?%s",e,a(e),T(t)))},_=function(e,t){y.hasOwnProperty(e)&&y[e]||(y[e]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),T(t)))},x=function(e,t,n){b.hasOwnProperty(t)&&b[t]||(b[t]=!0,c(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',T(n),e,t.replace(g,"")))},E=function(e,t,n){w||(w=!0,c(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,T(n)))},T=function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""},k=function(e,t,n){var r;n&&(r=n._currentElement._owner),e.indexOf("-")>-1?C(e,r):v.test(e)?_(e,r):g.test(t)&&x(e,t,r),"number"==typeof t&&isNaN(t)&&E(e,t,r)},P={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];k(r,o,t),null!=o&&(n+=d(r)+":",n+=s(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var i in t)if(t.hasOwnProperty(i)){k(i,t[i],n);var a=s(i,t[i],n);if(("float"===i||"cssFloat"===i)&&(i=f),a)o[i]=a;else{var l=p&&r.shorthandPropertyExpansions[i];if(l)for(var u in l)o[u]="";else o[i]=""}}}};i.measureMethods(P,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=P},{118:118,144:144,146:146,157:157,164:164,168:168,3:3,82:82}],5:[function(e,t,n){function r(){this._callbacks=null,this._contexts=null}var o=e(169),i=e(25),a=e(158);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{158:158,169:169,25:25}],6:[function(e,t,n){function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=E.getPooled(I.change,A,e,T(e));w.accumulateTwoPhaseDispatches(t),x.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){N=e,A=t,N.attachEvent("onchange",o)}function s(){N&&(N.detachEvent("onchange",o),N=null,A=null)}function l(e,t){return e===O.topChange?t:void 0}function u(e,t,n){e===O.topFocus?(s(),a(t,n)):e===O.topBlur&&s()}function c(e,t){N=e,A=t,M=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",R),N.attachEvent?N.attachEvent("onpropertychange",p):N.addEventListener("propertychange",p,!1)}function d(){N&&(delete N.value,N.detachEvent?N.detachEvent("onpropertychange",p):N.removeEventListener("propertychange",p,!1),N=null,A=null,M=null,D=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==M&&(M=t,o(e))}}function f(e,t){return e===O.topInput?t:void 0}function h(e,t,n){e===O.topFocus?(d(),c(t,n)):e===O.topBlur&&d()}function m(e,t){return e!==O.topSelectionChange&&e!==O.topKeyUp&&e!==O.topKeyDown||!N||N.value===M?void 0:(M=N.value,A)}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===O.topClick?t:void 0}var y=e(16),b=e(17),w=e(20),C=e(144),_=e(40),x=e(94),E=e(103),T=e(126),k=e(133),P=e(134),S=e(162),O=y.topLevelTypes,I={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},N=null,A=null,M=null,D=null,j=!1;C.canUseDOM&&(j=k("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;C.canUseDOM&&(L=k("input")&&(!("documentMode"in document)||document.documentMode>11));var R={get:function(){return D.get.call(this)},set:function(e){M=""+e,D.set.call(this,e)}},F={eventTypes:I,extractEvents:function(e,t,n,o){var i,a,s=t?_.getNodeFromInstance(t):window;if(r(s)?j?i=l:a=u:P(s)?L?i=f:(i=m,a=h):v(s)&&(i=g),i){var c=i(e,t);if(c){var d=E.getPooled(I.change,c,n,o);return d.type="change",w.accumulateTwoPhaseDispatches(d),d}}a&&a(e,s,t)}};t.exports=F},{103:103,126:126,133:133,134:134,144:144,16:16,162:162,17:17,20:20,40:40,94:94}],7:[function(e,t,n){function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(g(e,o,r),o===n)break;o=i}}function l(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&g(r,document.createTextNode(n),o):n?(v(o,n),l(r,o,t)):l(r,e,t)}var c=e(8),d=e(12),p=e(77),f=e(82),h=e(117),m=e(138),v=e(139),g=h(function(e,t,n){e.insertBefore(t,n)}),y={dangerouslyReplaceNodeWithMarkup:d.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case p.INSERT_MARKUP:o(e,s.content,r(e,s.afterNode));break;case p.MOVE_EXISTING:i(e,s.fromNode,r(e,s.afterNode));break;case p.SET_MARKUP:m(e,s.content);break;case p.TEXT_CONTENT:v(e,s.content);break;case p.REMOVE_NODE:a(e,s.fromNode)}}}};f.measureMethods(y,"DOMChildrenOperations",{replaceDelimitedText:"replaceDelimitedText"}),t.exports=y},{117:117,12:12,138:138,139:139,77:77,8:8,82:82}],8:[function(e,t,n){function r(e){if(d){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)p(t,n[r],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&c(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){d?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){d?e.html=t:e.node.innerHTML=t}function s(e,t){d?e.text=t:c(e.node,t)}function l(e){return{node:e,children:[],html:null,text:null}}var u=e(117),c=e(139),d="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),p=u(function(e,t,n){11===t.node.nodeType?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=p,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{117:117,139:139}],9:[function(e,t,n){var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],10:[function(e,t,n){function r(e,t){return(e&t)===t}var o=e(158),i={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in n){s.properties.hasOwnProperty(d)?o(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",d):void 0;var p=d.toLowerCase(),f=n[d],h={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!h.mustUseProperty&&h.hasSideEffects?o(!1,"DOMProperty: Properties that have side effects must use property: %s",d):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",d),s.getPossibleStandardName[p]=d,l.hasOwnProperty(d)){var m=l[d];h.attributeName=m,s.getPossibleStandardName[m]=d}a.hasOwnProperty(d)&&(h.attributeNamespace=a[d]),u.hasOwnProperty(d)&&(h.propertyName=u[d]),c.hasOwnProperty(d)&&(h.mutationMethod=c[d]),s.properties[d]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};t.exports=s},{158:158}],11:[function(e,t,n){function r(e){return p.hasOwnProperty(e)?!0:d.hasOwnProperty(e)?!1:c.test(e)?(p[e]=!0,!0):(d[e]=!0,u(!1,"Invalid attribute name: `%s`",e),!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var i=e(10),a=e(48),s=e(82),l=e(136),u=e(168),c=new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$"),d={},p={},f={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+l(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){a.debugTool.onCreateMarkupForProperty(e,t);var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+l(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+l(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+l(t):""},setValueForProperty:function(e,t,n){a.debugTool.onSetValueForProperty(e,t,n);var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var s=r.mutationMethod;if(s)s(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseProperty){var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+n||(e[l]=n)}else{var u=r.attributeName,c=r.attributeNamespace;c?e.setAttributeNS(c,u,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(u,""):e.setAttribute(u,""+n)}}else i.isCustomAttribute(t)&&f.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){a.debugTool.onDeleteValueForProperty(e,t);var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:n.hasSideEffects&&""+e[o]==""||(e[o]="")}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};s.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=f},{10:10,136:136,168:168,48:48,82:82}],12:[function(e,t,n){function r(e){return e.substring(1,e.indexOf(" "))}var o=e(8),i=e(144),a=e(149),s=e(150),l=e(154),u=e(158),c=/^(<[^ \/>]+)/,d="data-danger-index",p={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:u(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,n={},o=0;o<e.length;o++)e[o]?void 0:u(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=r(e[o]),t=l(t)?t:"*",n[t]=n[t]||[],n[t][o]=e[o];var p=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,m=n[t];for(h in m)if(m.hasOwnProperty(h)){var v=m[h];m[h]=v.replace(c,"$1 "+d+'="'+h+'" ')}for(var g=a(m.join(""),s),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(d)?(h=+b.getAttribute(d),b.removeAttribute(d),p.hasOwnProperty(h)?u(!1,"Danger: Assigning to an already-occupied result index."):void 0,p[h]=b,f+=1):console.error("Danger: Discarding unexpected node:",b)}}return f!==p.length?u(!1,"Danger: Did not assign to every index of resultList."):void 0,p.length!==e.length?u(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:u(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?void 0:u(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"HTML"===e.nodeName?u(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}};t.exports=p},{144:144,149:149,150:150,154:154,158:158,8:8}],13:[function(e,t,n){var r=e(162),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{162:162}],14:[function(e,t,n){var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};t.exports=o},{}],15:[function(e,t,n){var r=e(16),o=e(20),i=e(40),a=e(107),s=e(162),l=r.topLevelTypes,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c={eventTypes:u,extractEvents:function(e,t,n,r){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var d,p;if(e===l.topMouseOut){d=t;var f=n.relatedTarget||n.toElement;p=f?i.getClosestInstanceFromNode(f):null}else d=null,p=t;if(d===p)return null;var h=null==d?s:i.getNodeFromInstance(d),m=null==p?s:i.getNodeFromInstance(p),v=a.getPooled(u.mouseLeave,d,n,r);v.type="mouseleave",v.target=h,v.relatedTarget=m;var g=a.getPooled(u.mouseEnter,p,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,g,d,p),[v,g]}};t.exports=c},{107:107,16:16,162:162,20:20,40:40}],16:[function(e,t,n){var r=e(161),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},{161:161}],17:[function(e,t,n){var r=e(18),o=e(19),i=e(65),a=e(114),s=e(122),l=e(158),u={},c=null,d=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},f=function(e){return d(e,!1)},h={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?l(!1,"Expected %s listener to be a function, instead got type %s",t,typeof n):void 0;var o=u[t]||(u[t]={});o[e._rootNodeID]=n;var i=r.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=u[t];o&&delete o[e._rootNodeID]},deleteAllListeners:function(e){for(var t in u)if(u[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete u[t][e._rootNodeID]}},extractEvents:function(e,t,n,o){for(var i,s=r.plugins,l=0;l<s.length;l++){var u=s[l];if(u){var c=u.extractEvents(e,t,n,o);c&&(i=a(i,c))}}return i},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,p):s(t,f),c?l(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,i.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=h},{114:114,122:122,158:158,18:18,19:19,65:65}],18:[function(e,t,n){function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:a(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[n]){t.extractEvents?void 0:a(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function o(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n):void 0,u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){u.registrationNameModules[e]?a(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies;var r=e.toLowerCase();u.possibleRegistrationNames[r]=e}var a=e(158),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:{},injectEventPluginOrder:function(e){s?a(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];l.hasOwnProperty(n)&&l[n]===o||(l[n]?a(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n):void 0,l[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o];var i=u.possibleRegistrationNames;for(var a in i)i.hasOwnProperty(a)&&delete i[a]}};t.exports=u},{158:158}],19:[function(e,t,n){function r(e){return e===w.topMouseUp||e===w.topTouchEnd||e===w.topTouchCancel}function o(e){return e===w.topMouseMove||e===w.topTouchMove}function i(e){return e===w.topMouseDown||e===w.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=C.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(o,n,e):v.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(h(e),Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(h(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){h(e);var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?g(!1,"executeDirectDispatch(...): Invalid `event`."):void 0,e.currentTarget=t?C.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function d(e){return!!e._dispatchListeners}var p,f,h,m=e(16),v=e(65),g=e(158),y=e(168),b={injectComponentTree:function(e){p=e,y(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")},injectTreeTraversal:function(e){
f=e,y(e&&e.isAncestor&&e.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected module is missing isAncestor or getLowestCommonAncestor.")}},w=m.topLevelTypes;h=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),o=r?t.length:t?1:0,i=Array.isArray(n),a=i?n.length:n?1:0;y(i===r&&a===o,"EventPluginUtils: Invalid `event`.")};var C={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:d,getInstanceFromNode:function(e){return p.getInstanceFromNode(e)},getNodeFromInstance:function(e){return p.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:b};t.exports=C},{158:158,16:16,168:168,65:65}],20:[function(e,t,n){function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return w(e,r)}function o(e,t,n){y(e,"Dispatching inst must not be null");var o=t?b.bubbled:b.captured,i=r(e,n,o);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=w(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){g(e,i)}function c(e){g(e,a)}function d(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function p(e){g(e,l)}var f=e(16),h=e(17),m=e(19),v=e(114),g=e(122),y=e(168),b=f.PropagationPhases,w=h.getListener,C={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:d};t.exports=C},{114:114,122:122,16:16,168:168,17:17,19:19}],21:[function(e,t,n){function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(169),i=e(25),a=e(130);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{130:130,169:169,25:25}],22:[function(e,t,n){var r=e(10),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,s=r.injection.HAS_NUMERIC_VALUE,l=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:l,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,"default":i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,rel:0,required:i,reversed:i,role:0,rows:l,rowSpan:s,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:l,sizes:0,span:l,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:o|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=c},{10:10}],23:[function(e,t,n){function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],24:[function(e,t,n){function r(e){null!=e.checkedLink&&null!=e.valueLink?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(85),l=e(84),u=e(158),c=e(168),d={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},f={},h={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,l.prop);if(o instanceof Error&&!(o.message in f)){f[o.message]=!0;var i=a(n);c(!1,"Failed form propType: %s%s",o.message,i)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=h},{158:158,168:168,84:84,85:85}],25:[function(e,t,n){var r=e(158),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},l=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},u=function(e){var t=this;e instanceof t?void 0:r(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,d=o,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||d,n.poolSize||(n.poolSize=c),n.release=u,n},f={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=f},{158:158}],26:[function(e,t,n){var r=e(169),o=e(29),i=e(31),a=e(30),s=e(44),l=e(62),u=e(63),c=e(85),d=e(95),p=e(135),f=e(168),h=l.createElement,m=l.createFactory,v=l.cloneElement;h=u.createElement,m=u.createFactory,v=u.cloneElement;var g=r,y=!1;g=function(){return f(y,"React.__spread is deprecated and should not be used. Use Object.assign directly or another helper function with similar semantics. You may be seeing this warning due to your compiler. See https://fb.me/react-spread-deprecation for more details."),y=!0,r.apply(null,arguments)};var b={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,createElement:h,cloneElement:v,isValidElement:l.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:m,createMixin:function(e){return e},DOM:s,version:d,__spread:g};t.exports=b},{135:135,168:168,169:169,29:29,30:30,31:31,44:44,62:62,63:63,85:85,95:95}],27:[function(e,t,n){function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,p[e[v]]={}),p[e[v]]}var o,i=e(169),a=e(16),s=e(18),l=e(66),u=e(113),c=e(131),d=e(133),p={},f=!1,h=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=i({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=s.registrationNameDependencies[e],l=a.topLevelTypes,u=0;u<i.length;u++){var c=i[u];o.hasOwnProperty(c)&&o[c]||(c===l.topWheel?d("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):d("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?d("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(d("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):d("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!f){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});t.exports=g},{113:113,131:131,133:133,16:16,169:169,18:18,66:66}],28:[function(e,t,n){function r(e,t,n){var r=void 0===e[n];u(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",a.unescape(n)),null!=t&&r&&(e[n]=i(t))}var o=e(87),i=e(132),a=e(23),s=e(140),l=e(141),u=e(168),c={instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return l(e,r,o),o},updateChildren:function(e,t,n,r,a){if(t||e){var l,u;for(l in t)if(t.hasOwnProperty(l)){u=e&&e[l];var c=u&&u._currentElement,d=t[l];if(null!=u&&s(c,d))o.receiveComponent(u,d,r,a),t[l]=u;else{u&&(n[l]=o.getNativeNode(u),o.unmountComponent(u,!1));var p=i(d);t[l]=p}}for(l in e)!e.hasOwnProperty(l)||t&&t.hasOwnProperty(l)||(u=e[l],n[l]=o.getNativeNode(u),o.unmountComponent(u,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=c},{132:132,140:140,141:141,168:168,23:23,87:87}],29:[function(e,t,n){function r(e){return(""+e).replace(w,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,o,n,v.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,i+(!l.key||t&&t.key===l.key?"":r(l.key)+"/")+n)),o.push(l))}function u(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,o,i);g(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function d(e,t,n){return null}function p(e,t){return g(e,d,null)}function f(e){var t=[];return u(e,t,null,v.thatReturnsArgument),t}var h=e(25),m=e(62),v=e(150),g=e(141),y=h.twoArgumentPooler,b=h.fourArgumentPooler,w=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var C={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:p,toArray:f};t.exports=C},{141:141,150:150,25:25,62:62}],30:[function(e,t,n){function r(e,t,n){for(var r in t)t.hasOwnProperty(r)&&_("function"==typeof t[r],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",v[n],r)}function o(e,t){var n=k.hasOwnProperty(t)?k[t]:null;S.hasOwnProperty(t)&&(n!==E.OVERRIDE_BASE?b(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):void 0),e&&(n!==E.DEFINE_MANY&&n!==E.DEFINE_MANY_MERGED?b(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):void 0)}function i(e,t){if(t){"function"==typeof t?b(!1,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):void 0,h.isValidElement(t)?b(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(x)&&P.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==x){var a=t[i],s=n.hasOwnProperty(i);if(o(s,i),P.hasOwnProperty(i))P[i](e,a);else{var c=k.hasOwnProperty(i),d="function"==typeof a,p=d&&!c&&!s&&t.autobind!==!1;if(p)r.push(i,a),n[i]=a;else if(s){var f=k[i];!c||f!==E.DEFINE_MANY_MERGED&&f!==E.DEFINE_MANY?b(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,i):void 0,f===E.DEFINE_MANY_MERGED?n[i]=l(n[i],a):f===E.DEFINE_MANY&&(n[i]=u(n[i],a))}else n[i]=a,"function"==typeof a&&t.displayName&&(n[i].displayName=t.displayName+"_"+i)}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in P;o?b(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):void 0;var i=n in e;i?b(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):void 0,e[n]=r}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:b(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?b(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):void 0,e[n]=t[n]);return e}function l(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return s(o,n),s(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var r=e.constructor.displayName,o=n.bind;return n.bind=function(i){for(var a=arguments.length,s=Array(a>1?a-1:0),l=1;a>l;l++)s[l-1]=arguments[l];if(i!==e&&null!==i)_(!1,"bind(): React component methods may only be bound to the component instance. See %s",r);else if(!s.length)return _(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",r),n;var u=o.apply(n,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=s,u},n}function d(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=c(e,o)}}var p=e(169),f=e(31),h=e(62),m=e(84),v=e(83),g=e(80),y=e(151),b=e(158),w=e(161),C=e(162),_=e(168),x=C({mixins:null}),E=w({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),T=[],k={mixins:E.DEFINE_MANY,statics:E.DEFINE_MANY,propTypes:E.DEFINE_MANY,contextTypes:E.DEFINE_MANY,childContextTypes:E.DEFINE_MANY,getDefaultProps:E.DEFINE_MANY_MERGED,getInitialState:E.DEFINE_MANY_MERGED,getChildContext:E.DEFINE_MANY_MERGED,render:E.DEFINE_ONCE,componentWillMount:E.DEFINE_MANY,componentDidMount:E.DEFINE_MANY,componentWillReceiveProps:E.DEFINE_MANY,shouldComponentUpdate:E.DEFINE_ONCE,componentWillUpdate:E.DEFINE_MANY,componentDidUpdate:E.DEFINE_MANY,componentWillUnmount:E.DEFINE_MANY,updateComponent:E.OVERRIDE_BASE},P={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){r(e,t,m.childContext),e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,m.context),e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=l(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){r(e,t,m.prop),e.propTypes=p({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},O=function(){};p(O.prototype,f.prototype,S);var I={createClass:function(e){var t=function(e,n,r){_(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindPairs.length&&d(this),this.props=e,this.context=n,this.refs=y,this.updater=r||g,this.state=null;var o=this.getInitialState?this.getInitialState():null;void 0===o&&this.getInitialState._isMockFunction&&(o=null),"object"!=typeof o||Array.isArray(o)?b(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):void 0,this.state=o};t.prototype=new O,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],T.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?void 0:b(!1,"createClass(...): Class specification must implement a `render` method."),_(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),_(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var n in k)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){T.push(e)}}};t.exports=I},{151:151,158:158,161:161,162:162,168:168,169:169,31:31,62:62,80:80,83:83,84:84}],31:[function(e,t,n){function r(e,t,n){this.props=e,this.context=t,this.refs=s,this.updater=n||o}var o=e(80),i=e(72),a=e(116),s=e(151),l=e(158),u=e(168);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?l(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,i.debugTool.onSetState(),u(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};var c={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},d=function(e,t){a&&Object.defineProperty(r.prototype,e,{get:function(){u(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var p in c)c.hasOwnProperty(p)&&d(p,c[p]);t.exports=r},{116:116,151:151,158:158,168:168,72:72,80:80}],32:[function(e,t,n){var r=e(7),o=e(46),i=e(82),a={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};i.measureMethods(a,"ReactComponentBrowserEnvironment",{replaceNodeWithMarkup:"replaceNodeWithMarkup"}),t.exports=a},{46:46,7:7,82:82}],33:[function(e,t,n){var r=e(158),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{158:158}],34:[function(e,t,n){function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}function i(e,t){x(null===t||t===!1||c.isValidElement(t),"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",e.displayName||e.name||"Component")}function a(e){return e.prototype&&e.prototype.isReactComponent}var s=e(169),l=e(33),u=e(35),c=e(62),d=e(65),p=e(71),f=e(72),h=e(79),m=e(82),v=e(84),g=e(83),y=e(87),b=e(93),w=e(151),C=e(158),_=e(140),x=e(168);o.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var E=1,T={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=E++,this._nativeParent=t,this._nativeContainerInfo=n;var s,l=this._processProps(this._currentElement.props),u=this._processContext(r),d=this._currentElement.type,f=this._constructComponent(l,u);a(d)||null!=f&&null!=f.render||(s=f,i(d,s),null===f||f===!1||c.isValidElement(f)?void 0:C(!1,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",d.displayName||d.name||"Component"),f=new o(d)),null==f.render&&x(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",d.displayName||d.name||"Component");var h=f.props!==l,m=d.displayName||d.name||"Component";x(void 0===f.props||!h,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",m,m),f.props=l,f.context=u,f.refs=w,f.updater=b,this._instance=f,p.set(f,this),x(!f.getInitialState||f.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),x(!f.getDefaultProps||f.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),x(!f.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),x(!f.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),x("function"!=typeof f.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),x("function"!=typeof f.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),x("function"!=typeof f.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var v=f.state;void 0===v&&(f.state=v=null),"object"!=typeof v||Array.isArray(v)?C(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var g;return g=f.unstable_handleError?this.performInitialMountWithErrorHandling(s,t,n,e,r):this.performInitialMount(s,t,n,e,r),f.componentDidMount&&e.getReactMountReady().enqueue(f.componentDidMount,f),g},_constructComponent:function(e,t){u.current=this;try{return this._constructComponentWithoutOwner(e,t)}finally{u.current=null}},_constructComponentWithoutOwner:function(e,t){var n=this._currentElement.type;return a(n)?new n(e,t,b):n(e,t,b)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=h.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var a=y.mountComponent(this._renderedComponent,r,t,n,this._processChildContext(o));return a},getNativeNode:function(){return y.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(y.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return w;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e),n=this._currentElement.type;return n.contextTypes&&this._checkPropTypes(n.contextTypes,t,v.context),t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance;f.debugTool.onBeginProcessingChildContext();var r=n.getChildContext&&n.getChildContext();if(f.debugTool.onEndProcessingChildContext(),r){"object"!=typeof t.childContextTypes?C(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(t.childContextTypes,r,v.childContext);for(var o in r)o in t.childContextTypes?void 0:C(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o);return s({},e,r)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,v.prop),e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?C(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",g[n],i):void 0,a=e[i](t,i,o,n)}catch(s){a=s}if(a instanceof Error){var l=r(this);n===v.prop?x(!1,"Failed Composite propType: %s%s",a.message,l):x(!1,"Failed Context Types: %s%s",a.message,l)}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&y.receiveComponent(this,this._pendingElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context);
},updateComponent:function(e,t,n,r,o){var i,a,s=this._instance,l=!1;this._context===o?i=s.context:(i=this._processContext(o),l=!0),t===n?a=n.props:(a=this._processProps(n.props),l=!0),l&&s.componentWillReceiveProps&&s.componentWillReceiveProps(a,i);var u=this._processPendingState(a,i),c=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(a,u,i);x(void 0!==c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,u,i,e,o)):(this._currentElement=n,this._context=o,s.props=a,s.state=u,s.context=i)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=s({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var l=r[a];s(i,"function"==typeof l?l.call(n,i,e,t):l)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(_(r,o))y.receiveComponent(n,o,e,this._processChildContext(t));else{var i=y.getNativeNode(n);y.unmountComponent(n,!1),this._renderedNodeType=h.getType(o),this._renderedComponent=this._instantiateReactComponent(o);var a=y.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(i,a)}},_replaceNodeWithMarkup:function(e,t){l.replaceNodeWithMarkup(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return void 0===t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;u.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{u.current=null}return null===e||e===!1||c.isValidElement(e)?void 0:C(!1,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?C(!1,"Stateless function components cannot have refs."):void 0;var r=t.getPublicInstance(),o=t&&t.getName?t.getName():"a component";x(null!=r,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,o,this.getName());var i=n.refs===w?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};m.measureMethods(T,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var k={Mixin:T};t.exports=k},{140:140,151:151,158:158,168:168,169:169,33:33,35:35,62:62,65:65,71:71,72:72,79:79,82:82,83:83,84:84,87:87,93:93}],35:[function(e,t,n){var r={current:null};t.exports=r},{}],36:[function(e,t,n){var r=e(40),o=e(59),i=e(75),a=e(82),s=e(87),l=e(94),u=e(95),c=e(120),d=e(128),p=e(137),f=e(168);o.inject();var h=a.measure("React","render",i.render),m={findDOMNode:c,render:h,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=d(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:s});var v=e(144);if(v.canUseDOM&&window.top===window.self){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var g=-1===window.location.protocol.indexOf("http")&&-1===navigator.userAgent.indexOf("Firefox");console.debug("Download the React DevTools "+(g?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: https://fb.me/react-devtools")}var y=function(){};f(-1!==(y.name||y.toString()).indexOf("testFn"),"It looks like you're using a minified copy of the development build of React. When deploying React apps to production, make sure to use the production build which skips development warnings and is faster. See https://fb.me/react-minification for more details.");var b=document.documentMode&&document.documentMode<8;f(!b,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var w=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim],C=0;C<w.length;C++)if(!w[C]){f(!1,"One or more ES5 shims expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=m},{120:120,128:128,137:137,144:144,168:168,40:40,59:59,75:75,82:82,87:87,94:94,95:95}],37:[function(e,t,n){var r=e(14),o={getNativeProps:r.getNativeProps};t.exports=o},{14:14}],38:[function(e,t,n){function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(o).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+o(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function i(e,t,n){if(null!=e&&null!=t&&!U(e,t)){var r,i=n._tag,a=n._currentElement._owner;a&&(r=a.getName());var s=r+"|"+i;Z.hasOwnProperty(s)||(Z[s]=!0,H(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",i,a?"of `"+r+"`":"using <"+i+">",o(e),o(t)))}}function a(e,t){t&&(re[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?R(!1,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?R(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof t.dangerouslySetInnerHTML&&X in t.dangerouslySetInnerHTML?void 0:R(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),H(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),H(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),H(null==t.onFocusIn&&null==t.onFocusOut,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),null!=t.style&&"object"!=typeof t.style?R(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",r(e)):void 0)}function s(e,t,n,r){H("onScroll"!==t||F("scroll",!0),"This browser doesn't support the `onScroll` event");var o=e._nativeContainerInfo,i=o._node&&o._node.nodeType===J,a=i?o._node:o._ownerDocument;a&&(q(t,a),r.getReactMountReady().enqueue(l,{inst:e,registrationName:t,listener:n}))}function l(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function u(){var e=this;N.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:R(!1,"Must be mounted to trap events");var t=V(e);switch(t?void 0:R(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":case"object":e._wrapperState.listeners=[T.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in ee)ee.hasOwnProperty(n)&&e._wrapperState.listeners.push(T.trapBubbledEvent(_.topLevelTypes[n],ee[n],t));break;case"img":e._wrapperState.listeners=[T.trapBubbledEvent(_.topLevelTypes.topError,"error",t),T.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[T.trapBubbledEvent(_.topLevelTypes.topReset,"reset",t),T.trapBubbledEvent(_.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[T.trapBubbledEvent(_.topLevelTypes.topInvalid,"invalid",t)]}}function d(){A.postUpdateWrapper(this)}function p(e){ae.call(ie,e)||(oe.test(e)?void 0:R(!1,"Invalid tag: %s",e),ie[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;p(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0,this._ancestorInfo=null}var m=e(169),v=e(1),g=e(4),y=e(8),b=e(9),w=e(10),C=e(11),_=e(16),x=e(17),E=e(18),T=e(27),k=e(32),P=e(37),S=e(39),O=e(40),I=e(47),N=e(49),A=e(50),M=e(54),D=e(76),j=e(82),L=e(119),R=e(158),F=e(133),B=e(162),U=e(167),$=e(142),H=e(168),W=S,z=x.deleteListener,V=O.getNodeFromInstance,q=T.listenTo,K=E.registrationNameModules,G={string:!0,number:!0},Y=B({style:null}),X=B({__html:null}),Q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},J=11,Z={},ee={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},te={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ne={listing:!0,pre:!0,textarea:!0},re=m({menuitem:!0},te),oe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie={},ae={}.hasOwnProperty,se=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=se++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":o=P.getNativeProps(this,o,t);break;case"input":I.mountWrapper(this,o,t),o=I.getNativeProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":N.mountWrapper(this,o,t),o=N.getNativeProps(this,o);break;case"select":A.mountWrapper(this,o,t),o=A.getNativeProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":M.mountWrapper(this,o,t),o=M.getNativeProps(this,o),e.getReactMountReady().enqueue(c,this)}a(this,o);var i,s;null!=t?(i=t._namespaceURI,s=t._tag):n._tag&&(i=n._namespaceURI,s=n._tag),(null==i||i===b.svg&&"foreignobject"===s)&&(i=b.html),i===b.html&&("svg"===this._tag?i=b.svg:"math"===this._tag&&(i=b.mathml)),this._namespaceURI=i;var l;null!=t?l=t._ancestorInfo:n._tag&&(l=n._ancestorInfo),l&&$(this._tag,this,l),this._ancestorInfo=$.updatedAncestorInfo(l,this._tag,this);var d;if(e.useCreateElement){var p,f=n._ownerDocument;if(i===b.html)if("script"===this._tag){var h=f.createElement("div"),m=this._currentElement.type;h.innerHTML="<"+m+"></"+m+">",p=h.removeChild(h.firstChild)}else p=f.createElement(this._currentElement.type);else p=f.createElementNS(i,this._currentElement.type);O.precacheNode(this,p),this._flags|=W.hasCachedChildNodes,this._nativeParent||C.setAttributeForRoot(p),this._updateDOMProperties(null,o,e);var g=y(p);this._createInitialChildren(e,o,r,g),d=g}else{var w=this._createOpenTagMarkupAndPutListeners(e,o),_=this._createContentMarkup(e,o,r);d=!_&&te[this._tag]?w+"/>":w+">"+_+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(K.hasOwnProperty(r))o&&s(this,r,o,e);else{r===Y&&(o&&(this._previousStyle=o,o=this._previousStyleCopy=m({},t.style)),o=g.createMarkupForStyles(o,this));var i=null;null!=this._tag&&f(this._tag,t)?Q.hasOwnProperty(r)||(i=C.createMarkupForCustomAttribute(r,o)):i=C.createMarkupForProperty(r,o),i&&(n+=" "+i)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+C.createMarkupForRoot()),n+=" "+C.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=G[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=L(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return ne[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&y.queueHTML(r,o.__html);else{var i=G[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)y.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)y.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"button":o=P.getNativeProps(this,o),i=P.getNativeProps(this,i);break;case"input":I.updateWrapper(this),o=I.getNativeProps(this,o),i=I.getNativeProps(this,i);break;case"option":o=N.getNativeProps(this,o),i=N.getNativeProps(this,i);break;case"select":o=A.getNativeProps(this,o),i=A.getNativeProps(this,i);break;case"textarea":M.updateWrapper(this),o=M.getNativeProps(this,o),i=M.getNativeProps(this,i)}a(this,i),this._updateDOMProperties(o,i,e),this._updateDOMChildren(o,i,e,r),"select"===this._tag&&e.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===Y){var l=this._previousStyleCopy;for(o in l)l.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else K.hasOwnProperty(r)?e[r]&&z(this,r):(w.properties[r]||w.isCustomAttribute(r))&&C.deleteValueForProperty(V(this),r);for(r in t){var u=t[r],c=r===Y?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==c&&(null!=u||null!=c))if(r===Y)if(u?(i(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=u,u=this._previousStyleCopy=m({},u)):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(K.hasOwnProperty(r))u?s(this,r,u,n):c&&z(this,r);else if(f(this._tag,t))Q.hasOwnProperty(r)||C.setValueForAttribute(V(this),r,u);else if(w.properties[r]||w.isCustomAttribute(r)){var d=V(this);null!=u?C.setValueForProperty(d,r,u):C.deleteValueForProperty(d,r)}}a&&g.setValueForStyles(V(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=G[typeof e.children]?e.children:null,i=G[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,u=null!=i?null:t.children,c=null!=o||null!=a,d=null!=i||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!d&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getNativeNode:function(){return V(this)},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":R(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}this.unmountChildren(e),O.uncacheNode(this),x.deleteAllListeners(this),k.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return V(this)}},j.measureMethods(h.Mixin,"ReactDOMComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),m(h.prototype,h.Mixin,D.Mixin),t.exports=h},{1:1,10:10,11:11,119:119,133:133,142:142,158:158,16:16,162:162,167:167,168:168,169:169,17:17,18:18,27:27,32:32,37:37,39:39,4:4,40:40,47:47,49:49,50:50,54:54,76:76,8:8,82:82,9:9}],39:[function(e,t,n){var r={hasCachedChildNodes:1};t.exports=r},{}],40:[function(e,t,n){function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._nativeNode=t,t[m]=n}function i(e){var t=e._nativeNode;t&&(delete t[m],e._nativeNode=null)}function a(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=r(s)._domID;if(null!=l){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(f)===String(l)||8===i.nodeType&&i.nodeValue===" react-text: "+l+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+l+" "){o(s,i);continue e}p(!1,"Unable to find element with ID %s.",l)}}e._flags|=h.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function l(e){var t=s(e);return null!=t&&t._nativeNode===e?t:null}function u(e){if(void 0===e._nativeNode?p(!1,"getNodeFromInstance: Invalid argument."):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:p(!1,"React DOM tree root should always have a node reference."),e=e._nativeParent;for(;t.length;e=t.pop())a(e,e._nativeNode);return e._nativeNode}var c=e(10),d=e(39),p=e(158),f=c.ID_ATTRIBUTE_NAME,h=d,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:a,precacheNode:o,uncacheNode:i};t.exports=v},{10:10,158:158,39:39}],41:[function(e,t,n){function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n._ancestorInfo=t?o.updatedAncestorInfo(null,n._tag,null):null,n}var o=e(142),i=9;t.exports=r},{142:142}],42:[function(e,t,n){function r(e,t,n,r,o,l){a.forEach(function(a){try{a[e]&&a[e](t,n,r,o,l)}catch(u){i(!s[e],"exception thrown by devtool while handling %s: %s",e,u.message),s[e]=!0}})}var o=e(56),i=e(168),a=[],s={},l={addDevtool:function(e){a.push(e)},removeDevtool:function(e){for(var t=0;t<a.length;t++)a[t]===e&&(a.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){r("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){r("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){r("onDeleteValueForProperty",e,t)}};l.addDevtool(o),t.exports=l},{168:168,56:56}],43:[function(e,t,n){var r=e(169),o=e(8),i=e(40),a=function(e){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._nativeParent=t,this._nativeContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return i.precacheNode(this,u),o(u)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getNativeNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{169:169,40:40,8:8}],44:[function(e,t,n){function r(e){return o.createFactory(e)}var o=(e(62),e(63)),i=e(163),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a},{163:163,62:62,63:63}],45:[function(e,t,n){var r={useCreateElement:!0};t.exports=r},{}],46:[function(e,t,n){var r=e(7),o=e(40),i=e(82),a={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};i.measureMethods(a,"ReactDOMIDOperations",{dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=a},{40:40,7:7,82:82}],47:[function(e,t,n){function r(){this._rootNodeID&&C.updateWrapper(this)}function o(e){null==e||null!==e.value||v||(f(!1,"`value` prop on `input` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."),v=!0)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);d.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),a=i;a.parentNode;)a=a.parentNode;for(var s=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),l=0;l<s.length;l++){var f=s[l];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h?void 0:p(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."),d.asap(r,h)}}}return n}var a=e(169),s=e(14),l=e(11),u=e(24),c=e(40),d=e(94),p=e(158),f=e(168),h=!1,m=!1,v=!1,g=!1,y=!1,b=!1,w=!1,C={getNativeProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t),o=a({type:void 0},s.getNativeProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){u.checkPropTypes("input",t,e._currentElement._owner),void 0===t.valueLink||h||(f(!1,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."),h=!0),void 0===t.checkedLink||m||(f(!1,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."),m=!0),void 0===t.checked||void 0===t.defaultChecked||y||(f(!1,"Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components"),y=!0),void 0===t.value||void 0===t.defaultValue||g||(f(!1,"Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components"),g=!0),o(t);var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:i.bind(e)},e._wrapperState.controlled=void 0!==t.checked||void 0!==t.value},updateWrapper:function(e){var t=e._currentElement.props;o(t);var n=e._wrapperState.initialChecked||e._wrapperState.initialValue,r=t.defaultChecked||t.defaultValue,i=void 0!==t.checked||void 0!==t.value,a=e._currentElement._owner;!n&&e._wrapperState.controlled||!i||w||(f(!1,"%s is changing a uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",a&&a.getName()||"A component",t.type),w=!0),!e._wrapperState.controlled||!r&&i||b||(f(!1,"%s is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",a&&a.getName()||"A component",t.type),b=!0);var s=t.checked;null!=s&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",s||!1);var d=u.getValue(t);null!=d&&l.setValueForProperty(c.getNodeFromInstance(e),"value",""+d)}};t.exports=C},{11:11,14:14,158:158,168:168,169:169,24:24,40:40,94:94}],48:[function(e,t,n){var r=e(42);t.exports={debugTool:r}},{42:42}],49:[function(e,t,n){var r=e(169),o=e(29),i=e(40),a=e(50),s=e(168),l={mountWrapper:function(e,t,n){s(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._nativeParent),null!=o&&"select"===o._tag&&(r=a.getSelectValueContext(o))}var i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var l=0;l<r.length;l++)if(""+r[l]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=i.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i="";return o.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?i+=e:s(!1,"Only strings and numbers are supported as <option> children."))}),i&&(n.children=i),n}};t.exports=l},{168:168,169:169,29:29,40:40,50:50}],50:[function(e,t,n){function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=d.getValue(e);null!=t&&s(this,Boolean(e.multiple),t)}}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){null==e||null!==e.value||v||(h(!1,"`value` prop on `select` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."),v=!0)}function a(e,t){var n=e._currentElement._owner;d.checkPropTypes("select",t,n),void 0===t.valueLink||m||(h(!1,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."),m=!0);for(var r=0;r<y.length;r++){var i=y[r];null!=t[i]&&(t.multiple?h(Array.isArray(t[i]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",i,o(n)):h(!Array.isArray(t[i]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",i,o(n)))}}function s(e,t,n){var r,o,i=p.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function l(e){var t=this._currentElement.props,n=d.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),f.asap(r,this),n}var u=e(169),c=e(14),d=e(24),p=e(40),f=e(94),h=e(168),m=!1,v=!1,g=!1,y=["value","defaultValue"],b={getNativeProps:function(e,t){return u({},c.getNativeProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){a(e,t),i(t);var n=d.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:l.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||g||(h(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),g=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;i(t),e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=d.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,s(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?s(e,Boolean(t.multiple),t.defaultValue):s(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=b},{14:14,168:168,169:169,24:24,40:40,94:94}],51:[function(e,t,n){function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,d=s.cloneRange();d.selectNodeContents(e),d.setEnd(s.startContainer,s.startOffset);var p=r(d.startContainer,d.startOffset,d.endContainer,d.endOffset),f=p?0:d.toString().length,h=f+c,m=document.createRange();
m.setStart(n,o),m.setEnd(i,a);var v=m.collapsed;return{start:v?h:f,end:v?f:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=u(e,o),l=u(e,i);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=e(144),u=e(129),c=e(130),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?o:i,setOffsets:d?a:s};t.exports=p},{129:129,130:130,144:144}],52:[function(e,t,n){var r=e(59),o=e(90),i=e(95);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},{59:59,90:90,95:95}],53:[function(e,t,n){var r=e(169),o=e(7),i=e(8),a=e(40),s=e(82),l=e(119),u=e(158),c=e(142),d=function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null};r(d.prototype,{mountComponent:function(e,t,n,r){var o;null!=t?o=t._ancestorInfo:null!=n&&(o=n._ancestorInfo),o&&c("#text",this,o);var s=n._idCounter++,u=" react-text: "+s+" ",d=" /react-text ";if(this._domID=s,this._nativeParent=t,e.useCreateElement){var p=n._ownerDocument,f=p.createComment(u),h=p.createComment(d),m=i(p.createDocumentFragment());return i.queueChild(m,i(f)),this._stringText&&i.queueChild(m,i(p.createTextNode(this._stringText))),i.queueChild(m,i(h)),a.precacheNode(this,f),this._closingComment=h,m}var v=l(this._stringText);return e.renderToStaticMarkup?v:"<!--"+u+"-->"+v+"<!--"+d+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getNativeNode();o.replaceDelimitedText(r[0],r[1],n)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=a.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?u(!1,"Missing closing comment for text component %s",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),s.measureMethods(d.prototype,"ReactDOMTextComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),t.exports=d},{119:119,142:142,158:158,169:169,40:40,7:7,8:8,82:82}],54:[function(e,t,n){function r(){this._rootNodeID&&g.updateWrapper(this)}function o(e){null==e||null!==e.value||m||(f(!1,"`value` prop on `textarea` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."),m=!0)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return d.asap(r,this),n}var a=e(169),s=e(14),l=e(11),u=e(24),c=e(40),d=e(94),p=e(158),f=e(168),h=!1,m=!1,v=!1,g={getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?p(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var n=a({},s.getNativeProps(e,t),{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){u.checkPropTypes("textarea",t,e._currentElement._owner),void 0===t.valueLink||h||(f(!1,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."),h=!0),void 0===t.value||void 0===t.defaultValue||v||(f(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"),v=!0),o(t);var n=t.defaultValue,r=t.children;null!=r&&(f(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=n?p(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(r)&&(r.length<=1?void 0:p(!1,"<textarea> can only have at most one child."),r=r[0]),n=""+r),null==n&&(n="");var a=u.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props;o(t);var n=u.getValue(t);null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"value",""+n)}};t.exports=g},{11:11,14:14,158:158,168:168,169:169,24:24,40:40,94:94}],55:[function(e,t,n){function r(e,t){"_nativeNode"in e?void 0:l(!1,"getNodeFromInstance: Invalid argument."),"_nativeNode"in t?void 0:l(!1,"getNodeFromInstance: Invalid argument.");for(var n=0,r=e;r;r=r._nativeParent)n++;for(var o=0,i=t;i;i=i._nativeParent)o++;for(;n-o>0;)e=e._nativeParent,n--;for(;o-n>0;)t=t._nativeParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function o(e,t){"_nativeNode"in e?void 0:l(!1,"isAncestor: Invalid argument."),"_nativeNode"in t?void 0:l(!1,"isAncestor: Invalid argument.");for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function i(e){return"_nativeNode"in e?void 0:l(!1,"getParentInstance: Invalid argument."),e._nativeParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._nativeParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._nativeParent;for(var l=[];t&&t!==a;)l.push(t),t=t._nativeParent;var u;for(u=0;u<s.length;u++)n(s[u],!0,o);for(u=l.length;u-- >0;)n(l[u],!1,i)}var l=e(158);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{158:158}],56:[function(e,t,n){var r=e(10),o=e(18),i=e(168),a={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},s={},l=function(e){if(!r.properties.hasOwnProperty(e)&&!r.isCustomAttribute(e)&&!(a.hasOwnProperty(e)&&a[e]||s.hasOwnProperty(e)&&s[e])){s[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;i(null==n,"Unknown DOM property %s. Did you mean %s?",e,n);var l=o.possibleRegistrationNames.hasOwnProperty(t)?o.possibleRegistrationNames[t]:null;i(null==l,"Unknown event handler property %s. Did you mean `%s`?",e,l)}},u={onCreateMarkupForProperty:function(e,t){l(e)},onSetValueForProperty:function(e,t,n){l(t)},onDeleteValueForProperty:function(e,t){l(t)}};t.exports=u},{10:10,168:168,18:18}],57:[function(e,t,n){function r(e,t,n,r,o,l){a.forEach(function(a){try{a[e]&&a[e](t,n,r,o,l)}catch(u){i(!s[e],"exception thrown by devtool while handling %s: %s",e,u.message),s[e]=!0}})}var o=e(73),i=e(168),a=[],s={},l={addDevtool:function(e){a.push(e)},removeDevtool:function(e){for(var t=0;t<a.length;t++)a[t]===e&&(a.splice(t,1),t--)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onSetState:function(){r("onSetState")},onMountRootComponent:function(e){r("onMountRootComponent",e)},onMountComponent:function(e){r("onMountComponent",e)},onUpdateComponent:function(e){r("onUpdateComponent",e)},onUnmountComponent:function(e){r("onUnmountComponent",e)}};l.addDevtool(o),t.exports=l},{168:168,73:73}],58:[function(e,t,n){function r(){this.reinitializeTransaction()}var o=e(169),i=e(94),a=e(112),s=e(150),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},u={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[u,l];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var d=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,n,r,o,i):d.perform(e,null,t,n,r,o,i)}};t.exports=p},{112:112,150:150,169:169,94:94}],59:[function(e,t,n){function r(){if(!x){x=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(a),y.EventPluginUtils.injectComponentTree(p),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:C,BeforeInputEventPlugin:o}),y.NativeComponent.injectGenericComponentClass(d),y.NativeComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(u),y.DOMProperty.injectDOMPropertyConfig(w),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),y.Updates.injectReconcileTransaction(b),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c);var t=l.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var n=e(60);n.start()}}}var o=e(2),i=e(6),a=e(13),s=e(15),l=e(144),u=e(22),c=e(32),d=e(38),p=e(40),f=e(43),h=e(55),m=e(53),v=e(58),g=e(67),y=e(69),b=e(86),w=e(96),C=e(97),_=e(98),x=!1;t.exports={inject:r}},{13:13,144:144,15:15,2:2,22:22,32:32,38:38,40:40,43:43,53:53,55:55,58:58,6:6,60:60,67:67,69:69,86:86,96:96,97:97,98:98}],60:[function(e,t,n){function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}function i(e){if(c||(c=new WeakMap),c.has(e))return c.get(e);var t=y++;return c.set(e,t),t}function a(e){return e.hasOwnProperty("_rootNodeID")?e._rootNodeID:i(e)}function s(e,t){if("object"!=typeof t||Array.isArray(t)||null==t)return t;var n=Object.getPrototypeOf(t);return n&&n!==Object.prototype?"<not serializable>":t}function l(e){return{__unstable_this_format_will_change:e}}function u(e){return e&&e.__unstable_this_format_will_change||e}var c,d=e(10),p=e(40),f=e(61),h=e(75),m=e(82),v=e(166),g=e(168),y=17e3,b=!1,w=!1,C={_allMeasurements:[],_mountStack:[0],_compositeStack:[],_injected:!1,start:function(){C._injected||m.injection.injectMeasure(C.measure),C._allMeasurements.length=0,m.enableMeasure=!0},stop:function(){m.enableMeasure=!1},getLastMeasurements:function(){return l(C._allMeasurements)},printExclusive:function(e){e=u(e||C._allMeasurements);var t=f.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=u(e||C._allMeasurements);var t=f.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",f.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){return g(w,"`ReactPerf.getMeasurementsSummaryMap(...)` is deprecated. Use `ReactPerf.getWasted(...)` instead."),w=!0,C.getWasted(e)},getWasted:function(e){e=u(e);var t=f.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=u(e||C._allMeasurements),console.table(C.getWasted(e)),console.log("Total time:",f.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){return g(b,"`ReactPerf.printDOM(...)` is deprecated. Use `ReactPerf.printOperations(...)` instead."),b=!0,C.printOperations(e)},printOperations:function(e){e=u(e||C._allMeasurements);var t=f.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[d.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args,s),t})),console.log("Total time:",f.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=C._allMeasurements[C._allMeasurements.length-1],i=o.writes;i[e]=i[e]||[],i[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=arguments.length,s=Array(r),l=0;r>l;l++)s[l]=arguments[l];var u,c,d,f=C._allMeasurements[C._allMeasurements.length-1];if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return C._allMeasurements.push(f={exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},hierarchy:{},totalTime:0,created:{}}),d=v(),c=n.apply(this,s),f.totalTime=v()-d,c;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e||"ReactComponentBrowserEnvironment"===e){if(d=v(),c=n.apply(this,s),u=v()-d,"_mountImageIntoNode"===t)C._recordWrite("",t,u,s[0]);else if("dangerouslyProcessChildrenUpdates"===t)s[1].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.content&&(t.content=e.content),C._recordWrite(s[0]._rootNodeID,e.type,u,t)});else{var m=s[0];"EventPluginHub"===e?m=m._rootNodeID:"replaceNodeWithMarkup"===t?m=p.getInstanceFromNode(s[1].node)._rootNodeID:"replaceDelimitedText"===t?m=a(p.getInstanceFromNode(s[0])):"object"==typeof m&&(m=a(p.getInstanceFromNode(s[0]))),C._recordWrite(m,t,u,Array.prototype.slice.call(s,1))}return c}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return"ReactDOMComponent"!==e&&"ReactDOMTextComponent"!==e||"mountComponent"!==t&&"receiveComponent"!==t?n.apply(this,s):(c=n.apply(this,s),f.hierarchy[a(this)]=C._compositeStack.slice(),c);if(this._currentElement.type===h.TopLevelWrapper)return n.apply(this,s);var g=i(this),y="_renderValidatedComponent"===t,b="mountComponent"===t,w=C._mountStack;if(y?o(f.counts,g,1):b&&(f.created[g]=!0,w.push(0)),C._compositeStack.push(g),d=v(),c=n.apply(this,s),u=v()-d,C._compositeStack.pop(),y)o(f.render,g,u);else if(b){var _=w.pop();w[w.length-1]+=u,o(f.exclusive,g,u-_),o(f.inclusive,g,u)}else o(f.inclusive,g,u);return f.displayNames[g]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},c}}};t.exports=C},{10:10,166:166,168:168,40:40,61:61,75:75,82:82}],61:[function(e,t,n){function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:c[e.type]||e.type,args:e.args})})})}),t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=l({},o.exclusive,o.inclusive);for(var a in i)t=o.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(n[t].render+=o.render[a]),o.exclusive[a]&&(n[t].exclusive+=o.exclusive[a]),o.inclusive[a]&&(n[t].inclusive+=o.inclusive[a]),o.counts[a]&&(n[t].count+=o.counts[a])}var s=[];for(t in n)n[t].exclusive>=u&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,r={},o=0;o<e.length;o++){var i,a=e[o],c=l({},a.exclusive,a.inclusive);t&&(i=s(a));for(var d in c)if(!t||i[d]){var p=a.displayNames[d];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},a.inclusive[d]&&(r[n].time+=a.inclusive[d]),a.counts[d]&&(r[n].count+=a.counts[d])}}var f=[];for(n in r)r[n].time>=u&&f.push(r[n]);return f.sort(function(e,t){return t.time-e.time}),f}function s(e){var t={},n=e.writes,r=e.hierarchy,o={};Object.keys(n).forEach(function(e){n[e].forEach(function(t){""!==e&&r.hasOwnProperty(e)&&r[e].forEach(function(e){return o[e]=!0})})});var i=l({},e.exclusive,e.inclusive);for(var a in i){var s=!1;o[a]&&(s=!0),e.created[a]&&(s=!0),!s&&e.counts[a]>0&&(t[a]=!0)}return t}var l=e(169),u=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",replaceDelimitedText:"replace"},d={getExclusiveSummary:i,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:r};t.exports=d},{169:169}],62:[function(e,t,n){var r,o,i=e(169),a=e(35),s=e(168),l=e(116),u="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,c={key:!0,ref:!0,__self:!0,__source:!0},d=function(e,t,n,r,o,i,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i};return s._store={},l?(Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o})):(s._store.validated=!1,s._self=r,s._source=o),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};d.createElement=function(e,t,n){var i,l={},p=null,f=null,h=null,m=null;if(null!=t){f=!t.hasOwnProperty("ref")||Object.getOwnPropertyDescriptor(t,"ref").get?null:t.ref,p=!t.hasOwnProperty("key")||Object.getOwnPropertyDescriptor(t,"key").get?null:""+t.key,h=void 0===t.__self?null:t.__self,m=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!c.hasOwnProperty(i)&&(l[i]=t[i])}var v=arguments.length-2;if(1===v)l.children=n;else if(v>1){for(var g=Array(v),y=0;v>y;y++)g[y]=arguments[y+2];l.children=g}if(e&&e.defaultProps){var b=e.defaultProps;for(i in b)void 0===l[i]&&(l[i]=b[i])}return("undefined"==typeof l.$$typeof||l.$$typeof!==u)&&(l.hasOwnProperty("key")||Object.defineProperty(l,"key",{get:function(){r||(r=!0,s(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)","function"==typeof e&&"displayName"in e?e.displayName:"Element"))},configurable:!0}),l.hasOwnProperty("ref")||Object.defineProperty(l,"ref",{get:function(){o||(o=!0,s(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)","function"==typeof e&&"displayName"in e?e.displayName:"Element"))},configurable:!0})),d(e,p,f,h,m,a.current,l)},d.createFactory=function(e){var t=d.createElement.bind(null,e);return t.type=e,t},d.cloneAndReplaceKey=function(e,t){var n=d(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},d.cloneElement=function(e,t,n){var r,o=i({},e.props),s=e.key,l=e.ref,u=e._self,p=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,f=a.current),void 0!==t.key&&(s=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(r in t)t.hasOwnProperty(r)&&!c.hasOwnProperty(r)&&(void 0===t[r]&&void 0!==h?o[r]=h[r]:o[r]=t[r])}var m=arguments.length-2;if(1===m)o.children=n;else if(m>1){for(var v=Array(m),g=0;m>g;g++)v[g]=arguments[g+2];o.children=v}return d(e.type,s,l,u,p,f,o)},d.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},t.exports=d},{116:116,168:168,169:169,35:35}],63:[function(e,t,n){function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=i("uniqueKey",e,t);null!==n&&v(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',n.parentOrOwner||"",n.childOwner||"",n.url||"")}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=g[e]||(g[e]={});if(a[o])return null;a[o]=!0;var s={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];u.isValidElement(r)&&o(r,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=h(e);if(i&&i!==e.entries)for(var a,s=i.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&o(a.value,t)}}function s(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",d[o],i):void 0,a=t[i](n,i,e,o)}catch(s){a=s}if(v(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",d[o],i,typeof a),a instanceof Error&&!(a.message in y)){y[a.message]=!0;var l=r();v(!1,"Failed propType: %s%s",a.message,l)}}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps&&v(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var u=e(62),c=e(84),d=e(83),p=e(35),f=e(116),h=e(127),m=e(158),v=e(168),g={},y={},b={createElement:function(e,t,n){var o="string"==typeof e||"function"==typeof e;v(o,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",r());var i=u.createElement.apply(this,arguments);if(null==i)return i;if(o)for(var s=2;s<arguments.length;s++)a(arguments[s],e);return l(i),i},createFactory:function(e){var t=b.createElement.bind(null,e);return t.type=e,f&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return v(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,n){for(var r=u.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return l(r),r}};t.exports=b},{116:116,127:127,158:158,168:168,35:35,62:62,83:83,84:84}],64:[function(e,t,n){var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],65:[function(e,t,n){function r(e,t,n,r){try{return t(n,r)}catch(i){return void(null===o&&(o=i))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var a=document.createElement("react");i.invokeGuardedCallback=function(e,t,n,r){var o=t.bind(null,n,r),i="react-"+e;a.addEventListener(i,o,!1);var s=document.createEvent("Event");s.initEvent(i,!1,!1),a.dispatchEvent(s),a.removeEventListener(i,o,!1)}}t.exports=i},{}],66:[function(e,t,n){function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(17),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};t.exports=i},{17:17}],67:[function(e,t,n){function r(e){for(;e._nativeParent;)e=e._nativeParent;var t=d.getNodeFromInstance(e),n=t.parentNode;return d.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=d.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var s=e(169),l=e(143),u=e(144),c=e(25),d=e(40),p=e(94),f=e(126),h=e(155);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?l.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?l.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{p.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{126:126,143:143,144:144,155:155,169:169,25:25,40:40,94:94}],68:[function(e,t,n){var r={logTopLevelRenders:!1};t.exports=r},{}],69:[function(e,t,n){var r=e(10),o=e(17),i=e(19),a=e(33),s=e(30),l=e(64),u=e(27),c=e(78),d=e(82),p=e(94),f={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:l.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:d.injection,Updates:p.injection};t.exports=f},{10:10,17:17,19:19,27:27,30:30,33:33,64:64,78:78,82:82,94:94}],70:[function(e,t,n){function r(e){return i(document.documentElement,e)}var o=e(51),i=e(147),a=e(152),s=e(153),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=l},{147:147,152:152,153:153,51:51}],71:[function(e,t,n){var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],72:[function(e,t,n){var r=e(57);t.exports={debugTool:r}},{57:57}],73:[function(e,t,n){var r=e(168),o=!1,i=function(){r(!o,"setState(...): Cannot call setState() inside getChildContext()")},a={onBeginProcessingChildContext:function(){o=!0},onEndProcessingChildContext:function(){o=!1},onSetState:function(){i()}};t.exports=a},{168:168}],74:[function(e,t,n){var r=e(115),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{115:115}],75:[function(e,t,n){function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===L?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(M)||""}function a(e,t,n,r,o){var i;if(w.logTopLevelRenders){var a=e._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var l=E.mountComponent(e,n,null,g(e,t),o);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,$._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&y.useCreateElement);o.perform(a,null,e,t,o,n,r),k.ReactReconcileTransaction.release(o)}function l(e,t,n){for(E.unmountComponent(e,n),t.nodeType===L&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=o(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function c(e){var t=o(e),n=t&&v.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function d(e){var t=c(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var p=e(8),f=e(10),h=e(27),m=e(35),v=e(40),g=e(41),y=e(45),b=e(62),w=e(68),C=e(72),_=e(74),x=e(82),E=e(87),T=e(93),k=e(94),P=e(151),S=e(132),O=e(158),I=e(138),N=e(140),A=e(168),M=f.ID_ATTRIBUTE_NAME,D=f.ROOT_ATTRIBUTE_NAME,j=1,L=9,R=11,F={},B=1,U=function(){this.rootID=B++};U.prototype.isReactComponent={},U.displayName="TopLevelWrapper",U.prototype.render=function(){return this.props};var $={TopLevelWrapper:U,_instancesByReactRootID:F,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return $.scrollMonitor(n,function(){T.enqueueElementInternal(e,t),r&&T.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,r){A(null==m.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",m.current&&m.current.getName()||"ReactCompositeComponent"),!t||t.nodeType!==j&&t.nodeType!==L&&t.nodeType!==R?O(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,h.ensureScrollValueMonitoring();var o=S(e);k.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return F[i]=o,C.debugTool.onMountRootComponent(o),o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?O(!1,"parentComponent must be a valid React Component"):void 0,$._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),b.isValidElement(t)?void 0:O(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),A(!n||!n.tagName||"BODY"!==n.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var a=b(U,null,null,null,null,null,t),s=d(n);if(s){var l=s._currentElement,c=l.props;if(N(c,t)){var p=s._renderedComponent.getPublicInstance(),f=r&&function(){r.call(p)};return $._updateRootComponent(s,a,n,f),p}$.unmountComponentAtNode(n)}var h=o(n),m=h&&!!i(h),v=u(n);if(A(!v,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!m||h.nextSibling)for(var g=h;g;){if(i(g)){A(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}g=g.nextSibling}var y=m&&!s&&!v,w=$._renderNewRootComponent(a,n,y,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):P)._renderedComponent.getPublicInstance();return r&&r.call(w),w},render:function(e,t,n){return $._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){A(null==m.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",m.current&&m.current.getName()||"ReactCompositeComponent"),
!e||e.nodeType!==j&&e.nodeType!==L&&e.nodeType!==R?O(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var t=d(e);if(!t){var n=u(e),r=1===e.nodeType&&e.hasAttribute(D);return A(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",r?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return delete F[t._instance.rootID],k.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,i,a){if(!t||t.nodeType!==j&&t.nodeType!==L&&t.nodeType!==R?O(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,i){var s=o(t);if(_.canReuseMarkup(e,s))return void v.precacheNode(n,s);var l=s.getAttribute(_.CHECKSUM_ATTR_NAME);s.removeAttribute(_.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(_.CHECKSUM_ATTR_NAME,l);var c,d=e;t.nodeType===j?(c=document.createElement("div"),c.innerHTML=e,d=c.innerHTML):(c=document.createElement("iframe"),document.body.appendChild(c),c.contentDocument.write(e),d=c.contentDocument.documentElement.outerHTML,document.body.removeChild(c));var f=r(d,u),h=" (client) "+d.substring(f-20,f+20)+"\n (server) "+u.substring(f-20,f+20);t.nodeType===L?O(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",h):void 0,A(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",h)}if(t.nodeType===L?O(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);p.insertTreeBefore(t,e,null)}else I(t,e),v.precacheNode(n,t.firstChild)}};x.measureMethods($,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=$},{10:10,132:132,138:138,140:140,151:151,158:158,168:168,27:27,35:35,40:40,41:41,45:45,62:62,68:68,72:72,74:74,8:8,82:82,87:87,93:93,94:94}],76:[function(e,t,n){function r(e,t,n){return{type:d.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:d.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:f.getNativeNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:d.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:d.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:d.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){c.processChildrenUpdates(e,t)}var c=e(33),d=e(77),p=e(35),f=e(87),h=e(28),m=e(121),v=e(158),g={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){if(this._currentElement)try{return p.current=this._currentElement._owner,h.instantiateChildren(e,t,n)}finally{p.current=null}return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o){var i;if(this._currentElement){try{p.current=this._currentElement._owner,i=m(t)}finally{p.current=null}return h.updateChildren(e,i,n,r,o),i}return i=m(t),h.updateChildren(e,i,n,r,o),i},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=f.mountComponent(s,t,this,this._nativeContainerInfo,n);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&v(!1,"updateTextContent called on non-empty component.");var r=[s(e)];u(this,r)},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&v(!1,"updateTextContent called on non-empty component.");var r=[a(e)];u(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=this._reconcilerUpdateChildren(r,e,o,t,n);if(i||r){var a,s=null,c=0,d=0,p=null;for(a in i)if(i.hasOwnProperty(a)){var h=r&&r[a],m=i[a];h===m?(s=l(s,this.moveChild(h,p,d,c)),c=Math.max(h._mountIndex,c),h._mountIndex=d):(h&&(c=Math.max(h._mountIndex,c)),s=l(s,this._mountChildAtIndex(m,p,d,t,n))),d++,p=f.getNativeNode(m)}for(a in o)o.hasOwnProperty(a)&&(s=l(s,this._unmountChild(r[a],o[a])));s&&u(this,s),this._renderedChildren=i}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?o(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o){var i=f.mountComponent(e,r,this,this._nativeContainerInfo,o);return e._mountIndex=n,this.createChild(e,t,i)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};t.exports=g},{121:121,158:158,28:28,33:33,35:35,77:77,87:87}],77:[function(e,t,n){var r=e(161),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{161:161}],78:[function(e,t,n){function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=d[t];return null==n&&(d[t]=n=u(t)),n}function o(e){return c?void 0:l(!1,"There is no registered component for the tag %s",e.type),new c(e)}function i(e){return new p(e)}function a(e){return e instanceof p}var s=e(169),l=e(158),u=null,c=null,d={},p=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(d,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:f};t.exports=h},{158:158,169:169}],79:[function(e,t,n){var r=e(62),o=e(158),i={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:r.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.NATIVE:void o(!1,"Unexpected node: %s",e)}};t.exports=i},{158:158,62:62}],80:[function(e,t,n){function r(e,t){o(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var o=e(168),i={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}};t.exports=i},{168:168}],81:[function(e,t,n){var r=e(158),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner).");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{158:158}],82:[function(e,t,n){function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=o.measure(t,n[r],e[r]))},measure:function(e,t,n){var r=null,i=function(){return o.enableMeasure?(r||(r=o.storedMeasure(e,t,n)),r.apply(this,arguments)):n.apply(this,arguments)};return i.displayName=e+"_"+t,i},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],83:[function(e,t,n){var r={};r={prop:"prop",context:"context",childContext:"child context"},t.exports=r},{}],84:[function(e,t,n){var r=e(161),o=r({prop:null,context:null,childContext:null});t.exports=o},{161:161}],85:[function(e,t,n){function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,i,a){if(o=o||x,a=a||r,null==n[r]){var s=w[i];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,o,i){var a=t[n],s=v(a);if(s!==e){var l=w[o],u=g(a);return new Error("Invalid "+l+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function a(){return o(C.thatReturns(null))}function s(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var s=w[o],l=v(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=e(a,u,r,o,i+"["+u+"]");if(c instanceof Error)return c}return null}return o(t)}function l(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=w[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function u(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=w[o],s=e.name||x,l=y(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return o(t)}function c(e){function t(t,n,o,i,a){for(var s=t[n],l=0;l<e.length;l++)if(r(s,e[l]))return null;var u=w[i],c=JSON.stringify(e);return new Error("Invalid "+u+" `"+a+"` of value `"+s+"` "+("supplied to `"+o+"`, expected one of "+c+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function d(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=v(a);if("object"!==s){var l=w[o];return new Error("Invalid "+l+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,r,o,i+"."+u);if(c instanceof Error)return c}return null}return o(t)}function p(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var l=w[o];return new Error("Invalid "+l+" `"+i+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!m(e[t])){var i=w[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,i){var a=t[n],s=v(a);if("object"!==s){var l=w[o];return new Error("Invalid "+l+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var d=c(a,u,r,o,i+"."+u);if(d)return d}}return null}return o(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var b=e(62),w=e(83),C=e(150),_=e(127),x="<<anonymous>>",E={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:a(),arrayOf:s,element:l(),instanceOf:u,node:f(),objectOf:d,oneOf:c,oneOfType:p,shape:h};t.exports=E},{127:127,150:150,62:62,83:83}],86:[function(e,t,n){function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(169),i=e(5),a=e(25),s=e(27),l=e(70),u=e(112),c={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[c,d,p],h={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,u.Mixin,h),a.addPoolingTo(r),t.exports=r},{112:112,169:169,25:25,27:27,5:5,70:70}],87:[function(e,t,n){function r(){o.attachRefs(this,this._currentElement)}var o=e(88),i=e(72),a={mountComponent:function(e,t,n,o,a){var s=e.mountComponent(t,n,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),i.debugTool.onMountComponent(e),s},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t),i.debugTool.onUnmountComponent(e)},receiveComponent:function(e,t,n,a){var s=e._currentElement;if(t!==s||a!==e._context){var l=o.shouldUpdateRefs(s,t);l&&o.detachRefs(e,s),e.receiveComponent(t,n,a),l&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),i.debugTool.onUpdateComponent(e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t),i.debugTool.onUpdateComponent(e)}};t.exports=a},{72:72,88:88}],88:[function(e,t,n){function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(81),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{81:81}],89:[function(e,t,n){var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],90:[function(e,t,n){function r(e,t){var n;try{return p.injection.injectBatchingStrategy(c),n=d.getPooled(t),n.perform(function(){var r=h(e),o=r.mountComponent(n,null,a(),f);return t||(o=u.addChecksumToMarkup(o)),o},null)}finally{d.release(n),p.injection.injectBatchingStrategy(s)}}function o(e){return l.isValidElement(e)?void 0:m(!1,"renderToString(): You must pass a valid ReactElement."),r(e,!1)}function i(e){return l.isValidElement(e)?void 0:m(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."),r(e,!0)}var a=e(41),s=e(58),l=e(62),u=e(74),c=e(89),d=e(91),p=e(94),f=e(151),h=e(132),m=e(158);t.exports={renderToString:o,renderToStaticMarkup:i}},{132:132,151:151,158:158,41:41,58:58,62:62,74:74,89:89,91:91,94:94}],91:[function(e,t,n){function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1}var o=e(169),i=e(25),a=e(112),s=[],l={enqueue:function(){}},u={getTransactionWrappers:function(){return s},getReactMountReady:function(){return l},destructor:function(){}};o(r.prototype,a.Mixin,u),i.addPoolingTo(r),t.exports=r},{112:112,169:169,25:25}],92:[function(e,t,n){var r=e(169),o=e(36),i=e(52),a=e(26),s=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i},a);t.exports=s},{169:169,26:26,36:36,52:52}],93:[function(e,t,n){function r(e){l.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n?(c(null==a.current,"%s(...): Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.",t),n):(c(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var a=e(35),s=e(71),l=e(94),u=e(158),c=e(168),d={isMounted:function(e){var t=a.current;null!==t&&(c(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var n=s.get(e);return n?!!n._renderedComponent:!1},enqueueCallback:function(e,t,n){d.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?u(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,o(e)):void 0}};t.exports=d},{158:158,168:168,35:35,71:71,94:94}],94:[function(e,t,n){function r(){P.ReactReconcileTransaction&&C?void 0:g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=P.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),C.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==y.length?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,y.length):void 0,y.sort(a);for(var n=0;t>n;n++){var r=y[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(f.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction),i&&console.timeEnd(i),o)for(var l=0;l<o.length;l++)e.callbackQueue.enqueue(o[l],r.getPublicInstance())}}function l(e){return r(),C.isBatchingUpdates?void y.push(e):void C.batchedUpdates(l,e)}function u(e,t){C.isBatchingUpdates?void 0:g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),b.enqueue(e,t),w=!0}var c=e(169),d=e(5),p=e(25),f=e(68),h=e(82),m=e(87),v=e(112),g=e(158),y=[],b=d.getPooled(),w=!1,C=null,_={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),T()):y.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[_,x];c(o.prototype,v.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,P.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var T=function(){for(;y.length||w;){if(y.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(w){w=!1;var t=b;b=d.getPooled(),t.notifyAll(),d.release(t)}}};T=h.measure("ReactUpdates","flushBatchedUpdates",T);var k={injectReconcileTransaction:function(e){e?void 0:g(!1,"ReactUpdates: must provide a reconcile transaction class"),P.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,C=e}},P={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:T,injection:k,asap:u};t.exports=P},{112:112,158:158,169:169,25:25,5:5,68:68,82:82,87:87}],95:[function(e,t,n){t.exports="15.0.2"},{}],96:[function(e,t,n){var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],97:[function(e,t,n){function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(C||null==y||y!==d())return null;var n=r(y);if(!w||!h(w,n)){w=n;var o=c.getPooled(g.select,b,e,t);return o.type="select",o.target=y,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e(16),a=e(20),s=e(144),l=e(40),u=e(70),c=e(103),d=e(153),p=e(134),f=e(162),h=e(167),m=i.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,b=null,w=null,C=!1,_=!1,x=f({onSelect:null}),E={eventTypes:g,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?l.getNodeFromInstance(t):window;switch(e){case m.topFocus:(p(i)||"true"===i.contentEditable)&&(y=i,b=t,w=null);break;case m.topBlur:y=null,b=null,w=null;break;case m.topMouseDown:C=!0;break;case m.topContextMenu:case m.topMouseUp:return C=!1,o(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===x&&(_=!0)}};t.exports=E},{103:103,134:134,144:144,153:153,16:16,162:162,167:167,20:20,40:40,70:70}],98:[function(e,t,n){var r=e(16),o=e(143),i=e(20),a=e(40),s=e(99),l=e(100),u=e(103),c=e(104),d=e(106),p=e(107),f=e(102),h=e(108),m=e(109),v=e(110),g=e(111),y=e(150),b=e(123),w=e(158),C=e(162),_=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:C({onAbort:!0}),captured:C({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:C({onAnimationEnd:!0}),captured:C({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:C({onAnimationIteration:!0}),captured:C({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:C({onAnimationStart:!0}),captured:C({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:C({onBlur:!0}),captured:C({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:C({onCanPlay:!0}),captured:C({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:C({onCanPlayThrough:!0}),captured:C({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:C({onClick:!0}),captured:C({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:C({onContextMenu:!0}),captured:C({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:C({onCopy:!0}),captured:C({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:C({onCut:!0}),captured:C({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:C({onDoubleClick:!0}),captured:C({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:C({onDrag:!0}),captured:C({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:C({onDragEnd:!0}),captured:C({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:C({onDragEnter:!0}),captured:C({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:C({onDragExit:!0}),captured:C({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:C({onDragLeave:!0}),captured:C({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:C({onDragOver:!0}),captured:C({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:C({onDragStart:!0}),captured:C({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:C({onDrop:!0}),captured:C({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:C({onDurationChange:!0}),captured:C({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:C({onEmptied:!0}),captured:C({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:C({onEncrypted:!0}),captured:C({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:C({onEnded:!0}),captured:C({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:C({onError:!0}),captured:C({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:C({onFocus:!0}),captured:C({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:C({onInput:!0
}),captured:C({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:C({onInvalid:!0}),captured:C({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:C({onKeyDown:!0}),captured:C({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:C({onKeyPress:!0}),captured:C({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:C({onKeyUp:!0}),captured:C({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:C({onLoad:!0}),captured:C({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:C({onLoadedData:!0}),captured:C({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:C({onLoadedMetadata:!0}),captured:C({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:C({onLoadStart:!0}),captured:C({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:C({onMouseDown:!0}),captured:C({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:C({onMouseMove:!0}),captured:C({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:C({onMouseOut:!0}),captured:C({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:C({onMouseOver:!0}),captured:C({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:C({onMouseUp:!0}),captured:C({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:C({onPaste:!0}),captured:C({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:C({onPause:!0}),captured:C({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:C({onPlay:!0}),captured:C({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:C({onPlaying:!0}),captured:C({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:C({onProgress:!0}),captured:C({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:C({onRateChange:!0}),captured:C({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:C({onReset:!0}),captured:C({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:C({onScroll:!0}),captured:C({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:C({onSeeked:!0}),captured:C({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:C({onSeeking:!0}),captured:C({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:C({onStalled:!0}),captured:C({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:C({onSubmit:!0}),captured:C({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:C({onSuspend:!0}),captured:C({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:C({onTimeUpdate:!0}),captured:C({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:C({onTouchCancel:!0}),captured:C({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:C({onTouchEnd:!0}),captured:C({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:C({onTouchMove:!0}),captured:C({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:C({onTouchStart:!0}),captured:C({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:C({onTransitionEnd:!0}),captured:C({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:C({onVolumeChange:!0}),captured:C({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:C({onWaiting:!0}),captured:C({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:C({onWheel:!0}),captured:C({onWheelCapture:!0})}}},E={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var T in E)E[T].dependencies=[T];var k=C({onClick:null}),P={},S={eventTypes:x,extractEvents:function(e,t,n,r){var o=E[e];if(!o)return null;var a;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topInvalid:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:a=u;break;case _.topKeyPress:if(0===b(n))return null;case _.topKeyDown:case _.topKeyUp:a=d;break;case _.topBlur:case _.topFocus:a=c;break;case _.topClick:if(2===n.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:a=p;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:a=f;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:a=h;break;case _.topAnimationEnd:case _.topAnimationIteration:case _.topAnimationStart:a=s;break;case _.topTransitionEnd:a=m;break;case _.topScroll:a=v;break;case _.topWheel:a=g;break;case _.topCopy:case _.topCut:case _.topPaste:a=l}a?void 0:w(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var y=a.getPooled(o,t,n,r);return i.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,n){if(t===k){var r=e._rootNodeID,i=a.getNodeFromInstance(e);P[r]||(P[r]=o.listen(i,"click",y))}},willDeleteListener:function(e,t){if(t===k){var n=e._rootNodeID;P[n].remove(),delete P[n]}}};t.exports=S},{100:100,102:102,103:103,104:104,106:106,107:107,108:108,109:109,110:110,111:111,123:123,143:143,150:150,158:158,16:16,162:162,20:20,40:40,99:99}],99:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{103:103}],100:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{103:103}],101:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i={data:null};o.augmentClass(r,i),t.exports=r},{103:103}],102:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(107),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{107:107}],103:[function(e,t,n){function r(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function o(e,t){function n(e){var t=i?"setting the method":"setting the property";return o(t,"This is effectively a no-op"),e}function r(){var e=i?"accessing the method":"accessing the property",n=i?"This is a no-op function":"This is set to null";return o(e,n),t}function o(t,n){var r=!1;l(r,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}var i="function"==typeof t;return{configurable:!0,set:n,get:r}}var i=e(169),a=e(25),s=e(150),l=e(168),u=!1,c="function"==typeof Proxy,d=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],p={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var n in t)Object.defineProperty(this,n,o(n,t[n]));for(var r=0;r<d.length;r++)this[d[r]]=null;var i=e(150);Object.defineProperty(this,"nativeEvent",o("nativeEvent",null)),Object.defineProperty(this,"preventDefault",o("preventDefault",i)),Object.defineProperty(this,"stopPropagation",o("stopPropagation",i))}}),r.Interface=p,c&&(r=new Proxy(r,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return"isPersistent"===t||e.constructor.Interface.hasOwnProperty(t)||-1!==d.indexOf(t)||(l(u||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),u=!0),e[t]=n,!0}})}})),r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var o=new r;i(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,a.addPoolingTo(e,a.fourArgumentPooler)},a.addPoolingTo(r,a.fourArgumentPooler),t.exports=r},{150:150,168:168,169:169,25:25}],104:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(110),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{110:110}],105:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i={data:null};o.augmentClass(r,i),t.exports=r},{103:103}],106:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(110),i=e(123),a=e(124),s=e(125),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,l),t.exports=r},{110:110,123:123,124:124,125:125}],107:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(110),i=e(113),a=e(125),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{110:110,113:113,125:125}],108:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(110),i=e(125),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{110:110,125:125}],109:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{103:103}],110:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(103),i=e(126),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{103:103,126:126}],111:[function(e,t,n){function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(107),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{107:107}],112:[function(e,t,n){var r=e(158),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,l){this.isInTransaction()?r(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},{158:158}],113:[function(e,t,n){var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],114:[function(e,t,n){function r(e,t){if(null==t?o(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e(158);t.exports=r},{158:158}],115:[function(e,t,n){function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;a>r;){for(var s=Math.min(r+4096,a);s>r;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;i>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],116:[function(e,t,n){var r=!1;try{Object.defineProperty({},"x",{get:function(){}}),r=!0}catch(o){}t.exports=r},{}],117:[function(e,t,n){var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],118:[function(e,t,n){function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);if(o||0===t||a.hasOwnProperty(e)&&a[e])return""+t;if("string"==typeof t){if(n){var l=n._currentElement._owner,u=l?l.getName():null;u&&!s[u]&&(s[u]={});var c=!1;if(u){var d=s[u];c=d[e],c||(d[e]=!0)}c||i(!1,"a `%s` tag (owner: `%s`) was passed a numeric string value for CSS property `%s` (value: `%s`) which will be treated as a unitless number in a future version of React.",n._currentElement.type,u||"unknown",e,t)}t=t.trim()}return t+"px"}var o=e(3),i=e(168),a=o.isUnitlessNumber,s={};t.exports=r},{168:168,3:3}],119:[function(e,t,n){function r(e){return i[e]}function o(e){return(""+e).replace(a,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.exports=o},{}],120:[function(e,t,n){function r(e){var t=o.current;if(null!==t&&(u(t._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e)return null;if(1===e.nodeType)return e;var n=a.get(e);return n?(n=s(n),n?i.getNodeFromInstance(n):null):void("function"==typeof e.render?l(!1,"findDOMNode was called on an unmounted component."):l(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}var o=e(35),i=e(40),a=e(71),s=e(128),l=e(158),u=e(168);t.exports=r},{128:128,158:158,168:168,35:35,40:40,71:71}],121:[function(e,t,n){function r(e,t,n){var r=e,o=void 0===r[n];s(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i.unescape(n)),o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return a(e,r,t),t}var i=e(23),a=e(141),s=e(168);t.exports=o},{141:141,168:168,23:23}],122:[function(e,t,n){var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],123:[function(e,t,n){function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],124:[function(e,t,n){function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(123),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{123:123}],125:[function(e,t,n){function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],126:[function(e,t,n){function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],127:[function(e,t,n){function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],128:[function(e,t,n){function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.NATIVE?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(79);t.exports=r},{79:79}],129:[function(e,t,n){function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,t>=i&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],130:[function(e,t,n){function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(144),i=null;t.exports=r},{144:144}],131:[function(e,t,n){function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var i=e(144),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};i.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{144:144}],132:[function(e,t,n){function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=l.create(i);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?c(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==n.type?n.type:typeof n.type,r(n._owner)):void 0,t="string"==typeof n.type?u.createInternalComponent(n):o(n.type)?new n.type(n):new p(n)}else"string"==typeof e||"number"==typeof e?t=u.createInstanceForText(e):c(!1,"Encountered invalid React node of type %s",typeof e);return d("function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.getNativeNode&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var a=e(169),s=e(34),l=e(64),u=e(78),c=e(158),d=e(168),p=function(e){this.construct(e)};a(p.prototype,s.Mixin,{_instantiateReactComponent:i}),t.exports=i},{158:158,168:168,169:169,34:34,64:64,78:78}],133:[function(e,t,n){function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(144);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{144:144}],134:[function(e,t,n){function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],135:[function(e,t,n){function r(e){return o.isValidElement(e)?void 0:i(!1,"onlyChild must be passed a children with exactly one child."),e}var o=e(62),i=e(158);t.exports=r},{158:158,62:62}],136:[function(e,t,n){function r(e){return'"'+o(e)+'"'}var o=e(119);t.exports=r},{119:119}],137:[function(e,t,n){var r=e(75);t.exports=r.renderSubtreeIntoContainer},{75:75}],138:[function(e,t,n){var r=e(144),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=e(117),s=a(function(e,t){e.innerHTML=t});if(r.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),l=null}t.exports=s},{117:117,144:144}],139:[function(e,t,n){var r=e(144),o=e(119),i=e(138),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),t.exports=a},{119:119,138:138,144:144}],140:[function(e,t,n){function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],141:[function(e,t,n){function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var m=typeof e;if(("undefined"===m||"boolean"===m)&&(e=null),null===e||"string"===m||"number"===m||s.isValidElement(e))return n(i,e,""===t?p+r(e,0):t),1;var v,g,y=0,b=""===t?p:t+f;if(Array.isArray(e))for(var w=0;w<e.length;w++)v=e[w],g=b+r(v,w),y+=o(v,g,n,i);else{var C=l(e);if(C){var _,x=C.call(e);if(C!==e.entries)for(var E=0;!(_=x.next()).done;)v=_.value,g=b+r(v,E++),y+=o(v,g,n,i);else for(d(h,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),h=!0;!(_=x.next()).done;){var T=_.value;T&&(v=T[1],g=b+c.escape(T[0])+f+r(v,0),y+=o(v,g,n,i))}}else if("object"===m){var k="";if(k=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(k=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),a.current){var P=a.current.getName();P&&(k+=" Check the render method of `"+P+"`.")}var S=String(e);u(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,k)}}return y}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(35),s=e(62),l=e(127),u=e(158),c=e(23),d=e(168),p=".",f=":",h=!1;t.exports=i},{127:127,158:158,168:168,23:23,35:35,62:62}],142:[function(e,t,n){var r=e(169),o=e(150),i=e(168),a=o,s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],d={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(e,t,n){var o=r({},e||d),i={tag:t,instance:n};return-1!==l.indexOf(t)&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),-1!==u.indexOf(t)&&(o.pTagInButtonScope=null),-1!==s.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.current=i,"form"===t&&(o.formTag=i),"a"===t&&(o.aTagInScope=i),"button"===t&&(o.buttonTagInScope=i),"nobr"===t&&(o.nobrTagInScope=i),"p"===t&&(o.pTagInButtonScope=i),"li"===t&&(o.listItemTagAutoclosing=i),("dd"===t||"dt"===t)&&(o.dlItemTagAutoclosing=i),o},f=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===c.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},h=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},m=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},v={};a=function(e,t,n){n=n||d;var r=n.current,o=r&&r.tag,a=f(e,o)?null:r,s=a?null:h(e,n),l=a||s;if(l){var u,c=l.tag,p=l.instance,g=t&&t._currentElement._owner,y=p&&p._currentElement._owner,b=m(g),w=m(y),C=Math.min(b.length,w.length),_=-1;for(u=0;C>u&&b[u]===w[u];u++)_=u;var x="(unknown)",E=b.slice(_+1).map(function(e){return e.getName()||x}),T=w.slice(_+1).map(function(e){return e.getName()||x}),k=[].concat(-1!==_?b[_].getName()||x:[],T,c,s?["..."]:[],E,e).join(" > "),P=!!a+"|"+e+"|"+c+"|"+k;if(v[P])return;v[P]=!0;var S=e;if("#text"!==e&&(S="<"+e+">"),a){var O="";"table"===c&&"tr"===e&&(O+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),i(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>. See %s.%s",S,c,k,O)}else i(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>. See %s.",S,c,k)}},a.updatedAncestorInfo=p,a.isTagValidInContext=function(e,t){t=t||d;var n=t.current,r=n&&n.tag;return f(e,r)&&!h(e,t)},t.exports=a},{150:150,168:168,169:169}],143:[function(e,t,n){var r=e(150),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};t.exports=o},{150:150}],144:[function(e,t,n){var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],145:[function(e,t,n){function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],146:[function(e,t,n){
function r(e){return o(e.replace(i,"ms-"))}var o=e(145),i=/^-ms-/;t.exports=r},{145:145}],147:[function(e,t,n){function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=e(160);t.exports=r},{160:160}],148:[function(e,t,n){function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof t?a(!1,"toArray: Object needs a length property"):void 0,0===t||t-1 in e?void 0:a(!1,"toArray: Object should have keys for indices"),"function"==typeof e.callee?a(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(158);t.exports=i},{158:158}],149:[function(e,t,n){function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=u;u?void 0:l(!1,"createNodesFromMarkup dummy not initialized");var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(t?void 0:l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),a(d).forEach(t));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var i=e(144),a=e(148),s=e(154),l=e(158),u=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{144:144,148:148,154:154,158:158}],150:[function(e,t,n){function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],151:[function(e,t,n){var r={};Object.freeze(r),t.exports=r},{}],152:[function(e,t,n){function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],153:[function(e,t,n){function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],154:[function(e,t,n){function r(e){return a?void 0:i(!1,"Markup wrapping node not initialized"),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var o=e(144),i=e(158),a=o.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){p[e]=d,s[e]=!0}),t.exports=r},{144:144,158:158}],155:[function(e,t,n){function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],156:[function(e,t,n){function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],157:[function(e,t,n){function r(e){return o(e).replace(i,"-ms-")}var o=e(156),i=/^ms-/;t.exports=r},{156:156}],158:[function(e,t,n){function r(e,t,n,r,o,i,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=r},{}],159:[function(e,t,n){function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],160:[function(e,t,n){function r(e){return o(e)&&3==e.nodeType}var o=e(159);t.exports=r},{159:159}],161:[function(e,t,n){var r=e(158),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1,"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{158:158}],162:[function(e,t,n){var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],163:[function(e,t,n){function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],164:[function(e,t,n){function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],165:[function(e,t,n){var r,o=e(144);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},{144:144}],166:[function(e,t,n){var r,o=e(165);r=o.now?function(){return o.now()}:function(){return Date.now()},t.exports=r},{165:165}],167:[function(e,t,n){function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],168:[function(e,t,n){var r=e(150),o=r;o=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}},t.exports=o},{150:150}],169:[function(e,t,n){function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var n,a,s=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)o.call(n,u)&&(s[u]=n[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},{}]},{},[92])(92)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux",[],t):"object"==typeof exports?exports.Redux=t():e.Redux=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(2),i=r(o),a=n(7),s=r(a),l=n(6),u=r(l),c=n(5),d=r(c),p=n(1),f=r(p),h=n(3);r(h),t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=u["default"],t.applyMiddleware=d["default"],t.compose=f["default"]},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){if(0===t.length)return arguments.length>0?arguments[0]:void 0;var e=t[t.length-1],n=t.slice(0,-1);return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){h===f&&(h=f.slice())}function i(){return p}function l(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),h.push(e),function(){if(t){t=!1,r();var n=h.indexOf(e);h.splice(n,1)}}}function u(e){if(!(0,a["default"])(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw Error("Reducers may not dispatch actions.");try{m=!0,p=d(p,e)}finally{m=!1}for(var t=f=h,n=0;t.length>n;n++)t[n]();return e}function c(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");d=e,u({type:s.INIT})}if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var d=e,p=t,f=[],h=f,m=!1;return u({type:s.INIT}),{dispatch:u,subscribe:l,getState:i,replaceReducer:c}}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=n(4),a=r(i),s=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){function r(e){if(!i(e)||c.call(e)!=a||o(e))return!1;var t=s;if("function"==typeof e.constructor&&(t=d(e)),null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}var o=n(8),i=n(9),a="[object Object]",s=Object.prototype,l=Function.prototype.toString,u=l.call(Object),c=s.toString,d=Object.getPrototypeOf;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),l=a.dispatch,u=[],c={getState:a.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s["default"].apply(void 0,u)(a.dispatch),i({},a,{dispatch:l})}}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=o;var a=n(1),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;r.length>i;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+r+". To ignore an action, you must explicitly return the previous state."}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,l=Object.keys(n);try{i(n)}catch(u){s=u}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;l.length>a;a++){var u=l[a],c=n[u],d=e[u],p=c(d,t);if(void 0===p){var f=o(u,t);throw Error(f)}i[u]=p,r=r||p!==d}return r?i:e}}t.__esModule=!0,t["default"]=a;var s=n(2),l=n(4),u=(r(l),n(3));r(u)},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n}])}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("redux")):"function"==typeof define&&define.amd?define("react-redux",["react","redux"],t):"object"==typeof exports?exports.ReactRedux=t(require("react"),require("redux")):e.ReactRedux=t(e.React,e.Redux)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(3),i=r(o),a=n(4),s=r(a);t.Provider=i["default"],t.connect=s["default"]},function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){d||(d=!0,"undefined"!=typeof console&&"function"==typeof console.error&&console.error("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/rackt/react-redux/releases/tag/v2.0.0 for the migration instructions."))}t.__esModule=!0,t["default"]=void 0;var l=n(1),u=n(2),c=r(u),d=!1,p=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return l.Children.only(e)},t}(l.Component);t["default"]=p,p.prototype.componentWillReceiveProps=function(e){var t=this.store,n=e.store;t!==n&&s()},p.propTypes={store:c["default"].isRequired,children:l.PropTypes.element.isRequired},p.childContextTypes={store:c["default"].isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function l(e,t){return(0,x["default"])((0,b["default"])(e),"`%sToProps` must return an object. Instead received %s.",t?"mapDispatch":"mapState",e),e}function u(e,t,n){function r(e,t,n){var r=y(e,t,n);return(0,x["default"])((0,b["default"])(r),"`mergeProps` must return an object. Instead received %s.",r),r}var u=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],p=Boolean(e),h=e||E,v=(0,b["default"])(t)?(0,g["default"])(t):t||T,y=n||k,w=y!==k,_=u.pure,S=void 0===_?!0:_,O=u.withRef,I=void 0===O?!1:O,N=P++;return function(e){var t=function(t){function n(e,r){o(this,n);var a=i(this,t.call(this,e,r));a.version=N,a.store=e.store||r.store,(0,x["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+a.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+a.constructor.displayName+'".'));var s=a.store.getState();return a.state={storeState:s},a.clearCache(),a}return a(n,t),n.prototype.shouldComponentUpdate=function(){return!S||this.haveOwnPropsChanged||this.hasStoreStateChanged},n.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return l(r)},n.prototype.configureFinalMapState=function(e,t){var n=h(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):l(n)},n.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return l(r,!0)},n.prototype.configureFinalMapDispatch=function(e,t){var n=v(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:v,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):l(n,!0)},n.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,m["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},n.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,m["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},n.prototype.updateMergedPropsIfNeeded=function(){var e=r(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&w&&(0,m["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},n.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},n.prototype.trySubscribe=function(){p&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},n.prototype.componentDidMount=function(){this.trySubscribe()},n.prototype.componentWillReceiveProps=function(e){S&&(0,m["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},n.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},n.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},n.prototype.handleChange=function(){if(this.unsubscribe){var e=this.state.storeState,t=this.store.getState();S&&e===t||(this.hasStoreStateChanged=!0,this.setState({storeState:t}))}},n.prototype.getWrappedInstance=function(){return(0,x["default"])(I,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},n.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.renderedElement;this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1;var o=!0,i=!0;S&&r&&(o=n||t&&this.doStatePropsDependOnOwnProps,i=t&&this.doDispatchPropsDependOnOwnProps);var a=!1,s=!1;o&&(a=this.updateStatePropsIfNeeded()),i&&(s=this.updateDispatchPropsIfNeeded());var l=!0;return l=a||s||t?this.updateMergedPropsIfNeeded():!1,!l&&r?r:(I?this.renderedElement=(0,d.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,d.createElement)(e,this.mergedProps),this.renderedElement)},n}(d.Component);return t.displayName="Connect("+s(e)+")",t.WrappedComponent=e,t.contextTypes={store:f["default"]},t.propTypes={store:f["default"]},t.prototype.componentWillUpdate=function(){this.version!==N&&(this.version=N,this.trySubscribe(),this.clearCache())},(0,C["default"])(t,e)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=u;var d=n(1),p=n(2),f=r(p),h=n(5),m=r(h),v=n(6),g=r(v),y=n(11),b=r(y),w=n(7),C=r(w),_=n(8),x=r(_),E=function(e){return{}},T=function(e){return{dispatch:e}},k=function(e,t,n){return c({},n,e,t)},P=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=n(12)},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;++i)n[o[i]]||r[o[i]]||(e[o[i]]=t[o[i]]);return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){if(!i(e)||c.call(e)!=a||o(e))return!1;var t=s;if("function"==typeof e.constructor&&(t=d(e)),null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}var o=n(9),i=n(10),a="[object Object]",s=Object.prototype,l=Function.prototype.toString,u=l.call(Object),c=s.toString,d=Object.getPrototypeOf;e.exports=r},function(e,n){e.exports=t}])}),define("storymaps-react/tpl/builder/overviewPanel/actionTypes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TOGGLE_ORGANIZE="TOGGLE_ORGANIZE",e.CHANGE_SELECTED_ITEM="CHANGE_SELECTED_ITEM",e.UPDATE_ITEMS="UPDATE_ITEMS",e.UPDATE_ORDER="UPDATE_ORDER"}),define("storymaps-react/tpl/builder/overviewPanel/reducer",["module","exports","./actionTypes"],function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case i.CHANGE_SELECTED_ITEM:return Object.assign({},e,{selectedItem:t.value});case i.TOGGLE_ORGANIZE:return Object.assign({},e,{organize:!e.organize});case i.UPDATE_ITEMS:return Object.assign({},e,{items:t.value});case i.UPDATE_ORDER:return Object.assign({},e,{order:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);t["default"]=o,e.exports=t["default"]}),define("storymaps-react/tpl/builder/overviewPanel/actions",["exports","./actionTypes"],function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(){return{type:s.TOGGLE_ORGANIZE,value:null}}function o(e){return{type:s.CHANGE_SELECTED_ITEM,value:e}}function i(e){return{type:s.UPDATE_ITEMS,value:e}}function a(e){return{type:s.UPDATE_ORDER,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.toggleOrganize=r,e.changeSelectedItem=o,e.updateItems=i,e.updateOrder=a;var s=n(t)}),function(e){"use strict";"function"==typeof define&&define.amd?define("lib/Sortable/Sortable",e):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=g({},t),e[R]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var r in n)!(r in t)&&(t[r]=n[r]);K(t);for(var i in this)"_"===i.charAt(0)&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:$,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),V.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){C&&C.state!==e&&(s(C,"display",e?"none":""),!e&&C.state&&_.insertBefore(C,y),C.state=e)}function n(e,t,n){if(e){n=n||B,t=t.split(".");var r=t.shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===r&&e.parentNode===n||(""===r||e.nodeName.toUpperCase()==r)&&(!t.length||((" "+e.className+" ").match(o)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function r(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}function a(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(L," ")}}function s(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function l(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;i>o;o++)n(r[o],o);return r}return[]}function u(e,t,n,r,o,i,a){var s=B.createEvent("Event"),l=(e||t[R]).options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=o||t,s.item=r||t,s.clone=C,s.oldIndex=i,s.newIndex=a,t.dispatchEvent(s),l[u]&&l[u].call(e,s)}function c(e,t,n,r,o,i){var a,s,l=e[R],u=l.options.onMove;return a=B.createEvent("Event"),a.initEvent("move",!0,!0),a.to=t,a.from=e,a.dragged=n,a.draggedRect=r,a.related=o||t,a.relatedRect=i||t.getBoundingClientRect(),e.dispatchEvent(a),u&&(s=u.call(l,a)),s}function d(e){e.draggable=!1}function p(){W=!1}function f(e,t){var n=e.lastElementChild,r=n.getBoundingClientRect();return(t.clientY-(r.top+r.height)>5||t.clientX-(r.right+r.width)>5)&&n}function h(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function m(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function v(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,setTimeout(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function g(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var y,b,w,C,_,x,E,T,k,P,S,O,I,N,A,M,D,j={},L=/\s+/g,R="Sortable"+(new Date).getTime(),F=window,B=F.document,U=F.parseInt,$=!!("draggable"in B.createElement("div")),H=function(e){return e=B.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),W=!1,z=Math.abs,V=([].slice,[]),q=v(function(e,t,n){if(n&&t.scroll){var r,o,i,a,s=t.scrollSensitivity,l=t.scrollSpeed,u=e.clientX,c=e.clientY,d=window.innerWidth,p=window.innerHeight;if(T!==n&&(E=t.scroll,T=n,E===!0)){E=n;do if(E.offsetWidth<E.scrollWidth||E.offsetHeight<E.scrollHeight)break;while(E=E.parentNode)}E&&(r=E,o=E.getBoundingClientRect(),i=(z(o.right-u)<=s)-(z(o.left-u)<=s),a=(z(o.bottom-c)<=s)-(z(o.top-c)<=s)),i||a||(i=(s>=d-u)-(s>=u),a=(s>=p-c)-(s>=c),(i||a)&&(r=F)),(j.vx!==i||j.vy!==a||j.el!==r)&&(j.el=r,j.vx=i,j.vy=a,clearInterval(j.pid),r&&(j.pid=setInterval(function(){r===F?F.scrollTo(F.pageXOffset+i*l,F.pageYOffset+a*l):(a&&(r.scrollTop+=a*l),i&&(r.scrollLeft+=i*l))},24)))}},30),K=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,r=this.el,o=this.options,i=e.type,a=e.touches&&e.touches[0],s=(a||e).target,l=s,c=o.filter;if(!("mousedown"===i&&0!==e.button||o.disabled)&&(s=n(s,o.draggable,r))){if(O=m(s),"function"==typeof c){if(c.call(this,e,s,this))return u(t,l,"filter",s,r,O),void e.preventDefault()}else if(c&&(c=c.split(",").some(function(e){return e=n(l,e.trim(),r),e?(u(t,e,"filter",s,r,O),!0):void 0})))return void e.preventDefault();(!o.handle||n(l,o.handle,r))&&this._prepareDragStart(e,a,s)}},_prepareDragStart:function(e,t,n){var r,i=this,s=i.el,u=i.options,c=s.ownerDocument;n&&!y&&n.parentNode===s&&(A=e,_=s,y=n,b=y.parentNode,x=y.nextSibling,N=u.group,r=function(){i._disableDelayedDrag(),y.draggable=!0,a(y,i.options.chosenClass,!0),i._triggerDragStart(t)},u.ignore.split(",").forEach(function(e){l(y,e.trim(),d)}),o(c,"mouseup",i._onDrop),o(c,"touchend",i._onDrop),o(c,"touchcancel",i._onDrop),u.delay?(o(c,"mouseup",i._disableDelayedDrag),o(c,"touchend",i._disableDelayedDrag),o(c,"touchcancel",i._disableDelayedDrag),o(c,"mousemove",i._disableDelayedDrag),o(c,"touchmove",i._disableDelayedDrag),i._dragStartTimer=setTimeout(r,u.delay)):r())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(e,"mouseup",this._disableDelayedDrag),i(e,"touchend",this._disableDelayedDrag),i(e,"touchcancel",this._disableDelayedDrag),i(e,"mousemove",this._disableDelayedDrag),i(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(A={target:y,clientX:e.clientX,clientY:e.clientY},this._onDragStart(A,"touch")):this.nativeDraggable?(o(y,"dragend",this),o(_,"dragstart",this._onDragStart)):this._onDragStart(A,!0);try{B.selection?B.selection.empty():window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){
_&&y&&(a(y,this.options.ghostClass,!0),e.active=this,u(this,_,"start",y,_,O))},_emulateDragOver:function(){if(M){if(this._lastX===M.clientX&&this._lastY===M.clientY)return;this._lastX=M.clientX,this._lastY=M.clientY,H||s(w,"display","none");var e=B.elementFromPoint(M.clientX,M.clientY),t=e,n=" "+this.options.group.name,r=V.length;if(t)do{if(t[R]&&t[R].options.groups.indexOf(n)>-1){for(;r--;)V[r]({clientX:M.clientX,clientY:M.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);H||s(w,"display","")}},_onTouchMove:function(t){if(A){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,r=n.clientX-A.clientX,o=n.clientY-A.clientY,i=t.touches?"translate3d("+r+"px,"+o+"px,0)":"translate("+r+"px,"+o+"px)";D=!0,M=n,s(w,"webkitTransform",i),s(w,"mozTransform",i),s(w,"msTransform",i),s(w,"transform",i),t.preventDefault()}},_appendGhost:function(){if(!w){var e,t=y.getBoundingClientRect(),n=s(y),r=this.options;w=y.cloneNode(!0),a(w,r.ghostClass,!1),a(w,r.fallbackClass,!0),s(w,"top",t.top-U(n.marginTop,10)),s(w,"left",t.left-U(n.marginLeft,10)),s(w,"width",t.width),s(w,"height",t.height),s(w,"opacity","0.8"),s(w,"position","fixed"),s(w,"zIndex","100000"),s(w,"pointerEvents","none"),r.fallbackOnBody&&B.body.appendChild(w)||_.appendChild(w),e=w.getBoundingClientRect(),s(w,"width",2*t.width-e.width),s(w,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,r=this.options;this._offUpEvents(),"clone"==N.pull&&(C=y.cloneNode(!0),s(C,"display","none"),_.insertBefore(C,y)),t?("touch"===t?(o(B,"touchmove",this._onTouchMove),o(B,"touchend",this._onDrop),o(B,"touchcancel",this._onDrop)):(o(B,"mousemove",this._onTouchMove),o(B,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",r.setData&&r.setData.call(this,n,y)),o(B,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var r,o,i,a=this.el,l=this.options,u=l.group,d=u.put,h=N===u,m=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),D=!0,N&&!l.disabled&&(h?m||(i=!_.contains(y)):N.pull&&d&&(N.name===u.name||d.indexOf&&~d.indexOf(N.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(q(e,l,this.el),W)return;if(r=n(e.target,l.draggable,a),o=y.getBoundingClientRect(),i)return t(!0),void(C||x?_.insertBefore(y,C||x):m||_.appendChild(y));if(0===a.children.length||a.children[0]===w||a===e.target&&(r=f(a,e))){if(r){if(r.animated)return;g=r.getBoundingClientRect()}t(h),c(_,a,y,o,r,g)!==!1&&(y.contains(a)||(a.appendChild(y),b=a),this._animate(o,y),r&&this._animate(g,r))}else if(r&&!r.animated&&r!==y&&void 0!==r.parentNode[R]){k!==r&&(k=r,P=s(r),S=s(r.parentNode));var v,g=r.getBoundingClientRect(),E=g.right-g.left,T=g.bottom-g.top,O=/left|right|inline/.test(P.cssFloat+P.display)||"flex"==S.display&&0===S["flex-direction"].indexOf("row"),I=r.offsetWidth>y.offsetWidth,A=r.offsetHeight>y.offsetHeight,M=(O?(e.clientX-g.left)/E:(e.clientY-g.top)/T)>.5,j=r.nextElementSibling,L=c(_,a,y,o,r,g);if(L!==!1){if(W=!0,setTimeout(p,30),t(h),1===L||-1===L)v=1===L;else if(O){var F=y.offsetTop,B=r.offsetTop;v=F===B?r.previousElementSibling===y&&!I||M&&I:B>F}else v=j!==y&&!A||M&&A;y.contains(a)||(v&&!j?a.appendChild(y):r.parentNode.insertBefore(y,v?j:r)),b=y.parentNode,this._animate(o,y),this._animate(g,r)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();s(t,"transition","none"),s(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,s(t,"transition","all "+n+"ms"),s(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){s(t,"transition",""),s(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;i(B,"touchmove",this._onTouchMove),i(e,"mouseup",this._onDrop),i(e,"touchend",this._onDrop),i(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(j.pid),clearTimeout(this._dragStartTimer),i(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(B,"drop",this),i(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(D&&(t.preventDefault(),!r.dropBubble&&t.stopPropagation()),w&&w.parentNode.removeChild(w),y&&(this.nativeDraggable&&i(y,"dragend",this),d(y),a(y,this.options.ghostClass,!1),a(y,this.options.chosenClass,!1),_!==b?(I=m(y),I>=0&&(u(null,b,"sort",y,_,O,I),u(this,_,"sort",y,_,O,I),u(null,b,"add",y,_,O,I),u(this,_,"remove",y,_,O,I))):(C&&C.parentNode.removeChild(C),y.nextSibling!==x&&(I=m(y),I>=0&&(u(this,_,"update",y,_,O,I),u(this,_,"sort",y,_,O,I)))),e.active&&((null===I||-1===I)&&(I=O),u(this,_,"end",y,_,O,I),this.save())),_=y=b=w=x=C=E=T=A=M=D=I=k=P=N=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?y&&(this._onDragOver(e),r(e)):("drop"===t||"dragend"===t)&&this._onDrop(e)},toArray:function(){for(var e,t=[],r=this.el.children,o=0,i=r.length,a=this.options;i>o;o++)e=r[o],n(e,a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||h(e));return t},sort:function(e){var t={},r=this.el;this.toArray().forEach(function(e,o){var i=r.children[o];n(i,this.options.draggable,r)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(r.removeChild(t[e]),r.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&K(n)))},destroy:function(){var e=this.el;e[R]=null,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),V.splice(V.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:i,css:s,find:l,is:function(e,t){return!!n(e,t,e)},extend:g,throttle:v,closest:n,toggleClass:a,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/common/ActionOverlay",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/common/ActionOverlay",["module","exports","react","lib-build/less!./ActionOverlay"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e,t,n){return e?i["default"].createElement("span",{className:t,onClick:n}):null}return e.showActions&&(e.item.hasDelete||e.item.hasDuplicate)?i["default"].createElement("div",{className:"op-action-overlay"},t(e.item.hasDelete,"action-icon glyphicon glyphicon-remove-circle",function(t){e.callbacks.deleteItem(e.item.id),t.stopPropagation()}),t(e.item.hasDuplicate,"action-icon glyphicon glyphicon-duplicate",function(t){e.callbacks.duplicateItem(e.item.id),t.stopPropagation()})):null}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);t["default"]=o,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/common/ItemMain",[],function(){}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/builderOverview/ItemMain",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/builderOverview/ItemMain",["module","exports","react","./../common/ActionOverlay","lib-build/less!./../common/ItemMain","lib-build/less!./ItemMain"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t="op-item-main builder-overview "+e.item.size,n=function(){return e.item.showTitleBar?a["default"].createElement("div",{className:"title-bar"},a["default"].createElement("span",{className:"title"},a["default"].createElement("span",{className:e.item.icon+" icon"}),e.item.title)):e.item.icon?a["default"].createElement("span",{className:"item-icon"},a["default"].createElement("span",{className:e.item.icon+" icon"})):e.item.text?a["default"].createElement("div",{className:"text-overlay"},a["default"].createElement("p",{className:"item-text"},e.item.text)):null},r=function(){return e.item.label?a["default"].createElement("div",{className:"item-label"},e.item.label):null};return a["default"].createElement("div",{style:{backgroundImage:"url("+e.item.thumbnail+")"},className:t},n(),r(),a["default"].createElement(s["default"],e))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r);t["default"]=i,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/builderOverview/ItemMainButton",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/builderOverview/ItemMainButton",["module","exports","react","./../common/ActionOverlay","lib-build/less!./../common/ItemMain","lib-build/less!./ItemMainButton"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return a["default"].createElement("div",{className:"op-item-main item-button"},a["default"].createElement("div",null,e.item.label),a["default"].createElement(s["default"],e))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r);t["default"]=i,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/common/Item",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/builderOverview/Item",["module","exports","react","./ItemMain","./ItemMainButton","lib-build/less!./../common/Item"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(n),c=i(r),d=i(o),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){a(this,t);var e=s(this,Object.getPrototypeOf(t).call(this));return e.state={showActions:!1},e.renderInnerItem=e.renderInnerItem.bind(e),e}return l(t,e),f(t,[{key:"renderInnerItem",value:function(){var e=this,t=c["default"],n="op-item";return"button"===this.props.item.style&&(t=d["default"]),this.props.selected&&(n+=" selected"),this.props.item.hasOrganize||(n+=" undraggable"),this.props.organize&&(n+=" organize"),u["default"].createElement("div",{className:n,onClick:function(){e.props.organize||(e.props.onItemClicked(e.props.item.id),e.props.callbacks.selectItem(e.props.item.id))},onMouseEnter:function(){e.props.organize||e.setState({showActions:!0})},onMouseLeave:function(){e.setState({showActions:!1})},"data-id":this.props.item.id},u["default"].createElement(t,p({showActions:this.state.showActions},this.props)))}},{key:"render",value:function(){return this.renderInnerItem()}}]),t}(u["default"].Component);t["default"]=h,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/InlineAdd",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/InlineAdd",["module","exports","react","lib-build/less!./InlineAdd"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={hovered:!1},e}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=null;return this.props.organize||!this.state.hovered&&!this.props.lastItem||(t=s["default"].createElement("span",{className:"add-button",onClick:function(){e.props.addItem(e.props.index)}},s["default"].createElement("span",{className:"icon glyphicon glyphicon-plus"}))),s["default"].createElement("div",{className:"op-inline-add-container",onMouseEnter:function(){e.setState({hovered:!0})},onMouseLeave:function(){e.setState({hovered:!1})}},t)}}]),t}(s["default"].Component);t["default"]=u,e.exports=t["default"]}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("react-bootstrap",["react","react-dom"],t):"object"==typeof exports?exports.ReactBootstrap=t(require("react"),require("react-dom")):e.ReactBootstrap=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1)["default"],o=n(2)["default"];t.__esModule=!0;var i=n(3),a=r(i);t.Accordion=a["default"];var s=n(34),l=r(s);t.Alert=l["default"];var u=n(37),c=r(u);t.Badge=c["default"];var d=n(38),p=r(d);t.Breadcrumb=p["default"];var f=n(39),h=r(f);t.BreadcrumbItem=h["default"];var m=n(51),v=r(m);t.Button=v["default"];var g=n(52),y=r(g);t.ButtonGroup=y["default"];var b=n(54),w=r(b);t.ButtonInput=w["default"];var C=n(61),_=r(C);t.ButtonToolbar=_["default"];var x=n(62),E=r(x);t.Carousel=E["default"];var T=n(64),k=r(T);t.CarouselItem=k["default"];var P=n(67),S=r(P);t.Checkbox=S["default"];var O=n(68),I=r(O);t.Clearfix=I["default"];var N=n(69),A=r(N);t.ControlLabel=A["default"];var M=n(70),D=r(M);t.Col=D["default"];var j=n(71),L=r(j);t.Collapse=L["default"];var R=n(85),F=r(R);t.Dropdown=F["default"];var B=n(171),U=r(B);t.DropdownButton=U["default"];var $=n(173),H=r($);t.Fade=H["default"];var W=n(174),z=r(W);t.Form=z["default"];var V=n(175),q=r(V);t.FormControl=q["default"];var K=n(55),G=r(K);t.FormGroup=G["default"];var Y=n(57),X=r(Y);t.Glyphicon=X["default"];var Q=n(178),J=r(Q);t.Grid=J["default"];var Z=n(179),ee=r(Z);t.HelpBlock=ee["default"];var te=n(180),ne=r(te);t.Image=ne["default"];var re=n(181),oe=r(re);t.Input=oe["default"];var ie=n(184),ae=r(ie);t.InputGroup=ae["default"];var se=n(187),le=r(se);t.Interpolate=le["default"];var ue=n(188),ce=r(ue);t.Jumbotron=ce["default"];var de=n(189),pe=r(de);t.Label=pe["default"];var fe=n(190),he=r(fe);t.ListGroup=he["default"];var me=n(191),ve=r(me);t.ListGroupItem=ve["default"];var ge=n(192),ye=r(ge);t.Media=ye["default"];var be=n(199),we=r(be);t.MenuItem=we["default"];var Ce=n(200),_e=r(Ce);t.Modal=_e["default"];var xe=n(221),Ee=r(xe);t.ModalBody=Ee["default"];var Te=n(224),ke=r(Te);t.ModalFooter=ke["default"];var Pe=n(222),Se=r(Pe);t.ModalHeader=Se["default"];var Oe=n(223),Ie=r(Oe);t.ModalTitle=Ie["default"];var Ne=n(225),Ae=r(Ne);t.Nav=Ae["default"];var Me=n(227),De=r(Me);t.Navbar=De["default"];var je=n(228),Le=r(je);t.NavbarBrand=Le["default"];var Re=n(232),Fe=r(Re);t.NavDropdown=Fe["default"];var Be=n(233),Ue=r(Be);t.NavItem=Ue["default"];var $e=n(234),He=r($e);t.Overlay=He["default"];var We=n(243),ze=r(We);t.OverlayTrigger=ze["default"];var Ve=n(244),qe=r(Ve);t.PageHeader=qe["default"];var Ke=n(245),Ge=r(Ke);t.PageItem=Ge["default"];var Ye=n(246),Xe=r(Ye);t.Pager=Xe["default"];var Qe=n(247),Je=r(Qe);t.Pagination=Je["default"];var Ze=n(249),et=r(Ze);t.Panel=et["default"];var tt=n(21),nt=r(tt);t.PanelGroup=nt["default"];var rt=n(250),ot=r(rt);t.Popover=ot["default"];var it=n(251),at=r(it);t.ProgressBar=at["default"];var st=n(252),lt=r(st);t.Radio=lt["default"];var ut=n(253),ct=r(ut);t.ResponsiveEmbed=ct["default"];var dt=n(254),pt=r(dt);t.Row=pt["default"];var ft=n(40),ht=r(ft);t.SafeAnchor=ht["default"];var mt=n(255),vt=r(mt);t.SplitButton=vt["default"];var gt=n(257),yt=r(gt);t.Tab=yt["default"];var bt=n(259),wt=r(bt);t.TabContainer=wt["default"];var Ct=n(260),_t=r(Ct);t.TabContent=_t["default"];var xt=n(261),Et=r(xt);t.Table=Et["default"];var Tt=n(258),kt=r(Tt);t.TabPane=kt["default"];var Pt=n(262),St=r(Pt);t.Tabs=St["default"];var Ot=n(263),It=r(Ot);t.Thumbnail=It["default"];var Nt=n(264),At=r(Nt);t.Tooltip=At["default"];var Mt=n(265),Dt=r(Mt);t.Well=Dt["default"];var jt=n(182),Lt=o(jt);t.FormControls=Lt;var Rt=n(266),Ft=o(Rt);t.utils=Ft},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(21),l=o(s),u=a["default"].createClass({displayName:"Accordion",render:function(){return a["default"].createElement(l["default"],r({},this.props,{accordion:!0}),this.props.children)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(5)["default"];t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0},function(e,t,n){e.exports={"default":n(6),__esModule:!0}},function(e,t,n){n(7),e.exports=n(10).Object.assign},function(e,t,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(13)})},function(e,t,n){var r=n(9),o=n(10),i=n(11),a="prototype",s=function(e,t,n){var l,u,c,d=e&s.F,p=e&s.G,f=e&s.S,h=e&s.P,m=e&s.B,v=e&s.W,g=p?o:o[t]||(o[t]={}),y=p?r:f?r[t]:(r[t]||{})[a];p&&(n=t);for(l in n)u=!d&&y&&l in y,u&&l in g||(c=u?y[l]:n[l],g[l]=p&&"function"!=typeof y[l]?n[l]:m&&u?i(c,r):v&&y[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(c):h&&"function"==typeof c?i(Function.call,c):c,h&&((g[a]||(g[a]={}))[l]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(12);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=n(15),i=n(17);e.exports=n(19)(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),a=arguments,s=a.length,l=1,u=r.getKeys,c=r.getSymbols,d=r.isEnum;s>l;)for(var p,f=i(a[l++]),h=c?u(f).concat(c(f)):u(f),m=h.length,v=0;m>v;)d.call(f,p=h[v++])&&(n[p]=f[p]);return n}:Object.assign},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var r=n(16);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(24),d=n(33),p=i(d),f=u["default"].createClass({displayName:"PanelGroup",propTypes:{accordion:u["default"].PropTypes.bool,activeKey:u["default"].PropTypes.any,className:u["default"].PropTypes.string,children:u["default"].PropTypes.node,defaultActiveKey:u["default"].PropTypes.any,onSelect:u["default"].PropTypes.func},getDefaultProps:function(){return{accordion:!1}},getInitialState:function(){var e=this.props.defaultActiveKey;return{activeKey:e}},render:function(){var e=c.getClassSet(this.props),t=this.props,n=t.className,i=r(t,["className"]);return this.props.accordion&&(i.role="tablist"),u["default"].createElement("div",o({},i,{className:s["default"](n,e),onSelect:null}),p["default"].map(i.children,this.renderPanel))},renderPanel:function(e,t){var n=null!=this.props.activeKey?this.props.activeKey:this.state.activeKey,r={bsStyle:e.props.bsStyle||this.props.bsStyle,key:e.key?e.key:t,ref:e.ref};return this.props.accordion&&(r.headerRole="tab",r.panelRole="tabpanel",r.collapsible=!0,r.expanded=e.props.eventKey===n,r.onSelect=this.handleSelect),l.cloneElement(e,r)},shouldComponentUpdate:function(){return!this._isChanging},handleSelect:function(e,t){t.preventDefault(),this.props.onSelect&&(this._isChanging=!0,this.props.onSelect(e,t),this._isChanging=!1),this.state.activeKey===e&&(e=null),this.setState({activeKey:e})}});t["default"]=c.bsClass("panel-group",f),e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.__esModule=!0},function(e,t,n){var r,o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function r(e){return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var o=n[n.length-1];return"function"==typeof o?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function o(e,t){return void 0===e&&(e={}),(e.bsClass||"").trim()?void 0:f["default"](!1,"A `bsClass` prop is required for this component"),e.bsClass+(t?"-"+t:"")}function i(e){var t,n=(t={},t[o(e)]=!0,t);if(e.bsSize){var r=d["default"].SIZES[e.bsSize]||r;n[o(e,r)]=!0}return e.bsStyle&&(n[o(e,e.bsStyle)]=!0),n}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];m(n,e)}var s=n(4)["default"],l=n(1)["default"];t.__esModule=!0,t.prefix=o,t.getClassSet=i,t.addStyle=a;var u=n(20),c=n(25),d=l(c),p=n(32),f=l(p),h=r(function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=u.PropTypes.string,r.bsClass=e,t});t.bsClass=h;var m=r(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],o=n.propTypes||{};e.forEach(function(e){-1===r.indexOf(e)&&r.push(e)});var i=u.PropTypes.oneOf(r);if(n.STYLES=i._values=r,n.propTypes=s({},o,{bsStyle:i}),void 0!==t){var a=n.defaultProps||(n.defaultProps={});a.bsStyle=t}return n});t.bsStyles=m;var v=r(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],o=n.propTypes||{};e.forEach(function(e){-1===r.indexOf(e)&&r.push(e)});var i=[];r.forEach(function(e){var t=d["default"].SIZES[e];t&&t!==e&&i.push(t),i.push(e)});var a=u.PropTypes.oneOf(i);return a._values=i,n.SIZES=r,n.propTypes=s({},o,{bsSize:a}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});t.bsSizes=v;var g=r;t._curry=g},function(e,t,n){"use strict";var r=n(5)["default"],o=n(26)["default"],i=n(28)["default"];t.__esModule=!0;var a=function(e){return r(o({values:function(){var e=this;return i(this).map(function(t){return e[t]})}}),e)},s={SIZES:{large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},GRID_COLUMNS:12},l=a({LARGE:"large",MEDIUM:"medium",SMALL:"small",XSMALL:"xsmall"});t.Sizes=l;var u=a({SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"});t.State=u;var c="default";t.DEFAULT=c;var d="primary";t.PRIMARY=d;var p="link";t.LINK=p;var f="inverse";t.INVERSE=f,t["default"]=s},function(e,t,n){e.exports={"default":n(27),__esModule:!0}},function(e,t,n){var r=n(14);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={"default":n(29),__esModule:!0}},function(e,t,n){n(30),e.exports=n(10).Object.keys},function(e,t,n){var r=n(15);n(31)("keys",function(e){return function(t){return e(r(t))}})},function(e,t,n){var r=n(8),o=n(10),i=n(19);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=0;return d["default"].Children.map(e,function(e){return d["default"].isValidElement(e)?t.call(n,e,r++):e})}function o(e,t,n){var r=0;d["default"].Children.forEach(e,function(e){d["default"].isValidElement(e)&&t.call(n,e,r++)})}function i(e){var t=0;return d["default"].Children.forEach(e,function(e){d["default"].isValidElement(e)&&++t}),t}function a(e,t,n){var r=0,o=[];return d["default"].Children.forEach(e,function(e){d["default"].isValidElement(e)&&t.call(n,e,r++)&&o.push(e)}),o}function s(e,t,n){var r=0,o=void 0;return d["default"].Children.forEach(e,function(e){o||d["default"].isValidElement(e)&&t.call(n,e,r++)&&(o=e)}),o}function l(e,t,n){var r=0,o=!1;return d["default"].Children.forEach(e,function(e){o||d["default"].isValidElement(e)&&t.call(n,e,r++)&&(o=!0)}),o}var u=n(1)["default"];t.__esModule=!0;var c=n(20),d=u(c);t["default"]={map:r,forEach:o,count:i,find:s,filter:a,some:l},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(35),c=o(u),d=n(25),p=n(24),f=l["default"].createClass({displayName:"Alert",propTypes:{onDismiss:l["default"].PropTypes.func,dismissAfter:c["default"](l["default"].PropTypes.number,"No longer supported."),closeLabel:l["default"].PropTypes.string},getDefaultProps:function(){return{closeLabel:"Close Alert"}},renderDismissButton:function(){return l["default"].createElement("button",{type:"button",className:"close",onClick:this.props.onDismiss,"aria-hidden":"true",tabIndex:"-1"},l["default"].createElement("span",null,""))},renderSrOnlyDismissButton:function(){return l["default"].createElement("button",{type:"button",className:"close sr-only",onClick:this.props.onDismiss},this.props.closeLabel)},render:function(){var e=p.getClassSet(this.props),t=!!this.props.onDismiss;return e[p.prefix(this.props,"dismissable")]=t,l["default"].createElement("div",r({},this.props,{role:"alert",className:a["default"](this.props.className,e)}),t?this.renderDismissButton():null,this.props.children,t?this.renderSrOnlyDismissButton():null)},componentDidMount:function(){this.props.dismissAfter&&this.props.onDismiss&&(this.dismissTimer=setTimeout(this.props.onDismiss,this.props.dismissAfter))},componentWillUnmount:function(){clearTimeout(this.dismissTimer)}});t["default"]=p.bsStyles(d.State.values(),d.State.INFO,p.bsClass("alert",f)),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return function(n,r,o){return null!=n[r]&&a["default"](!1,'"'+r+'" property of "'+o+'" has been deprecated.\n'+t),e(n,r,o)}}t.__esModule=!0,t["default"]=o;var i=n(36),a=r(i);e.exports=t["default"]},function(e,t,n){"use strict";var r=function(){};r=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;r>o;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}},e.exports=r},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(24),c=n(33),d=o(c),p=l["default"].createClass({displayName:"Badge",propTypes:{pullRight:l["default"].PropTypes.bool},getDefaultProps:function(){return{pullRight:!1,bsClass:"badge"}},hasContent:function(){var e=this.props.children;return d["default"].count(e)>0||l["default"].Children.count(e)>1||"string"==typeof e||"number"==typeof e},render:function(){var e,t=(e={"pull-right":this.props.pullRight},e[u.prefix(this.props)]=this.hasContent(),e);return l["default"].createElement("span",r({},this.props,{className:a["default"](this.props.className,t)}),this.props.children)}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=n(33),d=i(c),p=n(39),f=i(p),h=s["default"].createClass({displayName:"Breadcrumb",propTypes:{bsClass:s["default"].PropTypes.string},getDefaultProps:function(){return{bsClass:"breadcrumb"}},render:function(){var e=this.props,t=e.className,n=r(e,["className"]);return s["default"].createElement("ol",o({},n,{role:"navigation","aria-label":"breadcrumbs",className:u["default"](t,this.props.bsClass)}),d["default"].map(this.props.children,this.renderBreadcrumbItem))},renderBreadcrumbItem:function(e,t){return a.cloneElement(e,{key:e.key||t})}});h.Item=f["default"],t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(40),d=i(c),p=u["default"].createClass({displayName:"BreadcrumbItem",propTypes:{active:u["default"].PropTypes.bool,id:u["default"].PropTypes.oneOfType([u["default"].PropTypes.string,u["default"].PropTypes.number]),linkId:u["default"].PropTypes.oneOfType([u["default"].PropTypes.string,u["default"].PropTypes.number]),href:u["default"].PropTypes.string,title:u["default"].PropTypes.node,target:u["default"].PropTypes.string},getDefaultProps:function(){return{active:!1}},render:function(){var e=this.props,t=e.active,n=e.className,i=e.id,a=e.linkId,l=e.children,c=e.href,p=e.title,f=e.target,h=r(e,["active","className","id","linkId","children","href","title","target"]),m={
href:c,title:p,target:f,id:a};return u["default"].createElement("li",{id:i,className:s["default"](n,{active:t})},t?u["default"].createElement("span",h,l):u["default"].createElement(d["default"],o({},h,m),l))}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return!e||"#"===e.trim()}var o=n(41)["default"],i=n(48)["default"],a=n(4)["default"],s=n(22)["default"],l=n(1)["default"];t.__esModule=!0;var u=n(20),c=l(u),d=n(49),p=l(d),f=function(e){function t(n){i(this,t),e.call(this,n),this.handleClick=this.handleClick.bind(this)}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.href,n=e.role,o=e.tabIndex,i=e.disabled,l=e.style,u=s(e,["href","role","tabIndex","disabled","style"]),d=this.props.componentClass||"a";return r(t)&&(n=n||"button",t=t||""),i&&(o=-1,l=a({pointerEvents:"none"},l)),c["default"].createElement(d,a({},u,{role:n,href:t,style:l,tabIndex:o,onClick:this.handleClick}))},t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,o=t.href,i=t.onClick;return(n||r(o))&&e.preventDefault(),n?void e.stopPropagation():void(i&&i(e))},t}(c["default"].Component);t["default"]=f,f.propTypes={href:c["default"].PropTypes.string,onClick:c["default"].PropTypes.func,disabled:c["default"].PropTypes.bool,role:c["default"].PropTypes.string,tabIndex:c["default"].PropTypes.oneOfType([c["default"].PropTypes.number,c["default"].PropTypes.string]),componentClass:p["default"]},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(26)["default"],o=n(42)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={"default":n(43),__esModule:!0}},function(e,t,n){n(44),e.exports=n(10).Object.setPrototypeOf},function(e,t,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(45).set})},function(e,t,n){var r=n(14).getDesc,o=n(46),i=n(47),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(11)(Function.call,r(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(46);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){"use strict";t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=s.errMsg(e,t,n,". Expected an Element `type`");if("function"!=typeof e[t]){if(a["default"].isValidElement(e[t]))return new Error(r+", not an actual Element");if("string"!=typeof e[t])return new Error(r+" such as a tag name or return value of React.createClass(...)")}}t.__esModule=!0;var i=n(20),a=r(i),s=n(50);t["default"]=s.createChainableTypeChecker(o),e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r){return"Invalid prop '"+t+"' of value '"+e[t]+"'"+(" supplied to '"+n+"'"+r)}function r(e){function t(t,n,r,o){return o=o||"<<anonymous>>",null!=n[r]?e(n,r,o):t?new Error("Required prop '"+r+"' was not specified in '"+o+"'."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}t.__esModule=!0,t.errMsg=n,t.createChainableTypeChecker=r},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(49),p=a(d),f=n(25),h=n(24),m=n(40),v=a(m),g=f.State.values().concat(f.DEFAULT,f.PRIMARY,f.LINK),y=["button","reset","submit"],b=function(e){function t(n,r){o(this,t),e.call(this,n,r)}return r(t,e),t.prototype.render=function(){var e,t=this.props.navDropdown?{}:h.getClassSet(this.props),n=void 0,r=h.prefix(this.props,"block");return t=i((e={active:this.props.active},e[r]=this.props.block,e),t),this.props.navItem?this.renderNavItem(t):(n=this.props.href||this.props.target||this.props.navDropdown?"renderAnchor":"renderButton",this[n](t))},t.prototype.renderAnchor=function(e){var t=this.props,n=t.disabled,r=t.href;return e.disabled=n,c["default"].createElement(v["default"],i({},this.props,{href:r||"#",className:l["default"](this.props.className,e)}),this.props.children)},t.prototype.renderButton=function(e){var t=this.props.componentClass||"button";return c["default"].createElement(t,i({},this.props,{type:this.props.type||"button",className:l["default"](this.props.className,e)}),this.props.children)},t.prototype.renderNavItem=function(e){var t={active:this.props.active};return c["default"].createElement("li",{className:l["default"](t)},this.renderAnchor(e))},t}(c["default"].Component);b.propTypes={active:c["default"].PropTypes.bool,disabled:c["default"].PropTypes.bool,block:c["default"].PropTypes.bool,navItem:c["default"].PropTypes.bool,navDropdown:c["default"].PropTypes.bool,onClick:c["default"].PropTypes.func,componentClass:p["default"],href:c["default"].PropTypes.string,target:c["default"].PropTypes.string,type:c["default"].PropTypes.oneOf(y)},b.defaultProps={active:!1,block:!1,disabled:!1,navItem:!1,navDropdown:!1},b.types=y,t["default"]=h.bsStyles(g,f.DEFAULT,h.bsSizes([f.Sizes.LARGE,f.Sizes.SMALL,f.Sizes.XSMALL],h.bsClass("btn",b))),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(53),c=o(u),d=n(24),p=n(51),f=o(p),h=l["default"].createClass({displayName:"ButtonGroup",propTypes:{vertical:l["default"].PropTypes.bool,justified:l["default"].PropTypes.bool,block:c["default"](l["default"].PropTypes.bool,function(e){return e.block&&!e.vertical?new Error("The block property requires the vertical property to be set to have any effect"):void 0})},getDefaultProps:function(){return{block:!1,justified:!1,vertical:!1}},render:function(){var e=d.getClassSet(this.props);return e[d.prefix(this.props)]=!this.props.vertical,e[d.prefix(this.props,"vertical")]=this.props.vertical,e[d.prefix(this.props,"justified")]=this.props.justified,e[d.prefix(f["default"].defaultProps,"block")]=this.props.block,l["default"].createElement("div",r({},this.props,{className:a["default"](this.props.className,e)}),this.props.children)}});t["default"]=d.bsClass("btn-group",h),e.exports=t["default"]},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(void 0===t)throw new Error("No validations provided");if(t.some(function(e){return"function"!=typeof e}))throw new Error("Invalid arguments, must be functions");if(0===t.length)throw new Error("No validations provided");return function(e,n,r){for(var o=0;o<t.length;o++){var i=t[o](e,n,r);if(void 0!==i&&null!==i)return i}}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(20),u=s(l),c=n(51),d=s(c),p=n(55),f=s(p),h=n(56),m=s(h),v=n(58),g=s(v),y=n(60),b=s(y),w=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.renderFormGroup=function(e){var t=this.props,n=(t.bsStyle,t.value,i(t,["bsStyle","value"]));return u["default"].createElement(f["default"],n,e)},t.prototype.renderInput=function(){var e=this.props,t=e.children,n=e.value,r=i(e,["children","value"]),o=t?t:n;return u["default"].createElement(d["default"],a({},r,{componentClass:"input",ref:"input",key:"input",value:o}))},t}(m["default"]);w.types=d["default"].types,w.defaultProps={type:"button"},w.propTypes={type:u["default"].PropTypes.oneOf(w.types),bsStyle:function(){return null},children:g["default"],value:g["default"]},t["default"]=b["default"].wrapper(w,"`<ButtonInput>`","`<Button>` directly"),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(35),f=s(p),h=n(25),m=n(24),v=n(33),g=s(v),y={controlId:d["default"].PropTypes.string,standalone:f["default"](d["default"].PropTypes.bool,"Use a `<FormControl>` or `<InputGroup>` directly."),validationState:d["default"].PropTypes.oneOf(["success","warning","error"]),bsStyle:f["default"](d["default"].PropTypes.oneOf(["success","warning","error"]),"Use `validationState`"),hasFeedback:f["default"](d["default"].PropTypes.bool,"Use a `<FormControl.Feedback>` element."),groupClassName:f["default"](d["default"].PropTypes.string,"Use `className`.")},b={$bs_formGroup:d["default"].PropTypes.object.isRequired},w=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.controlId,n=e.bsStyle,r=e.validationState,o=void 0===r?n:r;return{$bs_formGroup:{controlId:t,validationState:o}}},t.prototype.hasFeedback=function(e){var t=this;return g["default"].some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},t.prototype.render=function(){var e=this.props,t=e.standalone,n=e.bsStyle,r=e.validationState,o=void 0===r?n:r,s=e.groupClassName,l=e.className,c=void 0===l?s:l,p=e.children,f=e.hasFeedback,h=void 0===f?this.hasFeedback(p):f,v=a(e,["standalone","bsStyle","validationState","groupClassName","className","children","hasFeedback"]);delete v.bsClass,delete v.bsSize,delete v.controlId;var g=i({},!t&&m.getClassSet(this.props),{"has-feedback":h});return o&&(g["has-"+o]=!0),d["default"].createElement("div",i({},v,{className:u["default"](c,g)}),p)},t}(d["default"].Component);w.propTypes=y,w.childContextTypes=b,t["default"]=m.bsClass("form-group",m.bsSizes([h.Sizes.LARGE,h.Sizes.SMALL],w)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(55),p=a(d),f=n(57),h=a(f),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.getInputDOMNode=function(){return this.refs.input},t.prototype.getValue=function(){if("static"===this.props.type)return this.props.value;if(this.props.type)return"select"===this.props.type&&this.props.multiple?this.getSelectedOptions():this.getInputDOMNode().value;throw new Error("Cannot use getValue without specifying input type.")},t.prototype.getChecked=function(){return this.getInputDOMNode().checked},t.prototype.getSelectedOptions=function(){var e=[];return Array.prototype.forEach.call(this.getInputDOMNode().getElementsByTagName("option"),function(t){if(t.selected){var n=t.getAttribute("value")||t.innerHtml;e.push(n)}}),e},t.prototype.isCheckboxOrRadio=function(){return"checkbox"===this.props.type||"radio"===this.props.type},t.prototype.isFile=function(){return"file"===this.props.type},t.prototype.renderInputGroup=function(e){var t=this.props.addonBefore?c["default"].createElement("span",{className:"input-group-addon",key:"addonBefore"},this.props.addonBefore):null,n=this.props.addonAfter?c["default"].createElement("span",{className:"input-group-addon",key:"addonAfter"},this.props.addonAfter):null,r=this.props.buttonBefore?c["default"].createElement("span",{className:"input-group-btn"},this.props.buttonBefore):null,o=this.props.buttonAfter?c["default"].createElement("span",{className:"input-group-btn"},this.props.buttonAfter):null,i=void 0;switch(this.props.bsSize){case"small":i="input-group-sm";break;case"large":i="input-group-lg"}return t||n||r||o?c["default"].createElement("div",{className:l["default"](i,"input-group"),key:"input-group"},t,r,e,n,o):e},t.prototype.renderIcon=function(){if(!this.props.hasFeedback)return null;if(this.props.feedbackIcon)return c["default"].cloneElement(this.props.feedbackIcon,{formControlFeedback:!0});switch(this.props.bsStyle){case"success":return c["default"].createElement(h["default"],{formControlFeedback:!0,glyph:"ok",key:"icon"});case"warning":return c["default"].createElement(h["default"],{formControlFeedback:!0,glyph:"warning-sign",key:"icon"});case"error":return c["default"].createElement(h["default"],{formControlFeedback:!0,glyph:"remove",key:"icon"});default:return c["default"].createElement("span",{className:"form-control-feedback",key:"icon"})}},t.prototype.renderHelp=function(){return this.props.help?c["default"].createElement("span",{className:"help-block",key:"help"},this.props.help):null},t.prototype.renderCheckboxAndRadioWrapper=function(e){var t={checkbox:"checkbox"===this.props.type,radio:"radio"===this.props.type};return c["default"].createElement("div",{className:l["default"](t),key:"checkboxRadioWrapper"},e)},t.prototype.renderWrapper=function(e){return this.props.wrapperClassName?c["default"].createElement("div",{className:this.props.wrapperClassName,key:"wrapper"},e):e},t.prototype.renderLabel=function(e){var t={"control-label":!this.isCheckboxOrRadio()};return t[this.props.labelClassName]=this.props.labelClassName,this.props.label?c["default"].createElement("label",{htmlFor:this.props.id,className:l["default"](t),key:"label"},e,this.props.label):e},t.prototype.renderInput=function(){if(!this.props.type)return this.props.children;switch(this.props.type){case"select":return c["default"].createElement("select",i({},this.props,{className:l["default"](this.props.className,"form-control"),ref:"input",key:"input"}),this.props.children);case"textarea":return c["default"].createElement("textarea",i({},this.props,{className:l["default"](this.props.className,"form-control"),ref:"input",key:"input"}));case"static":return c["default"].createElement("p",i({},this.props,{className:l["default"](this.props.className,"form-control-static"),ref:"input",key:"input"}),this.props.value);default:var e=this.isCheckboxOrRadio()||this.isFile()?"":"form-control";return c["default"].createElement("input",i({},this.props,{className:l["default"](this.props.className,e),ref:"input",key:"input"}))}},t.prototype.renderFormGroup=function(e){return c["default"].createElement(p["default"],this.props,e)},t.prototype.renderChildren=function(){return this.isCheckboxOrRadio()?this.renderWrapper([this.renderCheckboxAndRadioWrapper(this.renderLabel(this.renderInput())),this.renderHelp()]):[this.renderLabel(),this.renderWrapper([this.renderInputGroup(this.renderInput()),this.renderIcon(),this.renderHelp()])]},t.prototype.render=function(){var e=this.renderChildren();return this.renderFormGroup(e)},t}(c["default"].Component);m.propTypes={type:c["default"].PropTypes.string,label:c["default"].PropTypes.node,help:c["default"].PropTypes.node,addonBefore:c["default"].PropTypes.node,addonAfter:c["default"].PropTypes.node,buttonBefore:c["default"].PropTypes.node,buttonAfter:c["default"].PropTypes.node,bsSize:c["default"].PropTypes.oneOf(["small","medium","large"]),bsStyle:c["default"].PropTypes.oneOf(["success","warning","error"]),hasFeedback:c["default"].PropTypes.bool,feedbackIcon:c["default"].PropTypes.node,id:c["default"].PropTypes.oneOfType([c["default"].PropTypes.string,c["default"].PropTypes.number]),groupClassName:c["default"].PropTypes.string,wrapperClassName:c["default"].PropTypes.string,labelClassName:c["default"].PropTypes.string,multiple:c["default"].PropTypes.bool,disabled:c["default"].PropTypes.bool,value:c["default"].PropTypes.any},m.defaultProps={disabled:!1,hasFeedback:!1,multiple:!1},t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(35),c=o(u),d=l["default"].createClass({displayName:"Glyphicon",propTypes:{bsClass:l["default"].PropTypes.string,glyph:l["default"].PropTypes.string.isRequired,formControlFeedback:c["default"](l["default"].PropTypes.bool,"Use `<FormControl.Feedback>`.")},getDefaultProps:function(){return{bsClass:"glyphicon"}},render:function(){var e,t=a["default"](this.props.className,(e={},e[this.props.bsClass]=!0,e["glyphicon-"+this.props.glyph]=!0,e["form-control-feedback"]=this.props.formControlFeedback,e));return l["default"].createElement("span",r({},this.props,{className:t}),this.props.children)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){var r=l["default"]("children","value")(e,t,n);return r||(r=a["default"].PropTypes.node(e,t,n)),r}var o=n(1)["default"];t.__esModule=!0,t["default"]=r;var i=n(20),a=o(i),s=n(59),l=o(s);e.exports=t["default"]},function(e,t){"use strict";function n(){function e(e,t,r){var o=n.map(function(t){return e[t]}).reduce(function(e,t){return e+(void 0!==t?1:0)},0);if(o>1){var i=n[0],a=n.slice(1),s=a.join(", ")+" and "+i;return new Error("Invalid prop '"+t+"', only one of the following may be provided: "+s)}}for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return e}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){var r=void 0;"object"==typeof e?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),c[r]||(u["default"](!1,r),c[r]=!0)}function o(){c={}}var i=n(41)["default"],a=n(48)["default"],s=n(1)["default"];t.__esModule=!0,t._resetWarned=o;var l=n(36),u=s(l),c={};r.wrapper=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];return function(e){function t(){a(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.componentWillMount=function(){if(r.apply(void 0,n),e.prototype.componentWillMount){for(var t,o=arguments.length,i=Array(o),a=0;o>a;a++)i[a]=arguments[a];(t=e.prototype.componentWillMount).call.apply(t,[this].concat(i))}},t}(e)},t["default"]=r},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(24),c=n(51),d=o(c),p=l["default"].createClass({displayName:"ButtonToolbar",propTypes:{bsSize:d["default"].propTypes.bsSize},getDefaultProps:function(){return{bsClass:"btn-toolbar"}},render:function(){var e=u.getClassSet(this.props);return l["default"].createElement("div",r({},this.props,{role:"toolbar",className:a["default"](this.props.className,e)}),this.props.children)}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(24),d=n(33),p=i(d),f=n(63),h=i(f),m=n(64),v=i(m),g=n(57),y=i(g),b=u["default"].createClass({displayName:"Carousel",propTypes:{slide:u["default"].PropTypes.bool,indicators:u["default"].PropTypes.bool,interval:u["default"].PropTypes.number,controls:u["default"].PropTypes.bool,pauseOnHover:u["default"].PropTypes.bool,wrap:u["default"].PropTypes.bool,onSelect:u["default"].PropTypes.func,onSlideEnd:u["default"].PropTypes.func,activeIndex:u["default"].PropTypes.number,defaultActiveIndex:u["default"].PropTypes.number,direction:u["default"].PropTypes.oneOf(["prev","next"]),prevIcon:u["default"].PropTypes.node,nextIcon:u["default"].PropTypes.node},getDefaultProps:function(){return{bsClass:"carousel",slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:u["default"].createElement(y["default"],{glyph:"chevron-left"}),nextIcon:u["default"].createElement(y["default"],{glyph:"chevron-right"})}},getInitialState:function(){return{activeIndex:null==this.props.defaultActiveIndex?0:this.props.defaultActiveIndex,previousActiveIndex:null,direction:null}},getDirection:function(e,t){return e===t?null:e>t?"prev":"next"},componentWillReceiveProps:function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)}))},componentDidMount:function(){this.waitForNext()},componentWillUnmount:function(){clearTimeout(this.timeout)},next:function(e){e&&e.preventDefault();var t=this.getActiveIndex()+1,n=p["default"].count(this.props.children);if(t>n-1){if(!this.props.wrap)return;t=0}this.handleSelect(t,e,"next")},prev:function(e){e&&e.preventDefault();var t=this.getActiveIndex()-1;if(0>t){if(!this.props.wrap)return;t=p["default"].count(this.props.children)-1}this.handleSelect(t,e,"prev")},pause:function(){this.isPaused=!0,clearTimeout(this.timeout)},play:function(){this.isPaused=!1,this.waitForNext()},waitForNext:function(){!this.isPaused&&this.props.slide&&this.props.interval&&null==this.props.activeIndex&&(this.timeout=setTimeout(this.next,this.props.interval))},handleMouseOver:function(){this.props.pauseOnHover&&this.pause()},handleMouseOut:function(){this.isPaused&&this.play()},render:function(){var e,t=(e={},e[c.prefix(this.props)]=!0,e.slide=this.props.slide,e);return u["default"].createElement("div",r({},this.props,{className:s["default"](this.props.className,t),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.indicators?this.renderIndicators():null,u["default"].createElement("div",{ref:"inner",className:c.prefix(this.props,"inner")},p["default"].map(this.props.children,this.renderItem)),this.props.controls?this.renderControls():null)},renderPrev:function(){var e="left "+c.prefix(this.props,"control");return u["default"].createElement("a",{className:e,href:"#prev",key:0,onClick:this.prev},this.props.prevIcon)},renderNext:function(){var e="right "+c.prefix(this.props,"control");return u["default"].createElement("a",{className:e,href:"#next",key:1,onClick:this.next},this.props.nextIcon)},renderControls:function(){if(!this.props.wrap){var e=this.getActiveIndex(),t=p["default"].count(this.props.children);return[0!==e?this.renderPrev():null,e!==t-1?this.renderNext():null]}return[this.renderPrev(),this.renderNext()]},renderIndicator:function(e,t){var n=this,r=t===this.getActiveIndex()?"active":null;return u["default"].createElement("li",{key:t,className:r,onClick:function(e){return n.handleSelect(t,e,null)}})},renderIndicators:function(){var e=this,t=[];return p["default"].forEach(this.props.children,function(n,r){t.push(e.renderIndicator(n,r)," ")},this),u["default"].createElement("ol",{className:c.prefix(this.props,"indicators")},t)},getActiveIndex:function(){return null!=this.props.activeIndex?this.props.activeIndex:this.state.activeIndex},handleItemAnimateOutEnd:function(){var e=this;this.setState({previousActiveIndex:null,direction:null},function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()})},renderItem:function(e,t){var n=this.getActiveIndex(),r=t===n,o=null!=this.state.previousActiveIndex&&this.state.previousActiveIndex===t&&this.props.slide;return l.cloneElement(e,{active:r,ref:e.ref,key:e.key?e.key:t,index:t,animateOut:o,animateIn:r&&null!=this.state.previousActiveIndex&&this.props.slide,direction:this.state.direction,onAnimateOutEnd:o?this.handleItemAnimateOutEnd:null})},handleSelect:function(e,t,n){if(clearTimeout(this.timeout),this.isMounted()){var r=this.getActiveIndex();n=n||this.getDirection(r,e);var o=this.props.onSelect;if(o&&(o.length>1?(t.persist(),t.direction=n,o(e,t)):o(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}}});b=o(b,{Caption:h["default"],Item:v["default"]}),t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(49),c=o(u),d=l["default"].createClass({displayName:"Carousel.Caption",propTypes:{componentClass:c["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass;return l["default"].createElement(e,r({},this.props,{className:a["default"](this.props.className,"carousel-caption")}),this.props.children)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(65),c=o(u),d=n(24),p=n(66),f=o(p),h=l["default"].createClass({displayName:"CarouselItem",propTypes:{direction:l["default"].PropTypes.oneOf(["prev","next"]),onAnimateOutEnd:l["default"].PropTypes.func,active:l["default"].PropTypes.bool,animateIn:l["default"].PropTypes.bool,animateOut:l["default"].PropTypes.bool,caption:l["default"].PropTypes.node,index:l["default"].PropTypes.number},getInitialState:function(){return{direction:null}},getDefaultProps:function(){return{bsStyle:"carousel",active:!1,animateIn:!1,animateOut:!1}},handleAnimateOutEnd:function(){this.props.onAnimateOutEnd&&this.isMounted()&&this.props.onAnimateOutEnd(this.props.index)},componentWillReceiveProps:function(e){this.props.active!==e.active&&this.setState({direction:null})},componentDidUpdate:function(e){!this.props.active&&e.active&&f["default"].addEndEventListener(c["default"].findDOMNode(this),this.handleAnimateOutEnd),this.props.active!==e.active&&setTimeout(this.startAnimation,20)},startAnimation:function(){this.isMounted()&&this.setState({direction:"prev"===this.props.direction?"right":"left"})},render:function(){var e={item:!0,active:this.props.active&&!this.props.animateIn||this.props.animateOut,next:this.props.active&&this.props.animateIn&&"next"===this.props.direction,prev:this.props.active&&this.props.animateIn&&"prev"===this.props.direction};return this.state.direction&&(this.props.animateIn||this.props.animateOut)&&(e[this.state.direction]=!0),l["default"].createElement("div",r({},this.props,{className:a["default"](this.props.className,e)}),this.props.children,this.props.caption?this.renderCaption():null)},renderCaption:function(){var e=d.prefix(this.props,"caption");return l["default"].createElement("div",{className:e},this.props.caption)}});t["default"]=h,e.exports=t["default"]},function(e,n){e.exports=t},function(e,t){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var o in r)if(o in t){s.push(r[o]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}t.__esModule=!0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];i&&n();var l={addEndEventListener:function(e,t){return 0===s.length?void window.setTimeout(t,0):void s.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){o(e,n,t)})}};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(36),f=s(p),h=n(24),m={inline:d["default"].PropTypes.bool,disabled:d["default"].PropTypes.bool,validationState:d["default"].PropTypes.oneOf(["success","warning","error"]),inputRef:d["default"].PropTypes.func},v={inline:!1,disabled:!1},g=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,s=e.className,l=e.style,c=e.children,p=a(e,["inline","disabled","validationState","inputRef","className","style","children"]);delete p.bsClass;var m=d["default"].createElement("input",i({},p,{ref:o,type:"checkbox",disabled:n}));if(t){var v,g=(v={},v[h.prefix(this.props,"inline")]=!0,v.disabled=n,v);return f["default"](!r,"`validationState` is ignored on `<Checkbox inline>`. To display validation state on an inline checkbox, set `validationState` on a parent `<FormGroup>` or other element instead."),d["default"].createElement("label",{className:u["default"](s,g),style:l},m,c)}var y=i({},h.getClassSet(this.props),{disabled:n});return r&&(y["has-"+r]=!0),d["default"].createElement("div",{className:u["default"](s,y),style:l},d["default"].createElement("label",null,m,c))},t}(d["default"].Component);g.propTypes=m,g.defaultProps=v,t["default"]=h.bsClass("checkbox",g),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(28)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=n(25),d=i(c),p=n(49),f=i(p),h=s["default"].createClass({displayName:"Clearfix",propTypes:{componentClass:f["default"],visibleXsBlock:s["default"].PropTypes.bool,visibleSmBlock:s["default"].PropTypes.bool,visibleMdBlock:s["default"].PropTypes.bool,visibleLgBlock:s["default"].PropTypes.bool},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this,t=this.props.componentClass,n={};return o(d["default"].SIZES).forEach(function(t){var r=d["default"].SIZES[t];n["visible-"+r+"-block"]=e.props["visible"+r.charAt(0).toUpperCase()+r.slice(1)+"Block"]},this),s["default"].createElement(t,r({},this.props,{className:u["default"](this.props.className,"clearfix",n)}),this.props.children)}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(36),f=s(p),h=n(24),m={htmlFor:d["default"].PropTypes.string,srOnly:d["default"].PropTypes.bool},v={srOnly:!1},g={$bs_formGroup:d["default"].PropTypes.object},y=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,o=void 0===r?t:r,s=n.srOnly,l=n.className,c=a(n,["htmlFor","srOnly","className"]);f["default"](null==t||o===t,"`controlId` is ignored on `<ControlLabel>` when `htmlFor` is specified."),delete c.bsClass;var p=i({},h.getClassSet(this.props),{"sr-only":s});return d["default"].createElement("label",i({},c,{htmlFor:o,className:u["default"](l,p)}))},t}(d["default"].Component);y.propTypes=m,y.defaultProps=v,y.contextTypes=g,t["default"]=h.bsClass("control-label",y),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(28)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=n(25),d=i(c),p=n(49),f=i(p),h=s["default"].createClass({displayName:"Col",propTypes:{xs:s["default"].PropTypes.number,sm:s["default"].PropTypes.number,md:s["default"].PropTypes.number,lg:s["default"].PropTypes.number,xsHidden:s["default"].PropTypes.bool,smHidden:s["default"].PropTypes.bool,mdHidden:s["default"].PropTypes.bool,lgHidden:s["default"].PropTypes.bool,xsOffset:s["default"].PropTypes.number,smOffset:s["default"].PropTypes.number,mdOffset:s["default"].PropTypes.number,lgOffset:s["default"].PropTypes.number,xsPush:s["default"].PropTypes.number,smPush:s["default"].PropTypes.number,mdPush:s["default"].PropTypes.number,lgPush:s["default"].PropTypes.number,xsPull:s["default"].PropTypes.number,smPull:s["default"].PropTypes.number,mdPull:s["default"].PropTypes.number,lgPull:s["default"].PropTypes.number,componentClass:f["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this,t=this.props.componentClass,n={};return o(d["default"].SIZES).forEach(function(t){var r=d["default"].SIZES[t],o=r,i=r+"-";e.props[o]&&(n["col-"+i+e.props[o]]=!0),n["hidden-"+r]=e.props[r+"Hidden"],o=r+"Offset",i=r+"-offset-",e.props[o]>=0&&(n["col-"+i+e.props[o]]=!0),o=r+"Push",i=r+"-push-",e.props[o]>=0&&(n["col-"+i+e.props[o]]=!0),o=r+"Pull",i=r+"-pull-",e.props[o]>=0&&(n["col-"+i+e.props[o]]=!0)},this),s["default"].createElement(t,r({},this.props,{className:u["default"](this.props.className,n)}),this.props.children);
}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){var n=t["offset"+y(e)],r=w[e];return n+parseInt(u["default"](t,r[0]),10)+parseInt(u["default"](t,r[1]),10)}var o=n(41)["default"],i=n(48)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(72),u=s(l),c=n(20),d=s(c),p=n(23),f=s(p),h=n(80),m=s(h),v=n(84),g=s(v),y=function(e){return e[0].toUpperCase()+e.substr(1)},b=function(e){return e.offsetHeight},w={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},C=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.onEnterListener=this.handleEnter.bind(this),this.onEnteringListener=this.handleEntering.bind(this),this.onEnteredListener=this.handleEntered.bind(this),this.onExitListener=this.handleExit.bind(this),this.onExitingListener=this.handleExiting.bind(this)}return o(t,e),t.prototype.render=function(){var e=g["default"](this.onEnterListener,this.props.onEnter),t=g["default"](this.onEnteringListener,this.props.onEntering),n=g["default"](this.onEnteredListener,this.props.onEntered),r=g["default"](this.onExitListener,this.props.onExit),o=g["default"](this.onExitingListener,this.props.onExiting);return d["default"].createElement(m["default"],a({ref:"transition"},this.props,{"aria-expanded":this.props.role?this.props["in"]:null,className:f["default"](this.props.className,{width:"width"===this._dimension()}),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:o,onExited:this.props.onExited}),this.props.children)},t.prototype.handleEnter=function(e){var t=this._dimension();e.style[t]="0"},t.prototype.handleEntering=function(e){var t=this._dimension();e.style[t]=this._getScrollDimensionValue(e,t)},t.prototype.handleEntered=function(e){var t=this._dimension();e.style[t]=null},t.prototype.handleExit=function(e){var t=this._dimension();e.style[t]=this.props.getDimensionValue(t,e)+"px"},t.prototype.handleExiting=function(e){var t=this._dimension();b(e),e.style[t]="0"},t.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},t.prototype._getTransitionInstance=function(){return this.refs.transition},t.prototype._getScrollDimensionValue=function(e,t){return e["scroll"+y(t)]+"px"},t}(d["default"].Component);C.propTypes={"in":d["default"].PropTypes.bool,unmountOnExit:d["default"].PropTypes.bool,transitionAppear:d["default"].PropTypes.bool,timeout:d["default"].PropTypes.number,onEnter:d["default"].PropTypes.func,onEntering:d["default"].PropTypes.func,onEntered:d["default"].PropTypes.func,onExit:d["default"].PropTypes.func,onExiting:d["default"].PropTypes.func,onExited:d["default"].PropTypes.func,dimension:d["default"].PropTypes.oneOfType([d["default"].PropTypes.oneOf(["height","width"]),d["default"].PropTypes.func]),getDimensionValue:d["default"].PropTypes.func,role:d["default"].PropTypes.string},C.defaultProps={"in":!1,timeout:300,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:r},t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(73),o=n(75),i=n(77),a=n(79),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var l="",u=t;if("string"==typeof t){if(void 0===n)return e.style[r(t)]||i(e).getPropertyValue(o(t));(u={})[t]=n}for(var c in u)s.call(u,c)&&(u[c]||0===u[c]?l+=o(c)+":"+u[c]+";":a(e,o(c)));e.style.cssText+=";"+l}},function(e,t,n){"use strict";var r=n(74),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t){"use strict";var n=/-(.)/g;e.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(76),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(78),o=n(73),i=r.interopRequireDefault(o),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;t=(0,i["default"])(t),"float"==t&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),s.test(r)&&!a.test(t)){var o=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=o,u&&(l.left=u)}return r}}}},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e){var t=e;t.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},t._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}})},function(e,t){"use strict";e.exports=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(20),c=r(u),d=n(65),p=r(d),f=n(81),h=r(f),m=n(83),v=r(m),g=n(23),y=r(g),b=h["default"].end,w=0;t.UNMOUNTED=w;var C=1;t.EXITED=C;var _=2;t.ENTERING=_;var x=3;t.ENTERED=x;var E=4;t.EXITING=E;var T=function(e){function t(n,r){i(this,t),e.call(this,n,r);var o=void 0;o=n["in"]?n.transitionAppear?C:x:n.unmountOnExit?w:C,this.state={status:o},this.nextCallback=null}return a(t,e),t.prototype.componentDidMount=function(){this.props.transitionAppear&&this.props["in"]&&this.performEnter(this.props)},t.prototype.componentWillReceiveProps=function(e){e["in"]&&this.props.unmountOnExit?this.state.status===w&&this.setState({status:C}):this._needsUpdate=!0},t.prototype.componentDidUpdate=function(){var e=this.state.status;return this.props.unmountOnExit&&e===C?void(this.props["in"]?this.performEnter(this.props):this.setState({status:w})):void(this._needsUpdate&&(this._needsUpdate=!1,this.props["in"]?e===E?this.performEnter(this.props):e===C&&this.performEnter(this.props):(e===_||e===x)&&this.performExit(this.props)))},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.performEnter=function(e){var t=this;this.cancelNextCallback();var n=p["default"].findDOMNode(this);e.onEnter(n),this.safeSetState({status:_},function(){t.props.onEntering(n),t.onTransitionEnd(n,function(){t.safeSetState({status:x},function(){t.props.onEntered(n)})})})},t.prototype.performExit=function(e){var t=this;this.cancelNextCallback();var n=p["default"].findDOMNode(this);e.onExit(n),this.safeSetState({status:E},function(){t.props.onExiting(n),t.onTransitionEnd(n,function(){t.safeSetState({status:C},function(){t.props.onExited(n)})})})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){this.setState(e,this.setNextCallback(t))},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t){this.setNextCallback(t),e?(v["default"](e,b,this.nextCallback),setTimeout(this.nextCallback,this.props.timeout)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===w)return null;var n=this.props,r=n.children,i=n.className,a=o(n,["children","className"]);Object.keys(t.propTypes).forEach(function(e){return delete a[e]});var s=void 0;e===C?s=this.props.exitedClassName:e===_?s=this.props.enteringClassName:e===x?s=this.props.enteredClassName:e===E&&(s=this.props.exitingClassName);var u=c["default"].Children.only(r);return c["default"].cloneElement(u,l({},a,{className:y["default"](u.props.className,i,s)}))},t}(c["default"].Component);T.propTypes={"in":c["default"].PropTypes.bool,unmountOnExit:c["default"].PropTypes.bool,transitionAppear:c["default"].PropTypes.bool,timeout:c["default"].PropTypes.number,exitedClassName:c["default"].PropTypes.string,exitingClassName:c["default"].PropTypes.string,enteredClassName:c["default"].PropTypes.string,enteringClassName:c["default"].PropTypes.string,onEnter:c["default"].PropTypes.func,onEntering:c["default"].PropTypes.func,onEntered:c["default"].PropTypes.func,onExit:c["default"].PropTypes.func,onExiting:c["default"].PropTypes.func,onExited:c["default"].PropTypes.func},T.displayName="Transition",T.defaultProps={"in":!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:s,onEntering:s,onEntered:s,onExit:s,onExiting:s,onExited:s},t["default"]=T},function(e,t,n){"use strict";function r(){var e,t="",n={O:"otransitionend",Moz:"transitionend",Webkit:"webkitTransitionEnd",ms:"MSTransitionEnd"},r=document.createElement("div");for(var o in n)if(u.call(n,o)&&void 0!==r.style[o+"TransitionProperty"]){t="-"+o.toLowerCase()+"-",e=n[o];break}return e||void 0===r.style.transitionProperty||(e="transitionend"),{end:e,prefix:t}}var o,i,a,s,l=n(82),u=Object.prototype.hasOwnProperty,c="transform",d={};l&&(d=r(),c=d.prefix+c,a=d.prefix+"transition-property",i=d.prefix+"transition-duration",s=d.prefix+"transition-delay",o=d.prefix+"transition-timing-function"),e.exports={transform:c,end:d.end,property:a,timing:o,delay:s,duration:i}},function(e,t){"use strict";e.exports=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";var r=n(82),o=function(){};r&&(o=function(){return document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n)}:void 0}()),e.exports=o},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}},null)}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(86),c=a(u),d=n(88),p=a(d),f=n(89),h=a(f),m=n(90),v=a(m),g=n(143),y=a(g),b=n(20),w=a(b),C=n(65),_=a(C),x=n(53),E=a(x),T=n(49),k=a(T),P=n(158),S=a(P),O=n(159),I=a(O),N=n(24),A=n(84),M=a(A),D=n(162),j=a(D),L=n(33),R=a(L),F=n(52),B=a(F),U=n(164),$=a(U),H=n(170),W=a(H),z="toggle-btn",V=W["default"].defaultProps.bsRole,q=$["default"].defaultProps.bsRole,K=function(e){function t(n){o(this,t),e.call(this,n),this.Toggle=W["default"],this.toggleOpen=this.toggleOpen.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClose=this.handleClose.bind(this),this.extractChildren=this.extractChildren.bind(this),this.refineMenu=this.refineMenu.bind(this),this.refineToggle=this.refineToggle.bind(this),this.childExtractors=[{key:"toggle",matches:function(e){return e.props.bsRole===V},refine:this.refineToggle},{key:"menu",exclusive:!0,matches:function(e){return e.props.bsRole===q},refine:this.refineMenu}],this.state={},this.lastOpenEventType=null}return r(t,e),t.prototype.componentDidMount=function(){this.focusNextOnOpen()},t.prototype.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=p["default"](_["default"].findDOMNode(this.refs.menu),c["default"](document)))},t.prototype.componentDidUpdate=function(e){this.props.open&&!e.open&&this.focusNextOnOpen(),!this.props.open&&e.open&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.prototype.render=function(){var e,t=this.extractChildren(),n=this.props.componentClass,r=y["default"](this.props,["id","bsClass","role","onSelect"]),o=N.prefix(this.props),a=(e={open:this.props.open,disabled:this.props.disabled},e[o]=!this.props.dropup,e.dropup=this.props.dropup,e);return w["default"].createElement(n,i({},r,{className:l["default"](this.props.className,a)}),t)},t.prototype.toggleOpen=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=!this.props.open;t&&(this.lastOpenEventType=e),this.props.onToggle&&this.props.onToggle(t)},t.prototype.handleClick=function(){this.props.disabled||this.toggleOpen("click")},t.prototype.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case h["default"].codes.down:this.props.open?this.refs.menu.focusNext&&this.refs.menu.focusNext():this.toggleOpen("keydown"),e.preventDefault();break;case h["default"].codes.esc:case h["default"].codes.tab:this.handleClose(e)}},t.prototype.handleClose=function(){this.props.open&&this.toggleOpen()},t.prototype.focusNextOnOpen=function(){var e=this.refs.menu;e.focusNext&&("keydown"===this.lastOpenEventType||"menuitem"===this.props.role)&&e.focusNext()},t.prototype.focus=function(){var e=_["default"].findDOMNode(this.refs[z]);e&&e.focus&&e.focus()},t.prototype.extractChildren=function(){var e=this,t=!!this.props.open,n={};return R["default"].map(this.props.children,function(r){var o=v["default"](e.childExtractors,function(e){return e.matches(r)});if(o){if(n[o.key])return!1;n[o.key]=o.exclusive,r=o.refine(r,t)}return r})},t.prototype.refineMenu=function(e,t){var n={ref:"menu",open:t,labelledBy:this.props.id,pullRight:this.props.pullRight,bsClass:this.props.bsClass};return n.onClose=M["default"](e.props.onClose,this.props.onClose,this.handleClose),n.onSelect=M["default"](e.props.onSelect,this.props.onSelect,this.handleClose),b.cloneElement(e,n,e.props.children)},t.prototype.refineToggle=function(e,t){var n={open:t,id:this.props.id,ref:z,role:this.props.role};return n.onClick=M["default"](e.props.onClick,this.handleClick),n.onKeyDown=M["default"](e.props.onKeyDown,this.handleKeyDown),b.cloneElement(e,n,e.props.children)},t}(w["default"].Component);K.Toggle=W["default"],K.TOGGLE_REF=z,K.TOGGLE_ROLE=V,K.MENU_ROLE=q,K.defaultProps={componentClass:B["default"],bsClass:"dropdown"},K.propTypes={bsClass:w["default"].PropTypes.string,dropup:w["default"].PropTypes.bool,id:S["default"](w["default"].PropTypes.oneOfType([w["default"].PropTypes.string,w["default"].PropTypes.number])),componentClass:k["default"],children:E["default"](j["default"].requiredRoles(V,q),j["default"].exclusiveRoles(q)),disabled:w["default"].PropTypes.bool,pullRight:w["default"].PropTypes.bool,open:w["default"].PropTypes.bool,onClose:w["default"].PropTypes.func,onToggle:w["default"].PropTypes.func,onSelect:w["default"].PropTypes.func,role:w["default"].PropTypes.string},K=I["default"](K,{open:"onToggle"}),K.Toggle=W["default"],K.Menu=$["default"],t["default"]=K,e.exports=t["default"]},function(e,t,n){"use strict";function r(){var e=void 0===arguments[0]?document:arguments[0];try{return e.activeElement}catch(t){}}var o=n(78);t.__esModule=!0,t["default"]=r;var i=n(87);o.interopRequireDefault(i);e.exports=t["default"]},function(e,t){"use strict";function n(e){return e&&e.ownerDocument||document}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(82),o=function(){var e=r&&document.documentElement;return e&&e.contains?function(e,t){return e.contains(t)}:e&&e.compareDocumentPosition?function(e,t){return e===t||!!(16&e.compareDocumentPosition(t))}:function(e,t){if(t)do if(t===e)return!0;while(t=t.parentNode);return!1}}();e.exports=o},function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var o=String(e),a=n[o.toLowerCase()];if(a)return a;var a=r[o.toLowerCase()];return a?a:1===o.length?o.charCodeAt(0):void 0};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};for(o=97;123>o;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;58>o;o++)n[o-48]=o;for(o=1;13>o;o++)n["f"+o]=o+111;for(o=0;10>o;o++)n["numpad "+o]=o+96;var i=t.names=t.title={};for(o in n)i[n[o]]=o;for(var a in r)n[a]=r[a]},function(e,t,n){var r=n(91),o=n(116),i=o(r);e.exports=i},function(e,t,n){var r=n(92),o=n(115),i=o(r);e.exports=i},function(e,t,n){function r(e,t){return o(e,t,i)}var o=n(93),i=n(100);e.exports=r},function(e,t,n){var r=n(94),o=r();e.exports=o},function(e,t,n){function r(e){return function(t,n,r){for(var i=o(t),a=r(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(i[u],u,i)===!1)break}return t}}var o=n(95);e.exports=r},function(e,t,n){function r(e){if(a.unindexedChars&&i(e)){for(var t=-1,n=e.length,r=Object(e);++t<n;)r[t]=e.charAt(t);return r}return o(e)?e:Object(e)}var o=n(96),i=n(97),a=n(99);e.exports=r},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){return"string"==typeof e||o(e)&&s.call(e)==i}var o=n(98),i="[object String]",a=Object.prototype,s=a.toString;e.exports=r},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.prototype,r=Error.prototype,o=Object.prototype,i=o.propertyIsEnumerable,a=n.splice,s={};!function(e){var t=function(){this.x=e},n={0:e,length:e},o=[];t.prototype={valueOf:e,y:e};for(var l in new t)o.push(l);s.enumErrorProps=i.call(r,"message")||i.call(r,"name"),s.enumPrototypes=i.call(t,"prototype"),s.nonEnumShadows=!/valueOf/.test(o),s.ownLast="x"!=o[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),e.exports=s},function(e,t,n){var r=n(101),o=n(105),i=n(96),a=n(109),s=n(99),l=r(Object,"keys"),u=l?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?s.enumPrototypes:o(e))?a(e):i(e)?l(e):[]}:a;e.exports=u},function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}var o=n(102);e.exports=r},function(e,t,n){function r(e){return null==e?!1:o(e)?d.test(u.call(e)):a(e)&&(i(e)?d:s).test(e)}var o=n(103),i=n(104),a=n(98),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return o(e)&&s.call(e)==i}var o=n(96),i="[object Function]",a=Object.prototype,s=a.toString;e.exports=r},function(e,t){var n=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();e.exports=n},function(e,t,n){function r(e){return null!=e&&i(o(e))}var o=n(106),i=n(108);e.exports=r},function(e,t,n){var r=n(107),o=r("length");e.exports=o},function(e,t,n){function r(e){return function(t){return null==t?void 0:o(t)[e]}}var o=n(95);e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,c=!!r&&s(r)&&(i(e)||o(e)||l(e)),p=-1,f=[];++p<n;){var h=t[p];(c&&a(h,r)||d.call(e,h))&&f.push(h)}return f}var o=n(110),i=n(111),a=n(112),s=n(108),l=n(97),u=n(113),c=Object.prototype,d=c.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e)&&o(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var o=n(105),i=n(98),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;e.exports=r},function(e,t,n){var r=n(101),o=n(108),i=n(98),a="[object Array]",s=Object.prototype,l=s.toString,u=r(Array,"isArray"),c=u||function(e){return i(e)&&o(e.length)&&l.call(e)==a};e.exports=c},function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,o=9007199254740991;e.exports=n},function(e,t,n){function r(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&u(t)&&(a(e)||i(e)||d(e))&&t||0;for(var n=e.constructor,r=-1,o=s(n)&&n.prototype||E,f=o===e,h=Array(t),m=t>0,g=p.enumErrorProps&&(e===x||e instanceof Error),y=p.enumPrototypes&&s(e);++r<t;)h[r]=r+"";for(var w in e)y&&"prototype"==w||g&&("message"==w||"name"==w)||m&&l(w,t)||"constructor"==w&&(f||!k.call(e,w))||h.push(w);if(p.nonEnumShadows&&e!==E){var O=e===T?C:e===x?v:P.call(e),I=S[O]||S[b];for(O==b&&(o=E),t=_.length;t--;){w=_[t];var N=I[w];f&&N||(N?!k.call(e,w):e[w]===o[w])||h.push(w)}}return h}var o=n(114),i=n(110),a=n(111),s=n(103),l=n(112),u=n(108),c=n(96),d=n(97),p=n(99),f="[object Array]",h="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Function]",y="[object Number]",b="[object Object]",w="[object RegExp]",C="[object String]",_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],x=Error.prototype,E=Object.prototype,T=String.prototype,k=E.hasOwnProperty,P=E.toString,S={};S[f]=S[m]=S[y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},S[h]=S[C]={constructor:!0,toString:!0,valueOf:!0},S[v]=S[g]=S[w]={constructor:!0,toString:!0},S[b]={constructor:!0},o(_,function(e){for(var t in S)if(k.call(S,t)){var n=S[t];n[e]=k.call(n,e)}}),e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){var s=n?o(n):0;if(!i(s))return e(n,r);for(var l=t?s:-1,u=a(n);(t?l--:++l<s)&&r(u[l],l,u)!==!1;);return n}}var o=n(106),i=n(108),a=n(95);e.exports=r},function(e,t,n){function r(e,t){return function(n,r,l){if(r=o(r,l,3),s(n)){var u=a(n,r,t);return u>-1?n[u]:void 0}return i(n,r,e)}}var o=n(117),i=n(141),a=n(142),s=n(111);e.exports=r},function(e,t,n){function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:a(e,t,n):null==e?s:"object"==r?o(e):void 0===t?l(e):i(e,t)}var o=n(118),i=n(130),a=n(137),s=n(138),l=n(139);e.exports=r},function(e,t,n){function r(e){var t=i(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:(e=a(e),e[n]===r&&(void 0!==r||n in e))}}return function(e){return o(e,t)}}var o=n(119),i=n(127),a=n(95);e.exports=r},function(e,t,n){function r(e,t,n){var r=t.length,a=r,s=!n;if(null==e)return!a;for(e=i(e);r--;){var l=t[r];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<a;){l=t[r];var u=l[0],c=e[u],d=l[1];if(s&&l[2]){if(void 0===c&&!(u in e))return!1}else{var p=n?n(c,d,u):void 0;if(!(void 0===p?o(d,c,n,!0):p))return!1}}return!0}var o=n(120),i=n(95);e.exports=r},function(e,t,n){function r(e,t,n,s,l,u){return e===t?!0:null==e||null==t||!i(e)&&!a(t)?e!==e&&t!==t:o(e,t,r,n,s,l,u)}var o=n(121),i=n(96),a=n(98);e.exports=r},function(e,t,n){function r(e,t,n,r,f,v,g){var y=s(e),b=s(t),w=d,C=d;y||(w=m.call(e),w==c?w=p:w!=p&&(y=u(e))),b||(C=m.call(t),C==c?C=p:C!=p&&(b=u(t)));var _=w==p&&!l(e),x=C==p&&!l(t),E=w==C;if(E&&!y&&!_)return i(e,t,w);if(!f){var T=_&&h.call(e,"__wrapped__"),k=x&&h.call(t,"__wrapped__");if(T||k)return n(T?e.value():e,k?t.value():t,r,f,v,g)}if(!E)return!1;v||(v=[]),g||(g=[]);for(var P=v.length;P--;)if(v[P]==e)return g[P]==t;v.push(e),g.push(t);var S=(y?o:a)(e,t,n,r,f,v,g);return v.pop(),g.pop(),S}var o=n(122),i=n(124),a=n(125),s=n(111),l=n(104),u=n(126),c="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype,h=f.hasOwnProperty,m=f.toString;e.exports=r},function(e,t,n){function r(e,t,n,r,i,a,s){var l=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++l<u;){var d=e[l],p=t[l],f=r?r(i?p:d,i?d:p,l):void 0;if(void 0!==f){if(f)continue;return!1}if(i){if(!o(t,function(e){return d===e||n(d,e,r,i,a,s)}))return!1}else if(d!==p&&!n(d,p,r,i,a,s))return!1}return!0}var o=n(123);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t,n){switch(n){case r:case o:return+e==+t;case i:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case s:case l:return e==t+""}return!1}var r="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",s="[object RegExp]",l="[object String]";e.exports=n},function(e,t,n){function r(e,t,n,r,i,s,l){var u=o(e),c=u.length,d=o(t),p=d.length;if(c!=p&&!i)return!1;for(var f=c;f--;){var h=u[f];if(!(i?h in t:a.call(t,h)))return!1}for(var m=i;++f<c;){h=u[f];var v=e[h],g=t[h],y=r?r(i?g:v,i?v:g,h):void 0;if(!(void 0===y?n(v,g,r,i,s,l):y))return!1;m||(m="constructor"==h)}if(!m){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var o=n(100),i=Object.prototype,a=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e)&&o(e.length)&&!!O[N.call(e)]}var o=n(108),i=n(98),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",C="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",S="[object Uint32Array]",O={};O[w]=O[C]=O[_]=O[x]=O[E]=O[T]=O[k]=O[P]=O[S]=!0,O[a]=O[s]=O[b]=O[l]=O[u]=O[c]=O[d]=O[p]=O[f]=O[h]=O[m]=O[v]=O[g]=O[y]=!1;var I=Object.prototype,N=I.toString;e.exports=r},function(e,t,n){function r(e){for(var t=i(e),n=t.length;n--;)t[n][2]=o(t[n][1]);return t}var o=n(128),i=n(129);e.exports=r},function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(96);e.exports=r},function(e,t,n){function r(e){e=i(e);for(var t=-1,n=o(e),r=n.length,a=Array(r);++t<r;){var s=n[t];a[t]=[s,e[s]]}return a}var o=n(100),i=n(95);e.exports=r},function(e,t,n){function r(e,t){var n=s(e),r=l(e)&&u(t),f=e+"";return e=p(e),function(s){if(null==s)return!1;var l=f;if(s=d(s),(n||!r)&&!(l in s)){if(s=1==e.length?s:o(s,a(e,0,-1)),null==s)return!1;l=c(e),s=d(s)}return s[l]===t?void 0!==t||l in s:i(t,s[l],void 0,!0)}}var o=n(131),i=n(120),a=n(132),s=n(111),l=n(133),u=n(128),c=n(134),d=n(95),p=n(135);e.exports=r},function(e,t,n){function r(e,t,n){if(null!=e){e=o(e),void 0!==n&&n in e&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=o(e)[t[r++]];return r&&r==i?e:void 0}}var o=n(95);e.exports=r},function(e,t){function n(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}e.exports=n},function(e,t,n){function r(e,t){var n=typeof e;if("string"==n&&s.test(e)||"number"==n)return!0;if(o(e))return!1;var r=!a.test(e);return r||null!=t&&e in i(t)}var o=n(111),i=n(95),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e){if(i(e))return e;var t=[];return o(e).replace(a,function(e,n,r,o){t.push(r?o.replace(s,"$1"):n||e)}),t}var o=n(136),i=n(111),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=r},function(e,t){function n(e){return null==e?"":e+""}e.exports=n},function(e,t,n){function r(e,t,n){if("function"!=typeof e)return o;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}var o=n(138);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var o=n(107),i=n(140),a=n(133);e.exports=r},function(e,t,n){function r(e){var t=e+"";return e=i(e),function(n){return o(n,e,t)}}var o=n(131),i=n(135);e.exports=r},function(e,t){function n(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}e.exports=n},function(e,t){function n(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){var r=n(144),o=n(145),i=n(152),a=n(137),s=n(113),l=n(154),u=n(155),c=n(157),d=c(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=r(i(t),String);return l(e,o(s(e),t))}var n=a(t[0],t[1],3);return u(e,function(e,t,r){return!n(e,t,r)})});e.exports=d},function(e,t){function n(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var l=-1,u=o,c=!0,d=c&&t.length>=s?a(t):null,p=t.length;d&&(u=i,c=!1,t=d);e:for(;++l<n;){var f=e[l];if(c&&f===f){for(var h=p;h--;)if(t[h]===f)continue e;r.push(f)}else u(t,f,0)<0&&r.push(f)}return r}var o=n(146),i=n(148),a=n(149),s=200;e.exports=r},function(e,t,n){function r(e,t,n){if(t!==t)return o(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var o=n(147);e.exports=r},function(e,t){function n(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}e.exports=n},function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||o(t)?n.set.has(t):n.hash[t];return r?0:-1}var o=n(96);e.exports=r},function(e,t,n){(function(t){function r(e){return s&&a?new o(e):null}var o=n(150),i=n(101),a=i(t,"Set"),s=i(Object,"create");e.exports=r}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var o=n(151),i=n(101),a=i(t,"Set"),s=i(Object,"create");r.prototype.push=o,e.exports=r}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=this.data;"string"==typeof e||o(e)?t.set.add(e):t.hash[e]=!0}var o=n(96);e.exports=r},function(e,t,n){function r(e,t,n,u){u||(u=[]);for(var c=-1,d=e.length;++c<d;){var p=e[c];l(p)&&s(p)&&(n||a(p)||i(p))?t?r(p,t,n,u):o(u,p):n||(u[u.length]=p)}return u}var o=n(153),i=n(110),a=n(111),s=n(105),l=n(98);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e,t){e=o(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}var o=n(95);e.exports=r},function(e,t,n){function r(e,t){var n={};return o(e,function(e,r,o){t(e,r,o)&&(n[r]=e)}),n}var o=n(156);e.exports=r},function(e,t,n){function r(e,t){return o(e,t,i)}var o=n(93),i=n(113);e.exports=r},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);
case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",o=Math.max;e.exports=n},function(e,t){"use strict";function n(e){return function(t,n,r){return null==t[n]?new Error("The prop '"+n+"' is required to make '"+r+"' accessible for users using assistive technologies such as screen readers"):e(t,n,r)}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r,o){n&&(e._notifying=!0,n.call.apply(n,[e,r].concat(o)),e._notifying=!1),e._values[t]=r,e.isMounted()&&e.forceUpdate()}t.__esModule=!0;var i=n(160),a=r(i),s={shouldComponentUpdate:function(){return!this._notifying}};t["default"]=a["default"]([s],o),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){function n(r,o){function a(e,n){var r=d.getLinkName(e),i=this.props[o[e]];r&&l(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;a>u;u++)s[u-2]=arguments[u];t(this,e,i,n,s)}function l(e,t){return void 0!==e[t]}var c,p=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],f=r.displayName||r.name||"Component",h=d.getType(r).propTypes;c=d.uncontrolledPropTypes(o,h,f),p=d.transform(p,function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}},{});var m=u["default"].createClass(s({displayName:"Uncontrolled("+f+")",mixins:e,propTypes:c},p,{componentWillMount:function(){var e=this.props,t=Object.keys(o);this._values=d.transform(t,function(t,n){t[n]=e[d.defaultKey(n)]},{})},componentWillReceiveProps:function(e){var t=this,n=this.props,r=Object.keys(o);r.forEach(function(r){void 0===d.getValue(e,r)&&void 0!==d.getValue(n,r)&&(t._values[r]=e[d.defaultKey(r)])})},render:function(){var e=this,t={},n=this.props,c=(n.valueLink,n.checkedLink,i(n,["valueLink","checkedLink"]));return d.each(o,function(n,r){var o=d.getLinkName(r),i=e.props[r];o&&!l(e.props,r)&&l(e.props,o)&&(i=e.props[o].value),t[r]=void 0!==i?i:e._values[r],t[n]=a.bind(e,r)}),t=s({},c,t,{ref:"inner"}),u["default"].createElement(r,t)}}));return m.ControlledComponent=r,m.deferControlTo=function(e,t,r){return void 0===t&&(t={}),n(e,s({},o,t),r)},m}return n}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var l=n(20),u=o(l),c=n(161),d=r(c);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return function(r,o){return void 0!==r[o]?r[e]?t&&t(r,o,n):new Error("You have provided a `"+o+"` prop to `"+n+"` without an `"+e+"` handler. This will render a read-only field. If the field should be mutable use `"+c(o)+"`. Otherwise, set `"+e+"`"):void 0}}function i(e,t,n){var r={};return t&&p(e,function(e,r,i){var a=t[i];y["default"]("string"==typeof r&&r.trim().length,"Uncontrollable - [%s]: the prop `%s` needs a valid handler key name in order to make it uncontrollable",n,i),e[i]=o(r,a,n),void 0!==a&&(e[c(i)]=a)},r),r}function a(e){return b[0]>=15||0===b[0]&&b[1]>=13?e:e.type}function s(e,t){var n=u(t);return n&&!l(e,t)&&l(e,n)?e[n].value:e[t]}function l(e,t){return void 0!==e[t]}function u(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function c(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function d(e,t,n){return function(){for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];t&&t.call.apply(t,[e].concat(o)),n&&n.call.apply(n,[e].concat(o))}}function p(e,t,n){return f(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n}function f(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)h(e,r)&&t.call(n,e[r],r,e)}function h(e,t){return e?Object.prototype.hasOwnProperty.call(e,t):!1}t.__esModule=!0,t.customPropType=o,t.uncontrolledPropTypes=i,t.getType=a,t.getValue=s,t.getLinkName=u,t.defaultKey=c,t.chain=d,t.transform=p,t.each=f,t.has=h;var m=n(20),v=r(m),g=n(32),y=r(g),b=v["default"].version.split(".").map(parseFloat);t.version=b},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=!0;var o=n(50),i=n(163),a=r(i);t["default"]={requiredRoles:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return o.createChainableTypeChecker(function(e,n,r){var o=void 0,i=a["default"](e.children),s=function(e,t){return e===t.props.bsRole};return t.every(function(e){return i.some(function(t){return s(e,t)})?!0:(o=e,!1)}),o?new Error("(children) "+r+" - Missing a required child with bsRole: "+o+". "+(r+" must have at least one child of each of the following bsRoles: "+t.join(", "))):void 0})},exclusiveRoles:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return o.createChainableTypeChecker(function(e,n,r){var o=a["default"](e.children),i=void 0;return t.every(function(e){var t=o.filter(function(t){return t.props.bsRole===e});return t.length>1?(i=e,!1):!0}),i?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+i+". Only one child each allowed with the following bsRoles: "+t.join(", ")):void 0})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){var t=[];return void 0===e?t:(a["default"].forEach(e,function(e){t.push(e)}),t)}var o=n(1)["default"];t.__esModule=!0,t["default"]=r;var i=n(33),a=o(i);e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(89),d=s(c),p=n(20),f=s(p),h=n(65),m=s(h),v=n(24),g=n(84),y=s(g),b=n(33),w=s(b),C=n(165),_=s(C),x=function(e){function t(n){o(this,t),e.call(this,n),this.focusNext=this.focusNext.bind(this),this.focusPrevious=this.focusPrevious.bind(this),this.getFocusableMenuItems=this.getFocusableMenuItems.bind(this),this.getItemsAndActiveIndex=this.getItemsAndActiveIndex.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}return r(t,e),t.prototype.handleKeyDown=function(e){switch(e.keyCode){case d["default"].codes.down:this.focusNext(),e.preventDefault();break;case d["default"].codes.up:this.focusPrevious(),e.preventDefault();break;case d["default"].codes.esc:case d["default"].codes.tab:this.props.onClose(e)}},t.prototype.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeItemIndex;return 0!==t.length?n===t.length-1?void t[0].focus():void t[n+1].focus():void 0},t.prototype.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeItemIndex;return 0===n?void t[t.length-1].focus():void t[n-1].focus()},t.prototype.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=document.activeElement,n=e.indexOf(t);return{items:e,activeItemIndex:n}},t.prototype.getFocusableMenuItems=function(){var e=m["default"].findDOMNode(this);return void 0===e?[]:[].slice.call(e.querySelectorAll('[tabIndex="-1"]'),0)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.children,o=n.onSelect,s=n.pullRight,l=n.className,c=n.labelledBy,d=n.open,p=n.onClose,h=i(n,["children","onSelect","pullRight","className","labelledBy","open","onClose"]),m=w["default"].map(r,function(e){var n=e.props||{};return f["default"].cloneElement(e,{onKeyDown:y["default"](n.onKeyDown,t.handleKeyDown),onSelect:y["default"](n.onSelect,o)},n.children)}),g=(e={},e[v.prefix(this.props,"menu")]=!0,e[v.prefix(this.props,"menu-right")]=s,e),b=f["default"].createElement("ul",a({className:u["default"](l,g),role:"menu","aria-labelledby":c},h),m);return d&&(b=f["default"].createElement(_["default"],{noWrap:!0,onRootClose:p},b)),b},t}(f["default"].Component);x.defaultProps={bsRole:"menu",bsClass:"dropdown",pullRight:!1},x.propTypes={open:f["default"].PropTypes.bool,pullRight:f["default"].PropTypes.bool,onClose:f["default"].PropTypes.func,labelledBy:f["default"].PropTypes.oneOfType([f["default"].PropTypes.string,f["default"].PropTypes.number]),onSelect:f["default"].PropTypes.func},t["default"]=x,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return 0===e.button}function s(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l(){var e=b+"_"+w++;return{id:e,suppressRootClose:function(t){t.nativeEvent[e]=!0}}}t.__esModule=!0;var u=n(20),c=r(u),d=n(65),p=r(d),f=n(166),h=r(f),m=n(168),v=r(m),g=n(169),y=r(g),b="__click_was_inside",w=0,C=function(e){function t(n){o(this,t),e.call(this,n),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this);var r=l(),i=r.id,a=r.suppressRootClose;this._suppressRootId=i,this._suppressRootCloseHandler=a}return i(t,e),t.prototype.bindRootCloseHandlers=function(){var e=y["default"](this);this._onDocumentClickListener=h["default"](e,"click",this.handleDocumentClick),this._onDocumentKeyupListener=h["default"](e,"keyup",this.handleDocumentKeyUp)},t.prototype.handleDocumentClick=function(e){e[this._suppressRootId]||!s(e)&&a(e)&&this.props.onRootClose()},t.prototype.handleDocumentKeyUp=function(e){27===e.keyCode&&this.props.onRootClose()},t.prototype.unbindRootCloseHandlers=function(){this._onDocumentClickListener&&this._onDocumentClickListener.remove(),this._onDocumentKeyupListener&&this._onDocumentKeyupListener.remove()},t.prototype.componentDidMount=function(){this.bindRootCloseHandlers()},t.prototype.render=function(){var e=this.props,t=e.noWrap,n=e.children,r=c["default"].Children.only(n);return t?c["default"].cloneElement(r,{onClick:v["default"](this._suppressRootCloseHandler,r.props.onClick)}):c["default"].createElement("div",{onClick:this._suppressRootCloseHandler},r)},t.prototype.getWrappedDOMNode=function(){var e=p["default"].findDOMNode(this);return this.props.noWrap?e:e.firstChild},t.prototype.componentWillUnmount=function(){this.unbindRootCloseHandlers()},t}(c["default"].Component);t["default"]=C,C.displayName="RootCloseWrapper",C.propTypes={onRootClose:c["default"].PropTypes.func.isRequired,noWrap:c["default"].PropTypes.bool},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(83),i=r(o),a=n(167),s=r(a);t["default"]=function(e,t,n){return i["default"](e,t,n),{remove:function(){s["default"](e,t,n)}}},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(82),o=function(){};r&&(o=function(){return document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}()),e.exports=o},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}},null)}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(65),i=r(o),a=n(87),s=r(a);t["default"]=function(e){return s["default"](i["default"].findDOMNode(e))},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(20),l=a(s),u=n(23),c=a(u),d=n(51),p=a(d),f=n(40),h=a(f),m=l["default"].createElement("span",null," ",l["default"].createElement("span",{className:"caret"})),v=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props.noCaret?null:m,t={"dropdown-toggle":!0},n=this.props.useAnchor?h["default"]:p["default"];return l["default"].createElement(n,i({},this.props,{className:c["default"](t,this.props.className),role:"button","aria-haspopup":!0,"aria-expanded":this.props.open}),this.props.children||this.props.title,e)},t}(l["default"].Component);t["default"]=v,v.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"},v.propTypes={bsRole:l["default"].PropTypes.string,noCaret:l["default"].PropTypes.bool,open:l["default"].PropTypes.bool,title:l["default"].PropTypes.string,useAnchor:l["default"].PropTypes.bool},v.isToggle=!0,v.titleProp="title",v.onClickProp="onClick",e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(28)["default"],l=n(1)["default"];t.__esModule=!0;var u=n(20),c=l(u),d=n(85),p=l(d),f=n(143),h=l(f),m=n(172),v=l(m),g=n(51),y=l(g),b=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.bsStyle,n=e.bsSize,r=e.disabled,o=this.props,l=o.title,u=o.children,d=a(o,["title","children"]),f=v["default"](d,s(p["default"].ControlledComponent.propTypes)),m=h["default"](d,s(p["default"].ControlledComponent.propTypes));return c["default"].createElement(p["default"],i({},f,{bsSize:n,bsStyle:t}),c["default"].createElement(p["default"].Toggle,i({},m,{disabled:r}),l),c["default"].createElement(p["default"].Menu,null,u))},t}(c["default"].Component);b.propTypes=i({disabled:c["default"].PropTypes.bool,bsStyle:y["default"].propTypes.bsStyle,bsSize:y["default"].propTypes.bsSize,noCaret:c["default"].PropTypes.bool,title:c["default"].PropTypes.node.isRequired},p["default"].propTypes),b.defaultProps={disabled:!1,pullRight:!1,dropup:!1,navItem:!1,noCaret:!1},t["default"]=b,e.exports=t["default"]},function(e,t,n){var r=n(152),o=n(137),i=n(154),a=n(155),s=n(157),l=s(function(e,t){return null==e?{}:"function"==typeof t[0]?a(e,o(t[0],t[1],3)):i(e,r(t))});e.exports=l},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(20),l=a(s),u=n(23),c=a(u),d=n(80),p=a(d),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props.timeout;return l["default"].createElement(p["default"],i({},this.props,{timeout:e,className:c["default"](this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}),this.props.children)},t}(l["default"].Component);f.propTypes={"in":l["default"].PropTypes.bool,unmountOnExit:l["default"].PropTypes.bool,transitionAppear:l["default"].PropTypes.bool,timeout:l["default"].PropTypes.number,onEnter:l["default"].PropTypes.func,onEntering:l["default"].PropTypes.func,onEntered:l["default"].PropTypes.func,onExit:l["default"].PropTypes.func,onExiting:l["default"].PropTypes.func,onExited:l["default"].PropTypes.func},f.defaultProps={"in":!1,timeout:300,unmountOnExit:!1,transitionAppear:!1},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(49),f=s(p),h=n(24),m={horizontal:d["default"].PropTypes.bool,inline:d["default"].PropTypes.bool,componentClass:f["default"]},v={horizontal:!1,inline:!1,componentClass:"form"},g=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,o=e.className,s=i(e,["horizontal","inline","componentClass","className"]);delete s.bsClass;var l=[];return t&&l.push(h.prefix(this.props,"horizontal")),n&&l.push(h.prefix(this.props,"inline")),d["default"].createElement(r,a({},s,{className:u["default"](o,l)}))},t}(d["default"].Component);g.propTypes=m,g.defaultProps=v,t["default"]=h.bsClass("form",g),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(49),f=s(p),h=n(36),m=s(h),v=n(24),g=n(176),y=s(g),b=n(177),w=s(b),C={componentClass:f["default"],type:d["default"].PropTypes.string,id:d["default"].PropTypes.string},_={componentClass:"input"},x={$bs_formGroup:d["default"].PropTypes.object},E=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.componentClass,o=n.type,s=n.id,l=void 0===s?t:s,c=n.className,p=i(n,["componentClass","type","id","className"]);m["default"](null==t||l===t,"`controlId` is ignored on `<FormControl>` when `id` is specified."),delete p.bsClass;var f=void 0;return"file"!==o&&(f=v.getClassSet(this.props)),d["default"].createElement(r,a({},p,{type:o,id:l,className:u["default"](c,f)}))},t}(d["default"].Component);E.propTypes=C,E.defaultProps=_,E.contextTypes=x,E.Feedback=y["default"],E.Static=w["default"],t["default"]=v.bsClass("form-control",E),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=n(57),h=s(f),m={bsRole:"feedback"},v={$bs_formGroup:d["default"].PropTypes.object},g=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},t.prototype.renderDefaultFeedback=function(e,t,n,r){var o=this.getGlyph(e&&e.validationState);return o?d["default"].createElement(h["default"],i({},r,{glyph:o,className:u["default"](t,n)})):null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=a(e,["className","children"]);delete r.bsClass;var o=p.getClassSet(this.props);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,o,r);var s=d["default"].Children.only(n);return d["default"].cloneElement(s,i({},r,{className:u["default"](s.props.className,t,o)}))},t}(d["default"].Component);g.defaultProps=m,g.contextTypes=v,t["default"]=p.bsClass("form-control-feedback",g),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(49),f=s(p),h=n(24),m={componentClass:f["default"]},v={componentClass:"p"},g=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=i(e,["componentClass","className"]);delete r.bsClass;var o=h.getClassSet(this.props);return d["default"].createElement(t,a({},r,{className:u["default"](n,o)}))},t}(d["default"].Component);g.propTypes=m,g.defaultProps=v,t["default"]=h.bsClass("form-control-static",g),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=n(49),c=o(u),d=a["default"].createClass({displayName:"Grid",propTypes:{fluid:a["default"].PropTypes.bool,componentClass:c["default"]},getDefaultProps:function(){return{componentClass:"div",fluid:!1}},render:function(){var e=this.props.componentClass,t=this.props.fluid?"container-fluid":"container";return a["default"].createElement(e,r({},this.props,{className:l["default"](this.props.className,t)}),this.props.children)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=i(e,["className"]);delete n.bsClass;var r=p.getClassSet(this.props);return d["default"].createElement("span",a({},n,{className:u["default"](t,r)}))},t}(d["default"].Component);t["default"]=p.bsClass("help-block",f),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=a["default"].createClass({displayName:"Image",propTypes:{responsive:a["default"].PropTypes.bool,rounded:a["default"].PropTypes.bool,circle:a["default"].PropTypes.bool,thumbnail:a["default"].PropTypes.bool},getDefaultProps:function(){return{responsive:!1,rounded:!1,circle:!1,thumbnail:!1}},render:function(){var e={"img-responsive":this.props.responsive,"img-rounded":this.props.rounded,"img-circle":this.props.circle,"img-thumbnail":this.props.thumbnail};return a["default"].createElement("img",r({},this.props,{className:l["default"](this.props.className,e)}))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(1)["default"],a=n(2)["default"];t.__esModule=!0;var s=n(20),l=i(s),u=n(182),c=a(u),d=n(56),p=i(d),f=n(60),h=i(f),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return"static"===this.props.type?(h["default"]("Input type=static","FormControls.Static"),l["default"].createElement(c.Static,this.props)):e.prototype.render.call(this)},t}(p["default"]);m.propTypes={type:l["default"].PropTypes.string},t["default"]=h["default"].wrapper(m,"`<Input>`","`<FormControl>`, `<Checkbox>`, or `<Radio>`, with `<FormGroup>` and/or `<InputGroup>` as needed"),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=!0;var o=n(183),i=r(o);t.Static=i["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(49),f=s(p),h=n(56),m=s(h),v=n(58),g=s(v),y=n(60),b=s(y),w=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.getValue=function(){var e=this.props,t=e.children,n=e.value;return t?t:n},t.prototype.renderInput=function(){var e=this.props,t=e.componentClass,n=i(e,["componentClass"]);return d["default"].createElement(t,a({},n,{className:u["default"](n.className,"form-control-static"),ref:"input",key:"input"}),this.getValue())},t}(m["default"]);w.propTypes={value:g["default"],componentClass:f["default"],children:g["default"]},w.defaultProps={componentClass:"p"},t["default"]=b["default"].wrapper(w,"`<FormControls.Static>`","`<FormControl.Static>`"),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(25),f=n(24),h=n(185),m=s(h),v=n(186),g=s(v),y=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=i(e,["className"]);delete n.bsClass,delete n.bsSize;var r=f.getClassSet(this.props);return d["default"].createElement("span",a({},n,{className:u["default"](t,r)}))},t}(d["default"].Component);y.Addon=m["default"],y.Button=g["default"],t["default"]=f.bsClass("input-group",f.bsSizes([p.Sizes.LARGE,p.Sizes.SMALL],y)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=i(e,["className"]);delete n.bsClass;var r=p.getClassSet(this.props);return d["default"].createElement("span",a({},n,{className:u["default"](t,r)}))},t}(d["default"].Component);t["default"]=p.bsClass("input-group-addon",f),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=i(e,["className"]);delete n.bsClass;var r=p.getClassSet(this.props);return d["default"].createElement("span",a({},n,{className:u["default"](t,r)}))},t}(d["default"].Component);t["default"]=p.bsClass("input-group-btn",f),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(33),u=i(l),c=/\%\((.+?)\)s/,d=s["default"].createClass({displayName:"Interpolate",propTypes:{component:s["default"].PropTypes.node,format:s["default"].PropTypes.string,unsafe:s["default"].PropTypes.bool},getDefaultProps:function(){return{component:"span",unsafe:!1}},render:function(){var e=u["default"].count(this.props.children)>0||"string"==typeof this.props.children?this.props.children:this.props.format,t=this.props.component,n=this.props.unsafe===!0,o=r({},this.props);if(delete o.children,delete o.format,delete o.component,delete o.unsafe,n){var i=e.split(c).reduce(function(e,t,n){var r=void 0;if(n%2===0?r=t:(r=o[t],delete o[t]),s["default"].isValidElement(r))throw new Error("cannot interpolate a React component into unsafe text");return e+=r},"");return o.dangerouslySetInnerHTML={__html:i},s["default"].createElement(t,o)}var a=e.split(c).reduce(function(e,t,n){var r=void 0;if(n%2===0){if(0===t.length)return e;r=t}else r=o[t],delete o[t];return e.push(r),e},[]);return s["default"].createElement(t,o,a)}});o(d,{REGEXP:c}),t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=n(49),c=o(u),d=a["default"].createClass({displayName:"Jumbotron",propTypes:{componentClass:c["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass;return a["default"].createElement(e,r({},this.props,{className:l["default"](this.props.className,"jumbotron")}),this.props.children)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(25),p=n(24),f=function(e){function t(){o(this,n),e.apply(this,arguments)}r(t,e),t.prototype.render=function(){var e=p.getClassSet(this.props);return c["default"].createElement("span",i({},this.props,{className:l["default"](this.props.className,e)}),this.props.children)};var n=t;return t=p.bsStyles(d.State.values().concat(d.DEFAULT,d.PRIMARY),d.DEFAULT)(t)||t,t=p.bsClass("label")(t)||t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(20),l=a(s),u=n(191),c=a(u),d=n(23),p=a(d),f=n(33),h=a(f),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=h["default"].map(this.props.children,function(e,t){return s.cloneElement(e,{key:e.key?e.key:t})});if(this.areCustomChildren(t)){var n=this.props.componentClass;return l["default"].createElement(n,i({},this.props,{className:p["default"](this.props.className,"list-group")}),t)}var r=!1;return this.props.children?h["default"].forEach(this.props.children,function(t){e.isAnchorOrButton(t.props)&&(r=!0)}):r=!0,r?this.renderDiv(t):this.renderUL(t)},t.prototype.isAnchorOrButton=function(e){return e.href||e.onClick},t.prototype.areCustomChildren=function(e){var t=!1;return h["default"].forEach(e,function(e){e.type!==c["default"]&&(t=!0)},this),t},t.prototype.renderUL=function(e){var t=h["default"].map(e,function(e){return s.cloneElement(e,{listItem:!0})});return l["default"].createElement("ul",i({},this.props,{className:p["default"](this.props.className,"list-group")}),t)},t.prototype.renderDiv=function(e){return l["default"].createElement("div",i({},this.props,{className:p["default"](this.props.className,"list-group")}),e)},t}(l["default"].Component);m.defaultProps={componentClass:"div"},m.propTypes={className:l["default"].PropTypes.string,componentClass:l["default"].PropTypes.oneOf(["ul","div"]),id:l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.number])},t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(25),p=n(24),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=p.getClassSet(this.props);return e.active=this.props.active,e.disabled=this.props.disabled,this.props.href?this.renderAnchor(e):this.props.onClick?this.renderButton(e):this.props.listItem?this.renderLi(e):this.renderSpan(e)},t.prototype.renderLi=function(e){return c["default"].createElement("li",i({},this.props,{className:l["default"](this.props.className,e)}),this.props.header?this.renderStructuredContent():this.props.children)},t.prototype.renderAnchor=function(e){return c["default"].createElement("a",i({},this.props,{className:l["default"](this.props.className,e)}),this.props.header?this.renderStructuredContent():this.props.children)},t.prototype.renderButton=function(e){return c["default"].createElement("button",i({type:"button"},this.props,{className:l["default"](this.props.className,e)}),this.props.header?this.renderStructuredContent():this.props.children)},t.prototype.renderSpan=function(e){return c["default"].createElement("span",i({},this.props,{className:l["default"](this.props.className,e)}),this.props.header?this.renderStructuredContent():this.props.children)},t.prototype.renderStructuredContent=function(){var e=void 0,t=p.prefix(this.props,"heading");e=c["default"].isValidElement(this.props.header)?u.cloneElement(this.props.header,{key:"header",className:l["default"](this.props.header.props.className,t)}):c["default"].createElement("h4",{key:"header",className:t},this.props.header);var n=c["default"].createElement("p",{key:"content",className:p.prefix(this.props,"text")},this.props.children);return[e,n]},t}(c["default"].Component);f.propTypes={className:c["default"].PropTypes.string,active:c["default"].PropTypes.any,disabled:c["default"].PropTypes.any,header:c["default"].PropTypes.node,listItem:c["default"].PropTypes.bool,onClick:c["default"].PropTypes.func,eventKey:c["default"].PropTypes.any,href:c["default"].PropTypes.string,target:c["default"].PropTypes.string},f.defaultTypes={listItem:!1},t["default"]=p.bsStyles(d.State.values(),p.bsClass("list-group-item",f)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(5)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(20),l=a(s),u=n(49),c=a(u),d=n(23),p=a(d),f=n(193),h=a(f),m=n(194),v=a(m),g=n(195),y=a(g),b=n(196),w=a(b),C=n(197),_=a(C),x=n(198),E=a(x),T=l["default"].createClass({displayName:"Media",propTypes:{componentClass:c["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props,t=e.componentClass,n=e.className,i=r(e,["componentClass","className"]);return l["default"].createElement(t,o({},i,{className:p["default"](n,"media")}))}});T=i(T,{Heading:h["default"],Body:v["default"],Left:y["default"],Right:w["default"],List:_["default"],ListItem:E["default"]}),t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];
t.__esModule=!0;var a=n(20),s=i(a),l=n(49),u=i(l),c=n(23),d=i(c),p=s["default"].createClass({displayName:"Media.Heading",propTypes:{componentClass:u["default"]},getDefaultProps:function(){return{componentClass:"h4"}},render:function(){var e=this.props,t=e.componentClass,n=e.className,i=r(e,["componentClass","className"]);return s["default"].createElement(t,o({},i,{className:d["default"](n,"media-heading")}))}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(49),u=i(l),c=n(23),d=i(c),p=s["default"].createClass({displayName:"Media.Body",propTypes:{componentClass:u["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props,t=e.componentClass,n=e.className,i=r(e,["componentClass","className"]);return s["default"].createElement(t,o({},i,{className:d["default"](n,"media-body")}))}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=s["default"].createClass({displayName:"Media.Left",propTypes:{align:s["default"].PropTypes.oneOf(["top","middle","bottom"])},render:function(){var e,t=this.props,n=t.align,i=t.className,a=r(t,["align","className"]),l=u["default"](i,"media-left",(e={},e["media-"+n]=Boolean(n),e));return s["default"].createElement("div",o({},a,{className:l}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=s["default"].createClass({displayName:"Media.Right",propTypes:{align:s["default"].PropTypes.oneOf(["top","middle","bottom"])},render:function(){var e,t=this.props,n=t.align,i=t.className,a=r(t,["align","className"]),l=u["default"](i,"media-right",(e={},e["media-"+n]=Boolean(n),e));return s["default"].createElement("div",o({},a,{className:l}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=s["default"].createClass({displayName:"Media.List",render:function(){var e=this.props,t=e.className,n=r(e,["className"]);return s["default"].createElement("ul",o({},n,{className:u["default"](t,"media-list")}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(23),u=i(l),c=s["default"].createClass({displayName:"Media.ListItem",render:function(){var e=this.props,t=e.className,n=r(e,["className"]);return s["default"].createElement("li",o({},n,{className:u["default"](t,"media")}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(53),f=s(p),h=n(24),m=n(84),v=s(m),g=n(40),y=s(g),b=function(e){function t(n){o(this,t),e.call(this,n),this.handleClick=this.handleClick.bind(this)}return r(t,e),t.prototype.handleClick=function(e){(!this.props.href||this.props.disabled)&&e.preventDefault(),this.props.disabled||this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.prototype.render=function(){if(this.props.divider)return d["default"].createElement("li",{role:"separator",className:u["default"]("divider",this.props.className),style:this.props.style});if(this.props.header){var e=h.prefix(this.props,"header");return d["default"].createElement("li",{role:"heading",className:u["default"](e,this.props.className),style:this.props.style},this.props.children)}var t=this.props,n=t.className,r=t.style,o=t.onClick,s=i(t,["className","style","onClick"]);delete s.onSelect;var l={disabled:this.props.disabled,active:this.props.active};return d["default"].createElement("li",{role:"presentation",className:u["default"](n,l),style:r},d["default"].createElement(y["default"],a({},s,{role:"menuitem",tabIndex:"-1",onClick:v["default"](o,this.handleClick)})))},t}(d["default"].Component);b.propTypes={active:d["default"].PropTypes.bool,disabled:d["default"].PropTypes.bool,divider:f["default"](d["default"].PropTypes.bool,function(e){return e.divider&&e.children?new Error("Children will not be rendered for dividers"):void 0}),eventKey:d["default"].PropTypes.any,header:d["default"].PropTypes.bool,href:d["default"].PropTypes.string,target:d["default"].PropTypes.string,title:d["default"].PropTypes.string,onClick:d["default"].PropTypes.func,onKeyDown:d["default"].PropTypes.func,onSelect:d["default"].PropTypes.func,id:d["default"].PropTypes.oneOfType([d["default"].PropTypes.string,d["default"].PropTypes.number])},b.defaultProps={divider:!1,disabled:!1,header:!1},t["default"]=h.bsClass("dropdown",b),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(22)["default"],i=n(28)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(201),c=a(u),d=n(87),p=a(d),f=n(82),h=a(f),m=n(204),v=a(m),g=n(172),y=a(g),b=n(20),w=a(b),C=n(65),_=a(C),x=n(205),E=a(x),T=n(216),k=a(T),P=n(35),S=a(P),O=n(49),I=a(O),N=n(25),A=n(24),M=n(173),D=a(M),j=n(220),L=a(j),R=n(221),F=a(R),B=n(222),U=a(B),$=n(223),H=a($),W=n(224),z=a(W),V=w["default"].createClass({displayName:"Modal",propTypes:r({},E["default"].propTypes,L["default"].propTypes,{backdrop:w["default"].PropTypes.oneOf(["static",!0,!1]),keyboard:w["default"].PropTypes.bool,animation:w["default"].PropTypes.bool,dialogComponentClass:I["default"],dialogComponent:S["default"](I["default"],"Use `dialogComponentClass`."),autoFocus:w["default"].PropTypes.bool,enforceFocus:w["default"].PropTypes.bool,bsStyle:w["default"].PropTypes.string,show:w["default"].PropTypes.bool,onHide:w["default"].PropTypes.func,onEnter:w["default"].PropTypes.func,onEntering:w["default"].PropTypes.func,onEntered:w["default"].PropTypes.func,onExit:w["default"].PropTypes.func,onExiting:w["default"].PropTypes.func,onExited:w["default"].PropTypes.func}),childContextTypes:{$bs_onModalHide:w["default"].PropTypes.func},getDefaultProps:function(){return r({},E["default"].defaultProps,{bsClass:"modal",animation:!0,dialogComponentClass:L["default"]})},getInitialState:function(){return{modalStyles:{}}},getChildContext:function(){return{$bs_onModalHide:this.props.onHide}},componentWillUnmount:function(){c["default"].off(window,"resize",this.handleWindowResize)},render:function(){var e=this,t=this.props,n=t.className,a=(t.children,t.dialogClassName),s=t.animation,u=o(t,["className","children","dialogClassName","animation"]),c=this.state.modalStyles,d={"in":u.show&&!s},p=u.dialogComponent||u.dialogComponentClass,f=y["default"](u,i(E["default"].propTypes).concat(["onExit","onExiting","onEnter","onEntered"])),h=w["default"].createElement(p,r({key:"modal",ref:function(t){return e._modal=t}},u,{style:c,className:l["default"](n,d),dialogClassName:a,onClick:u.backdrop===!0?this.handleDialogClick:null}),this.props.children);return w["default"].createElement(E["default"],r({},f,{show:u.show,ref:function(t){e._wrapper=t&&t.refs.modal,e._backdrop=t&&t.refs.backdrop},onEntering:this._onShow,onExited:this._onHide,backdropClassName:l["default"](A.prefix(u,"backdrop"),d),containerClassName:A.prefix(u,"open"),transition:s?D["default"]:void 0,dialogTransitionTimeout:V.TRANSITION_DURATION,backdropTransitionTimeout:V.BACKDROP_TRANSITION_DURATION}),h)},_onShow:function(){if(c["default"].on(window,"resize",this.handleWindowResize),this.setState(this._getStyles()),this.props.onEntering){var e;(e=this.props).onEntering.apply(e,arguments)}},_onHide:function(){if(c["default"].off(window,"resize",this.handleWindowResize),this.props.onExited){var e;(e=this.props).onExited.apply(e,arguments)}},handleDialogClick:function(e){e.target===e.currentTarget&&this.props.onHide()},handleWindowResize:function(){this.setState(this._getStyles())},_getStyles:function(){if(!h["default"])return{};var e=_["default"].findDOMNode(this._modal),t=p["default"](e),n=e.scrollHeight,r=k["default"](_["default"].findDOMNode(this.props.container||t.body)),o=n>t.documentElement.clientHeight;return{modalStyles:{paddingRight:r&&!o?v["default"]():void 0,paddingLeft:!r&&o?v["default"]():void 0}}}});V.Body=F["default"],V.Header=U["default"],V.Title=H["default"],V.Footer=z["default"],V.Dialog=L["default"],V.TRANSITION_DURATION=300,V.BACKDROP_TRANSITION_DURATION=150,t["default"]=A.bsSizes([N.Sizes.LARGE,N.Sizes.SMALL],A.bsClass("modal",V)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(83),o=n(167),i=n(202);e.exports={on:r,off:o,filter:i}},function(e,t,n){"use strict";var r=n(88),o=n(203);e.exports=function(e,t){return function(n){var i=n.currentTarget,a=n.target,s=o(i,e);s.some(function(e){return r(e,a)})&&t.call(this,n)}}},function(e,t){"use strict";var n=/^[\w-]*$/,r=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=function(e,t){var o,i="#"===t[0],a="."===t[0],s=i||a?t.slice(1):t,l=n.test(s);return l?i?(e=e.getElementById?e:document,(o=e.getElementById(s))?[o]:[]):r(e.getElementsByClassName&&a?e.getElementsByClassName(s):e.getElementsByTagName(t)):r(e.querySelectorAll(t))}},function(e,t,n){"use strict";var r,o=n(82);e.exports=function(e){if((!r||e)&&o){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(20),s=r(a),l=n(36),u=r(l),c=n(206),d=r(c),p=n(208),f=r(p),h=n(209),m=r(h),v=n(211),g=r(v),y=n(169),b=r(y),w=n(166),C=r(w),_=n(219),x=r(_),E=n(82),T=r(E),k=n(86),P=r(k),S=n(88),O=r(S),I=n(210),N=r(I),A=new g["default"],M=s["default"].createClass({displayName:"Modal",propTypes:i({},m["default"].propTypes,{show:s["default"].PropTypes.bool,container:s["default"].PropTypes.oneOfType([d["default"],s["default"].PropTypes.func]),onShow:s["default"].PropTypes.func,onHide:s["default"].PropTypes.func,backdrop:s["default"].PropTypes.oneOfType([s["default"].PropTypes.bool,s["default"].PropTypes.oneOf(["static"])]),onEscapeKeyUp:s["default"].PropTypes.func,onBackdropClick:s["default"].PropTypes.func,backdropStyle:s["default"].PropTypes.object,backdropClassName:s["default"].PropTypes.string,containerClassName:s["default"].PropTypes.string,keyboard:s["default"].PropTypes.bool,transition:f["default"],dialogTransitionTimeout:s["default"].PropTypes.number,backdropTransitionTimeout:s["default"].PropTypes.number,autoFocus:s["default"].PropTypes.bool,enforceFocus:s["default"].PropTypes.bool,onEnter:s["default"].PropTypes.func,onEntering:s["default"].PropTypes.func,onEntered:s["default"].PropTypes.func,onExit:s["default"].PropTypes.func,onExiting:s["default"].PropTypes.func,onExited:s["default"].PropTypes.func}),getDefaultProps:function(){var e=function(){};return{show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,onHide:e}},getInitialState:function(){return{exited:!this.props.show}},render:function(){var e=this.props,t=(e.children,e.transition),n=e.backdrop,r=e.dialogTransitionTimeout,i=o(e,["children","transition","backdrop","dialogTransitionTimeout"]),l=i.onExit,u=i.onExiting,c=i.onEnter,d=i.onEntering,p=i.onEntered,f=!!i.show,h=s["default"].Children.only(this.props.children),v=f||t&&!this.state.exited;if(!v)return null;var g=h.props,y=g.role,b=g.tabIndex;return(void 0===y||void 0===b)&&(h=a.cloneElement(h,{role:void 0===y?"document":y,tabIndex:null==b?"-1":b})),t&&(h=s["default"].createElement(t,{transitionAppear:!0,unmountOnExit:!0,"in":f,timeout:r,onExit:l,onExiting:u,onExited:this.handleHidden,onEnter:c,onEntering:d,onEntered:p},h)),s["default"].createElement(m["default"],{ref:this.setMountNode,container:i.container},s["default"].createElement("div",{ref:"modal",role:i.role||"dialog",style:i.style,className:i.className},n&&this.renderBackdrop(),h))},renderBackdrop:function(){var e=this.props,t=e.transition,n=e.backdropTransitionTimeout,r=s["default"].createElement("div",{ref:"backdrop",style:this.props.backdropStyle,className:this.props.backdropClassName,onClick:this.handleBackdropClick});return t&&(r=s["default"].createElement(t,{transitionAppear:!0,"in":this.props.show,timeout:n},r)),r},componentWillReceiveProps:function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},componentWillUpdate:function(e){e.show&&this.checkForFocus()},componentDidMount:function(){this.props.show&&this.onShow()},componentDidUpdate:function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},componentWillUnmount:function(){var e=this.props,t=e.show,n=e.transition;(t||n&&!this.state.exited)&&this.onHide()},onShow:function(){var e=b["default"](this),t=N["default"](this.props.container,e.body);A.add(this,t,this.props.containerClassName),this._onDocumentKeyupListener=C["default"](e,"keyup",this.handleDocumentKeyUp),this._onFocusinListener=x["default"](this.enforceFocus),this.focus(),this.props.onShow&&this.props.onShow()},onHide:function(){A.remove(this),this._onDocumentKeyupListener.remove(),this._onFocusinListener.remove(),this.restoreLastFocus()},setMountNode:function(e){this.mountNode=e?e.getMountNode():e},handleHidden:function(){if(this.setState({exited:!0}),this.onHide(),this.props.onExited){var e;(e=this.props).onExited.apply(e,arguments)}},handleBackdropClick:function(e){e.target===e.currentTarget&&(this.props.onBackdropClick&&this.props.onBackdropClick(e),this.props.backdrop===!0&&this.props.onHide())},handleDocumentKeyUp:function(e){this.props.keyboard&&27===e.keyCode&&this.isTopModal()&&(this.props.onEscapeKeyUp&&this.props.onEscapeKeyUp(e),this.props.onHide())},checkForFocus:function(){T["default"]&&(this.lastFocus=P["default"]())},focus:function(){var e=this.props.autoFocus,t=this.getDialogElement(),n=P["default"](b["default"](this)),r=n&&O["default"](t,n);t&&e&&!r&&(this.lastFocus=n,t.hasAttribute("tabIndex")||(t.setAttribute("tabIndex",-1),u["default"](!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".')),t.focus())},restoreLastFocus:function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},enforceFocus:function D(){var D=this.props.enforceFocus;if(D&&this.isMounted()&&this.isTopModal()){var e=P["default"](b["default"](this)),t=this.getDialogElement();t&&t!==e&&!O["default"](t,e)&&t.focus()}},getDialogElement:function(){var e=this.refs.modal;return e&&e.lastChild},isTopModal:function(){return A.isTopModal(this)}});M.manager=A,t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){return"object"!=typeof e[t]||"function"!=typeof e[t].render&&1!==e[t].nodeType?new Error(o.errMsg(e,t,n,", expected a DOM element or an object that has a `render` method")):void 0}t.__esModule=!0;var o=n(207);t["default"]=o.createChainableTypeChecker(r),e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r){return"Invalid prop '"+t+"' of value '"+e[t]+"'"+(" supplied to '"+n+"'"+r)}function r(e){function t(t,n,r,o){return o=o||"<<anonymous>>",null!=n[r]?e(n,r,o):t?new Error("Required prop '"+r+"' was not specified in '"+o+"'."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}t.__esModule=!0,t.errMsg=n,t.createChainableTypeChecker=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=s.errMsg(e,t,n,". Expected an Element `type`");if("function"!=typeof e[t]){if(a["default"].isValidElement(e[t]))return new Error(r+", not an actual Element");if("string"!=typeof e[t])return new Error(r+" such as a tag name or return value of React.createClass(...)")}}t.__esModule=!0;var i=n(20),a=r(i),s=n(207);t["default"]=s.createChainableTypeChecker(o),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(20),i=r(o),a=n(65),s=r(a),l=n(206),u=r(l),c=n(169),d=r(c),p=n(210),f=r(p),h=i["default"].createClass({displayName:"Portal",propTypes:{container:i["default"].PropTypes.oneOfType([u["default"],i["default"].PropTypes.func])},componentDidMount:function(){this._renderOverlay()},componentDidUpdate:function(){this._renderOverlay()},componentWillReceiveProps:function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=f["default"](e.container,d["default"](this).body),this._portalContainerNode.appendChild(this._overlayTarget))},componentWillUnmount:function(){this._unrenderOverlay(),this._unmountOverlayTarget()},_mountOverlayTarget:function(){this._overlayTarget||(this._overlayTarget=document.createElement("div"),this._portalContainerNode=f["default"](this.props.container,d["default"](this).body),this._portalContainerNode.appendChild(this._overlayTarget))},_unmountOverlayTarget:function(){this._overlayTarget&&(this._portalContainerNode.removeChild(this._overlayTarget),this._overlayTarget=null),this._portalContainerNode=null},_renderOverlay:function(){var e=this.props.children?i["default"].Children.only(this.props.children):null;null!==e?(this._mountOverlayTarget(),this._overlayInstance=s["default"].unstable_renderSubtreeIntoContainer(this,e,this._overlayTarget)):(this._unrenderOverlay(),this._unmountOverlayTarget())},_unrenderOverlay:function(){this._overlayTarget&&(s["default"].unmountComponentAtNode(this._overlayTarget),this._overlayInstance=null)},render:function(){return null},getMountNode:function(){return this._overlayTarget},getOverlayDOMNode:function(){if(!this.isMounted())throw new Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return this._overlayInstance?this._overlayInstance.getWrappedDOMNode?this._overlayInstance.getWrappedDOMNode():s["default"].findDOMNode(this._overlayInstance):null}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e="function"==typeof e?e():e,a["default"].findDOMNode(e)||t}t.__esModule=!0,t["default"]=o;var i=n(65),a=r(i);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=-1;return e.some(function(e,r){return t(e,r)?(n=r,!0):void 0}),n}function a(e,t){return i(e,function(e){return-1!==e.modals.indexOf(t)})}t.__esModule=!0;var s=n(72),l=r(s),u=n(212),c=r(u),d=n(204),p=r(d),f=n(216),h=r(f),m=n(218),v=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];o(this,e),this.hideSiblingNodes=t,this.modals=[],this.containers=[],this.data=[]}return e.prototype.add=function(e,t,n){var r=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&m.hideSiblings(t,e.mountNode),-1!==o)return this.data[o].modals.push(e),r;var i={modals:[e],classes:n?n.split(/\s+/):[],style:{overflow:t.style.overflow,paddingRight:t.style.paddingRight}},a={overflow:"hidden"};return i.overflowing=h["default"](t),i.overflowing&&(a.paddingRight=parseInt(l["default"](t,"paddingRight")||0,10)+p["default"]()+"px"),l["default"](t,a),i.classes.forEach(c["default"].addClass.bind(null,t)),this.containers.push(t),this.data.push(i),r},e.prototype.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=a(this.data,e),r=this.data[n],o=this.containers[n];r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length?(Object.keys(r.style).forEach(function(e){return o.style[e]=r.style[e]}),r.classes.forEach(c["default"].removeClass.bind(null,o)),this.hideSiblingNodes&&m.showSiblings(o,e.mountNode),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&m.ariaHidden(!1,r.modals[r.modals.length-1].mountNode)}},e.prototype.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";e.exports={addClass:n(213),removeClass:n(215),hasClass:n(214)}},function(e,t,n){"use strict";var r=n(214);e.exports=function(e,t){e.classList?e.classList.add(t):r(e)||(e.className=e.className+" "+t)}},function(e,t){"use strict";e.exports=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}},function(e,t){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"body"===e.tagName.toLowerCase()}function i(e){var t=c["default"](e),n=l["default"](t),r=n.innerWidth;if(!r){var o=t.documentElement.getBoundingClientRect();r=o.right-Math.abs(o.left)}return t.body.clientWidth<r}function a(e){var t=l["default"](e);return t||o(e)?i(e):e.scrollHeight>e.clientHeight}t.__esModule=!0,t["default"]=a;var s=n(217),l=r(s),u=n(87),c=r(u);e.exports=t["default"]},function(e,t){"use strict";e.exports=function(e){return e===e.window?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}},function(e,t){"use strict";function n(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function r(e,t){s(e,t,function(e){return n(!0,e)})}function o(e,t){s(e,t,function(e){return n(!1,e)})}t.__esModule=!0,t.ariaHidden=n,t.hideSiblings=r,t.showSiblings=o;var i=["template","script","style"],a=function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===i.indexOf(n.toLowerCase())},s=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&a(e)&&n(e)})}},function(e,t){"use strict";function n(e){var t=!document.addEventListener,n=void 0;return t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)}),{remove:n}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(25),c=n(24),d=l["default"].createClass({displayName:"ModalDialog",propTypes:{dialogClassName:l["default"].PropTypes.string},render:function(){var e=r({display:"block"},this.props.style),t=c.prefix(this.props),n=c.getClassSet(this.props);return delete n[t],n[c.prefix(this.props,"dialog")]=!0,l["default"].createElement("div",r({},this.props,{title:null,tabIndex:"-1",role:"dialog",style:e,className:a["default"](this.props.className,t)}),l["default"].createElement("div",{className:a["default"](this.props.dialogClassName,n)},l["default"].createElement("div",{className:c.prefix(this.props,"content"),role:"document"},this.props.children)))}});t["default"]=c.bsSizes([u.Sizes.LARGE,u.Sizes.SMALL],c.bsClass("modal",d)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(24),p=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return c["default"].createElement("div",i({},this.props,{className:l["default"](this.props.className,d.prefix(this.props,"body"))}),this.props.children)},t}(c["default"].Component);t["default"]=d.bsClass("modal",p),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=n(84),h=s(f),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e["aria-label"],n=i(e,["aria-label"]),r=h["default"](this.context.$bs_onModalHide,this.props.onHide);return d["default"].createElement("div",a({},n,{className:u["default"](this.props.className,p.prefix(this.props,"header"))}),this.props.closeButton&&d["default"].createElement("button",{type:"button",className:"close","aria-label":t,onClick:r},d["default"].createElement("span",{"aria-hidden":"true"},"")),this.props.children)},t}(d["default"].Component);m.propTypes={"aria-label":d["default"].PropTypes.string,bsClass:d["default"].PropTypes.string,closeButton:d["default"].PropTypes.bool,onHide:d["default"].PropTypes.func},m.contextTypes={$bs_onModalHide:d["default"].PropTypes.func},m.defaultProps={"aria-label":"Close",closeButton:!1},t["default"]=p.bsClass("modal",m),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(24),p=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return c["default"].createElement("h4",i({},this.props,{className:l["default"](this.props.className,d.prefix(this.props,"title"))}),this.props.children)},t}(c["default"].Component);t["default"]=d.bsClass("modal",p),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(24),p=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return c["default"].createElement("div",i({},this.props,{className:l["default"](this.props.className,d.prefix(this.props,"footer"))}),this.props.children)},t}(c["default"].Component);p.propTypes={bsClass:c["default"].PropTypes.string},p.defaultProps={bsClass:"modal"},t["default"]=d.bsClass("modal",p),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(89),c=a(u),d=n(20),p=a(d),f=n(65),h=a(f),m=n(53),v=a(m),g=n(36),y=a(g),b=n(24),w=n(84),C=a(w),_=n(226),x=n(33),E=a(x),T=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.componentDidUpdate=function(){if(this._needsRefocus){var e=this.refs.ul&&h["default"].findDOMNode(this.refs.ul),t=e?e.children||[]:[],n=this.eventKeys().indexOf(this.getActiveKey());if(this._needsRefocus=!1,-1!==n){var r=t[n];r&&r.firstChild&&r.firstChild.focus()}}},t.prototype.render=function(){var e=this.props.className,t=null!=this.props.navbar?this.props.navbar:this.context.$bs_navbar,n=b.getClassSet(this.props);if(n[b.prefix(this.props,"stacked")]=this.props.stacked,n[b.prefix(this.props,"justified")]=this.props.justified,t){var r=this.context.$bs_navbar_bsClass||"navbar";n[b.prefix({bsClass:r},"nav")]=!0,n[b.prefix({bsClass:r},"right")]=this.props.pullRight,n[b.prefix({bsClass:r},"left")]=this.props.pullLeft}else n["pull-right"]=this.props.pullRight,n["pull-left"]=this.props.pullLeft;var o=p["default"].createElement("ul",i({ref:"ul"},this.props,{role:this.getNavRole(),className:l["default"](e,n)}),E["default"].map(this.props.children,this.renderNavItem,this));return o},t.prototype.renderNavItem=function(e,t){var n=C["default"](e.props.onSelect,this.props.onSelect),r=this.isChildActive(e),o=this.getTabProps(e,r,n);return d.cloneElement(e,i({active:r,activeKey:this.props.activeKey,activeHref:this.props.activeHref,onSelect:n,key:e.key||t,navItem:!0},o))},t.prototype.getActiveKey=function(){var e=this.context.$bs_tabcontainer;return e?(y["default"](!(null!=this.props.activeKey||this.props.activeHref),"Specifing a Nav `activeKey` or `activeHref` prop in the context of a `TabContainer` is not supported. Instead use `<TabContainer activeKey={"+this.props.activeKey+"} />`"),e.activeKey):this.props.activeKey},t.prototype.isChildActive=function(e){var t=this.getActiveKey();return this.context.$bs_tabcontainer?(y["default"](!e.props.active,"Specifying a NavItem `active` prop in the context of a `TabContainer` is not supported. Instead use `<TabContainer activeKey={"+e.props.eventKey+"} />`"),e.props.eventKey===t):e.props.active?!0:null!=this.props.activeKey&&e.props.eventKey===this.props.activeKey?!0:null!=this.props.activeHref&&e.props.href===this.props.activeHref?!0:e.props.active},t.prototype.getTabProps=function(e,t,n){var r=this.getNavRole(),o=this.context.$bs_tabcontainer;if(!o&&"tablist"!==r)return null;var i=e.props,a=i.id,s=i["aria-controls"],l=i.eventKey,u=i.role,c=i.onKeyDown,d=i.tabIndex,p=void 0===d?0:d;return o&&o.getId&&(y["default"](!(a||s),"In the context of a TabContainer, NavItems are given generated `id` and `aria-controls` attributes for the sake of proper component accessibility. Any provided ones will be ignored. To control these attributes directly provide a `generateChildId` prop to the parent TabContainer."),a=o.getId(l,_.TAB)||null,s=o.getId(l,_.PANE)||null,n=C["default"](n,o.onSelect)),"tablist"===r&&(u=u||"tab",c=C["default"](this.handleTabKeyDown.bind(this,n||function(){}),c),p=t?p:-1),{onSelect:n,id:a,role:u,onKeyDown:c,"aria-controls":s,tabIndex:p}},t.prototype.handleTabKeyDown=function(e,t){var n=this.eventKeys(),r=this.getActiveKey()||n[0],o=void 0;switch(t.keyCode){case c["default"].codes.left:case c["default"].codes.up:o=_.nextEnabled(this.props.children,r,n,!1),o&&o!==r&&(t.preventDefault(),e(o),this._needsRefocus=!0);break;case c["default"].codes.right:case c["default"].codes.down:o=_.nextEnabled(this.props.children,r,n,!0),o&&o!==r&&(t.preventDefault(),e(o),this._needsRefocus=!0)}},t.prototype.eventKeys=function(){var e=[];return E["default"].forEach(this.props.children,function(t){var n=t.props.eventKey;return e.push(n)}),e},t.prototype.getNavRole=function(){return this.props.role||(this.context.$bs_tabcontainer?"tablist":null)},t}(p["default"].Component);T.propTypes={activeHref:p["default"].PropTypes.string,activeKey:p["default"].PropTypes.any,stacked:p["default"].PropTypes.bool,justified:v["default"](p["default"].PropTypes.bool,function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:p["default"].PropTypes.func,className:p["default"].PropTypes.string,id:p["default"].PropTypes.oneOfType([p["default"].PropTypes.string,p["default"].PropTypes.number]),role:p["default"].PropTypes.string,navbar:p["default"].PropTypes.bool,pullRight:p["default"].PropTypes.bool,pullLeft:p["default"].PropTypes.bool},T.contextTypes={$bs_navbar:p["default"].PropTypes.bool,$bs_navbar_bsClass:p["default"].PropTypes.string,$bs_tabcontainer:p["default"].PropTypes.shape({activeKey:p["default"].PropTypes.any,onSelect:p["default"].PropTypes.func,getId:p["default"].PropTypes.func})},T.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},t["default"]=b.bsClass("nav",b.bsStyles(["tabs","pills"],T)),e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n,r){function o(){var t=n.indexOf(l);return l=r?n[Math.min(i,t+1)]:n[Math.max(0,t-1)],s(e,function(e){return e.props.eventKey===l})}for(var i=n.length-1,a=n[r?Math.max(i,0):0],l=t,u=o();u.props.eventKey!==a&&u.props.disabled;)u=o();return u.props.disabled?t:u.props.eventKey}var o=n(1)["default"];t.__esModule=!0,t.nextEnabled=r;var i=n(33),a=o(i),s=a["default"].find,l="tab";t.TAB=l;var u="pane";t.PANE=u},function(e,t,n){"use strict";function r(e,t,n){var r=function(e,n){var r,a=e.componentClass,s=e.className,u=o(e,["componentClass","className"]),d=n.$bs_navbar_bsClass,p=void 0===d?"navbar":d;return c["default"].createElement(a,i({},u,{className:l["default"](s,v.prefix({
bsClass:p},t),(r={},r[v.prefix({bsClass:p},"right")]=u.pullRight,r[v.prefix({bsClass:p},"left")]=u.pullLeft,r))}))};return r.displayName=n,r.propTypes={componentClass:p["default"],pullRight:c["default"].PropTypes.bool,pullLeft:c["default"].PropTypes.bool},r.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar_bsClass:u.PropTypes.string},r}var o=n(22)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(49),p=a(d),f=n(159),h=a(f),m=n(25),v=n(24),g=n(178),y=a(g),b=n(228),w=a(b),C=n(229),_=a(C),x=n(230),E=a(x),T=n(231),k=a(T),P=c["default"].createClass({displayName:"Navbar",propTypes:{fixedTop:c["default"].PropTypes.bool,fixedBottom:c["default"].PropTypes.bool,staticTop:c["default"].PropTypes.bool,inverse:c["default"].PropTypes.bool,fluid:c["default"].PropTypes.bool,componentClass:p["default"],onToggle:c["default"].PropTypes.func,expanded:c["default"].PropTypes.bool},childContextTypes:{$bs_navbar:u.PropTypes.bool,$bs_navbar_bsClass:u.PropTypes.string,$bs_navbar_onToggle:u.PropTypes.func,$bs_navbar_expanded:u.PropTypes.bool},getDefaultProps:function(){return{componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1}},getChildContext:function(){return{$bs_navbar:!0,$bs_navbar_bsClass:this.props.bsClass,$bs_navbar_onToggle:this.handleToggle,$bs_navbar_expanded:this.props.expanded}},handleToggle:function(){this.props.onToggle(!this.props.expanded)},isNavExpanded:function(){return!!this.props.expanded},render:function(){var e=this.props,t=e.fixedTop,n=e.fixedBottom,r=e.staticTop,a=e.inverse,s=e.componentClass,u=e.fluid,d=e.className,p=e.children,f=o(e,["fixedTop","fixedBottom","staticTop","inverse","componentClass","fluid","className","children"]);void 0===f.role&&"nav"!==s&&(f.role="navigation"),a&&(f.bsStyle=m.INVERSE);var h=v.getClassSet(f);return h[v.prefix(this.props,"fixed-top")]=t,h[v.prefix(this.props,"fixed-bottom")]=n,h[v.prefix(this.props,"static-top")]=r,c["default"].createElement(s,i({},f,{className:l["default"](d,h)}),c["default"].createElement(y["default"],{fluid:u},p))}}),S=[m.DEFAULT,m.INVERSE];P=v.bsStyles(S,m.DEFAULT,v.bsClass("navbar",h["default"](P,{expanded:"onToggle"}))),P.Brand=w["default"],P.Header=E["default"],P.Toggle=k["default"],P.Collapse=_["default"],P.Form=r("div","form","NavbarForm"),P.Text=r("p","text","NavbarText"),P.Link=r("a","link","NavbarLink"),t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(22)["default"],a=n(4)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(24),f=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=i(e,["className","children"]),o=this.context.$bs_navbar_bsClass,s=void 0===o?"navbar":o,l=p.prefix({bsClass:s},"brand");return d["default"].isValidElement(n)?d["default"].cloneElement(n,{className:u["default"](n.props.className,t,l)}):d["default"].createElement("span",a({},r,{className:u["default"](t,l)}),n)},t}(d["default"].Component);f.contextTypes={$bs_navbar_bsClass:d["default"].PropTypes.string},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(20),s=i(a),l=n(24),u=n(71),c=i(u),d=s["default"].createClass({displayName:"NavbarCollapse",contextTypes:{$bs_navbar_bsClass:a.PropTypes.string,$bs_navbar_expanded:a.PropTypes.bool},render:function(){var e=this.props,t=e.children,n=r(e,["children"]),i=this.context,a=i.$bs_navbar_bsClass,u=void 0===a?"navbar":a,d=i.$bs_navbar_expanded;return s["default"].createElement(c["default"],o({"in":d},n),s["default"].createElement("div",{className:l.prefix({bsClass:u},"collapse")},t))}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(24),d=u["default"].createClass({displayName:"NavbarHeader",contextTypes:{$bs_navbar_bsClass:l.PropTypes.string},render:function(){var e=this.props,t=e.className,n=r(e,["className"]),i=this.context.$bs_navbar_bsClass,a=void 0===i?"navbar":i,l=c.prefix({bsClass:a},"header");return u["default"].createElement("div",o({},n,{className:s["default"](t,l)}))}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(22)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(24),d=n(84),p=i(d),f=u["default"].createClass({displayName:"NavbarToggle",propTypes:{onClick:u["default"].PropTypes.func,children:l.PropTypes.node},contextTypes:{$bs_navbar_bsClass:l.PropTypes.string,$bs_navbar_onToggle:l.PropTypes.func,$bs_navbar_expanded:l.PropTypes.bool},render:function(){var e=this.props,t=e.onClick,n=e.className,i=e.children,a=o(e,["onClick","className","children"]),l=this.context,d=l.$bs_navbar_bsClass,f=void 0===d?"navbar":d,h=l.$bs_navbar_onToggle,m=l.$bs_navbar_expanded,v=r({type:"button"},a,{onClick:p["default"](t,h),className:s["default"](n,c.prefix({bsClass:f},"toggle"),!m&&"collapsed")});return i?u["default"].createElement("button",v,i):u["default"].createElement("button",v,u["default"].createElement("span",{className:"sr-only"},"Toggle navigation"),u["default"].createElement("span",{className:"icon-bar"}),u["default"].createElement("span",{className:"icon-bar"}),u["default"].createElement("span",{className:"icon-bar"}))}});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(20),u=s(l),c=n(85),d=s(c),p=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.title,r=e.noCaret,o=a(e,["children","title","noCaret"]);return u["default"].createElement(d["default"],i({},o,{componentClass:"li"}),u["default"].createElement(d["default"].Toggle,{useAnchor:!0,disabled:o.disabled,noCaret:r},n),u["default"].createElement(d["default"].Menu,null,t))},t}(u["default"].Component);p.propTypes=i({noCaret:u["default"].PropTypes.bool,title:u["default"].PropTypes.node.isRequired},d["default"].propTypes),t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(40),d=i(c),p=n(84),f=i(p),h=u["default"].createClass({displayName:"NavItem",propTypes:{active:u["default"].PropTypes.bool,disabled:u["default"].PropTypes.bool,role:u["default"].PropTypes.string,href:u["default"].PropTypes.string,onClick:u["default"].PropTypes.func,onSelect:u["default"].PropTypes.func,eventKey:u["default"].PropTypes.any},getDefaultProps:function(){return{active:!1,disabled:!1}},render:function(){var e=this.props,t=e.active,n=e.disabled,i=e.role,a=e.href,l=e.onClick,c=e.className,p=e.style,h=r(e,["active","disabled","role","href","onClick","className","style"]);return delete h.onSelect,delete h.eventKey,i?"tab"===i&&(h["aria-selected"]=t):"#"===a&&(i="button"),u["default"].createElement("li",{role:"presentation",className:s["default"](c,{active:t,disabled:n}),style:p},u["default"].createElement(d["default"],o({},h,{disabled:n,role:i,href:a,onClick:f["default"](l,this.handleClick)})))},handleClick:function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,e))}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(20),u=s(l),c=n(235),d=s(c),p=n(49),f=s(p),h=n(173),m=s(h),v=n(23),g=s(v),y=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.animation,r=a(e,["children","animation"]);return n===!0&&(n=m["default"]),n===!1&&(n=null),n||(t=l.cloneElement(t,{className:g["default"]("in",t.props.className)})),u["default"].createElement(d["default"],i({},r,{transition:n}),t)},t}(u["default"].Component);y.propTypes=i({},d["default"].propTypes,{show:u["default"].PropTypes.bool,rootClose:u["default"].PropTypes.bool,onHide:u["default"].PropTypes.func,animation:u["default"].PropTypes.oneOfType([u["default"].PropTypes.bool,f["default"]]),onEnter:u["default"].PropTypes.func,onEntering:u["default"].PropTypes.func,onEntered:u["default"].PropTypes.func,onExit:u["default"].PropTypes.func,onExiting:u["default"].PropTypes.func,onExited:u["default"].PropTypes.func}),y.defaultProps={animation:m["default"],rootClose:!1,show:!1},t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(20),u=r(l),c=n(209),d=r(c),p=n(236),f=r(p),h=n(165),m=r(h),v=n(208),g=r(v),y=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.state={exited:!n.show},this.onHiddenListener=this.handleHidden.bind(this)}return a(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,i=e.placement,a=e.shouldUpdatePosition,s=e.rootClose,l=e.children,c=e.transition,p=o(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]),h=p.show||c&&!this.state.exited;if(!h)return null;var v=l;if(v=u["default"].createElement(f["default"],{container:t,containerPadding:n,target:r,placement:i,shouldUpdatePosition:a},v),c){var g=p.onExit,y=p.onExiting,b=p.onEnter,w=p.onEntering,C=p.onEntered;v=u["default"].createElement(c,{"in":p.show,transitionAppear:!0,onExit:g,onExiting:y,onExited:this.onHiddenListener,onEnter:b,onEntering:w,onEntered:C},v)}return s&&(v=u["default"].createElement(m["default"],{onRootClose:p.onHide},v)),u["default"].createElement(d["default"],{container:t},v)},t.prototype.handleHidden=function(){if(this.setState({exited:!0}),this.props.onExited){var e;(e=this.props).onExited.apply(e,arguments)}},t}(u["default"].Component);y.propTypes=s({},d["default"].propTypes,f["default"].propTypes,{show:u["default"].PropTypes.bool,rootClose:u["default"].PropTypes.bool,onHide:function(e,t,n){var r=u["default"].PropTypes.func;return e.rootClose&&(r=r.isRequired),r(e,t,n)},transition:g["default"],onEnter:u["default"].PropTypes.func,onEntering:u["default"].PropTypes.func,onEntered:u["default"].PropTypes.func,onExit:u["default"].PropTypes.func,onExiting:u["default"].PropTypes.func,onExited:u["default"].PropTypes.func}),t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(20),u=r(l),c=n(65),d=r(c),p=n(23),f=r(p),h=n(169),m=r(h),v=n(210),g=r(v),y=n(237),b=n(206),w=r(b),C=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},this._needsFlush=!1,this._lastTarget=null}return a(t,e),t.prototype.componentDidMount=function(){this.updatePosition()},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.updatePosition(e.placement!==this.props.placement))},t.prototype.componentWillUnmount=function(){this._lastTarget=null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=o(e,["children","className"]),i=this.state,a=i.positionLeft,c=i.positionTop,d=o(i,["positionLeft","positionTop"]);delete r.target,delete r.container,delete r.containerPadding;var p=u["default"].Children.only(t);return l.cloneElement(p,s({},r,d,{positionLeft:a,positionTop:c,className:f["default"](n,p.props.className),style:s({},p.props.style,{left:a,top:c})}))},t.prototype.getTargetSafe=function(){if(!this.props.target)return null;var e=this.props.target(this.props);return e?e:null},t.prototype.updatePosition=function(e){var t=this.getTargetSafe();if(this.props.shouldUpdatePosition||t!==this._lastTarget||e){if(this._lastTarget=t,!t)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var n=d["default"].findDOMNode(this),r=g["default"](this.props.container,m["default"](this).body);this.setState(y.calcOverlayPosition(this.props.placement,n,t,r,this.props.containerPadding))}},t}(u["default"].Component);C.propTypes={target:u["default"].PropTypes.func,container:u["default"].PropTypes.oneOfType([w["default"],u["default"].PropTypes.func]),containerPadding:u["default"].PropTypes.number,placement:u["default"].PropTypes.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:u["default"].PropTypes.bool},C.displayName="Position",C.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r){var o=h.getContainerDimensions(n),i=o.scroll,a=o.height,s=e-r-i,l=e+r-i+t;return 0>s?-s:l>a?a-l:0}function i(e,t,n,r){var o=h.getContainerDimensions(n),i=o.width,a=e-r,s=e+r+t;return 0>a?-a:s>i?i-s:0}t.__esModule=!0;var a=n(169),s=r(a),l=n(238),u=r(l),c=n(239),d=r(c),p=n(241),f=r(p),h={getContainerDimensions:function(e){var t=void 0,n=void 0,r=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=f["default"](s["default"](e).documentElement)||f["default"](e);else{var o=u["default"](e);t=o.width,n=o.height,r=f["default"](e)}return{width:t,height:n,scroll:r}},getPosition:function(e,t){var n="BODY"===t.tagName?u["default"](e):d["default"](e,t);return n},calcOverlayPosition:function(e,t,n,r,a){var s=h.getPosition(n,r),l=u["default"](t),c=l.height,d=l.width,p=void 0,f=void 0,m=void 0,v=void 0;if("left"===e||"right"===e){f=s.top+(s.height-c)/2,p="left"===e?s.left-d:s.left+s.width;var g=o(f,c,r,a);f+=g,v=50*(1-2*g/c)+"%",m=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');p=s.left+(s.width-d)/2,f="top"===e?s.top-c:s.top+s.height;var y=i(p,d,r,a);p+=y,m=50*(1-2*y/d)+"%",v=void 0}return{positionLeft:p,positionTop:f,arrowOffsetLeft:m,arrowOffsetTop:v}}};t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(88),o=n(217),i=n(87);e.exports=function(e){var t=i(e),n=o(t),a=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(t)return r(a,e)?(void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect()),(s.width||s.height)&&(s={top:s.top+(n.pageYOffset||a.scrollTop)-(a.clientTop||0),left:s.left+(n.pageXOffset||a.scrollLeft)-(a.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}),s):s}},function(e,t,n){"use strict";function r(e){return e.nodeName&&e.nodeName.toLowerCase()}function o(e,t){var n,o={top:0,left:0};return"fixed"===(0,m["default"])(e,"position")?n=e.getBoundingClientRect():(t=t||(0,u["default"])(e),n=(0,s["default"])(e),"html"!==r(t)&&(o=(0,s["default"])(t)),o.top+=parseInt((0,m["default"])(t,"borderTopWidth"),10)-(0,d["default"])(t)||0,o.left+=parseInt((0,m["default"])(t,"borderLeftWidth"),10)-(0,f["default"])(t)||0),i._extends({},n,{top:n.top-o.top-(parseInt((0,m["default"])(e,"marginTop"),10)||0),left:n.left-o.left-(parseInt((0,m["default"])(e,"marginLeft"),10)||0)})}var i=n(78);t.__esModule=!0,t["default"]=o;var a=n(238),s=i.interopRequireDefault(a),l=n(240),u=i.interopRequireDefault(l),c=n(241),d=i.interopRequireDefault(c),p=n(242),f=i.interopRequireDefault(p),h=n(72),m=i.interopRequireDefault(h);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e.nodeName&&e.nodeName.toLowerCase()}function o(e){for(var t=(0,s["default"])(e),n=e&&e.offsetParent;n&&"html"!==r(e)&&"static"===(0,u["default"])(n,"position");)n=n.offsetParent;return n||t.documentElement}var i=n(78);t.__esModule=!0,t["default"]=o;var a=n(87),s=i.interopRequireDefault(a),l=n(72),u=i.interopRequireDefault(l);e.exports=t["default"]},function(e,t,n){"use strict";var r=n(217);e.exports=function(e,t){var n=r(e);return void 0===t?n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop:void(n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t)}},function(e,t,n){"use strict";var r=n(217);e.exports=function(e,t){var n=r(e);return void 0===t?n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft:void(n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t)}},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var o=n(4)["default"],i=n(28)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(88),l=a(s),u=n(172),c=a(u),d=n(20),p=a(d),f=n(65),h=a(f),m=n(36),v=a(m),g=n(234),y=a(g),b=n(84),w=a(b),C=p["default"].createClass({displayName:"OverlayTrigger",propTypes:o({},y["default"].propTypes,{trigger:p["default"].PropTypes.oneOfType([p["default"].PropTypes.oneOf(["click","hover","focus"]),p["default"].PropTypes.arrayOf(p["default"].PropTypes.oneOf(["click","hover","focus"]))]),delay:p["default"].PropTypes.number,delayShow:p["default"].PropTypes.number,delayHide:p["default"].PropTypes.number,defaultOverlayShown:p["default"].PropTypes.bool,overlay:p["default"].PropTypes.node.isRequired,onBlur:p["default"].PropTypes.func,onClick:p["default"].PropTypes.func,onFocus:p["default"].PropTypes.func,onMouseEnter:p["default"].PropTypes.func,onMouseLeave:p["default"].PropTypes.func,target:function(){},onHide:function(){},show:function(){}}),getDefaultProps:function(){return{defaultOverlayShown:!1,trigger:["hover","focus"]}},getInitialState:function(){return{isOverlayShown:this.props.defaultOverlayShown}},show:function(){this.setState({isOverlayShown:!0})},hide:function(){this.setState({isOverlayShown:!1})},toggle:function(){this.state.isOverlayShown?this.hide():this.show()},componentWillMount:function(){this.handleMouseOver=this.handleMouseOverOut.bind(null,this.handleDelayedShow),this.handleMouseOut=this.handleMouseOverOut.bind(null,this.handleDelayedHide)},componentDidMount:function(){this._mountNode=document.createElement("div"),this.renderOverlay()},renderOverlay:function(){h["default"].unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},componentWillUnmount:function(){h["default"].unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},componentDidUpdate:function(){this._mountNode&&this.renderOverlay()},getOverlayTarget:function(){return h["default"].findDOMNode(this)},getOverlay:function(){var e=o({},c["default"](this.props,i(y["default"].propTypes)),{show:this.state.isOverlayShown,onHide:this.hide,target:this.getOverlayTarget,onExit:this.props.onExit,onExiting:this.props.onExiting,onExited:this.props.onExited,onEnter:this.props.onEnter,onEntering:this.props.onEntering,onEntered:this.props.onEntered}),t=d.cloneElement(this.props.overlay,{placement:e.placement,container:e.container});return p["default"].createElement(y["default"],e,t)},render:function(){var e=p["default"].Children.only(this.props.children),t=e.props,n={"aria-describedby":this.props.overlay.props.id};return this._overlay=this.getOverlay(),n.onClick=w["default"](t.onClick,this.props.onClick),r("click",this.props.trigger)&&(n.onClick=w["default"](this.toggle,n.onClick)),r("hover",this.props.trigger)&&(v["default"](!("hover"===this.props.trigger),'[react-bootstrap] Specifying only the `"hover"` trigger limits the visibilty of the overlay to just mouse users. Consider also including the `"focus"` trigger so that touch and keyboard only users can see the overlay as well.'),n.onMouseOver=w["default"](this.handleMouseOver,this.props.onMouseOver,t.onMouseOver),n.onMouseOut=w["default"](this.handleMouseOut,this.props.onMouseOut,t.onMouseOut)),r("focus",this.props.trigger)&&(n.onFocus=w["default"](this.handleDelayedShow,this.props.onFocus,t.onFocus),n.onBlur=w["default"](this.handleDelayedHide,this.props.onBlur,t.onBlur)),d.cloneElement(e,n)},handleDelayedShow:function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.isOverlayShown&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;return t?void(this._hoverShowDelay=setTimeout(function(){e._hoverShowDelay=null,e.show()},t)):void this.show()}},handleDelayedHide:function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.isOverlayShown&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;return t?void(this._hoverHideDelay=setTimeout(function(){e._hoverHideDelay=null,e.hide()},t)):void this.hide()}},handleMouseOverOut:function(e,t){var n=t.currentTarget,r=t.relatedTarget||t.nativeEvent.toElement;(!r||r!==n&&!l["default"](n,r))&&e(t)}});t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=a["default"].createClass({displayName:"PageHeader",render:function(){return a["default"].createElement("div",r({},this.props,{className:l["default"](this.props.className,"page-header")}),a["default"].createElement("h1",null,this.props.children))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(40),d=i(c),p=n(84),f=i(p),h=u["default"].createClass({displayName:"PageItem",propTypes:{disabled:u["default"].PropTypes.bool,previous:u["default"].PropTypes.bool,next:u["default"].PropTypes.bool,onClick:u["default"].PropTypes.func,onSelect:u["default"].PropTypes.func,eventKey:u["default"].PropTypes.any},getDefaultProps:function(){return{disabled:!1,previous:!1,next:!1}},render:function(){var e=this.props,t=e.disabled,n=e.previous,i=e.next,a=e.onClick,l=e.className,c=e.style,p=r(e,["disabled","previous","next","onClick","className","style"]);return delete p.onSelect,delete p.eventKey,u["default"].createElement("li",{className:s["default"](l,{disabled:t,previous:n,next:i}),style:c},u["default"].createElement(d["default"],o({},p,{disabled:t,onClick:f["default"](a,this.handleSelect)})))},handleSelect:function(e){(this.props.onSelect||this.props.disabled)&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,e))}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=n(33),c=o(u),d=n(84),p=o(d),f=a["default"].createClass({displayName:"Pager",propTypes:{onSelect:a["default"].PropTypes.func},render:function(){return a["default"].createElement("ul",r({},this.props,{className:l["default"](this.props.className,"pager")}),c["default"].map(this.props.children,this.renderPageItem))},renderPageItem:function(e,t){return i.cloneElement(e,{onSelect:p["default"](e.props.onSelect,this.props.onSelect),key:e.key?e.key:t})}});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(49),c=o(u),d=n(24),p=n(248),f=o(p),h=n(40),m=o(h),v=l["default"].createClass({displayName:"Pagination",propTypes:{activePage:l["default"].PropTypes.number,items:l["default"].PropTypes.number,maxButtons:l["default"].PropTypes.number,boundaryLinks:l["default"].PropTypes.bool,ellipsis:l["default"].PropTypes.oneOfType([l["default"].PropTypes.bool,l["default"].PropTypes.node]),first:l["default"].PropTypes.oneOfType([l["default"].PropTypes.bool,l["default"].PropTypes.node]),last:l["default"].PropTypes.oneOfType([l["default"].PropTypes.bool,l["default"].PropTypes.node]),prev:l["default"].PropTypes.oneOfType([l["default"].PropTypes.bool,l["default"].PropTypes.node]),next:l["default"].PropTypes.oneOfType([l["default"].PropTypes.bool,l["default"].PropTypes.node]),onSelect:l["default"].PropTypes.func,buttonComponentClass:c["default"]},getDefaultProps:function(){return{activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1,buttonComponentClass:m["default"],bsClass:"pagination"}},renderPageButtons:function(){var e=[],t=void 0,n=void 0,r=void 0,o=this.props,i=o.maxButtons,a=o.activePage,s=o.items,u=o.onSelect,c=o.ellipsis,d=o.buttonComponentClass,p=o.boundaryLinks;if(i){var h=a-parseInt(i/2,10);t=h>1?h:1,r=s>=t+i,r?n=t+i-1:(n=s,t=s-i+1,1>t&&(t=1))}else t=1,n=s;for(var m=t;n>=m;m++)e.push(l["default"].createElement(f["default"],{key:m,eventKey:m,active:m===a,onSelect:u,buttonComponentClass:d},m));return p&&c&&1!==t&&(e.unshift(l["default"].createElement(f["default"],{key:"ellipsisFirst",disabled:!0,buttonComponentClass:d},l["default"].createElement("span",{"aria-label":"More"},this.props.ellipsis===!0?"":this.props.ellipsis))),e.unshift(l["default"].createElement(f["default"],{key:1,eventKey:1,active:!1,onSelect:u,buttonComponentClass:d},"1"))),i&&r&&c&&(e.push(l["default"].createElement(f["default"],{key:"ellipsis",disabled:!0,buttonComponentClass:d},l["default"].createElement("span",{"aria-label":"More"},this.props.ellipsis===!0?"":this.props.ellipsis))),p&&n!==s&&e.push(l["default"].createElement(f["default"],{key:s,eventKey:s,active:!1,onSelect:u,buttonComponentClass:d},s))),e},renderPrev:function(){return this.props.prev?l["default"].createElement(f["default"],{key:"prev",eventKey:this.props.activePage-1,disabled:1===this.props.activePage,onSelect:this.props.onSelect,buttonComponentClass:this.props.buttonComponentClass},l["default"].createElement("span",{"aria-label":"Previous"},this.props.prev===!0?"":this.props.prev)):null},renderNext:function(){return this.props.next?l["default"].createElement(f["default"],{key:"next",eventKey:this.props.activePage+1,disabled:this.props.activePage>=this.props.items,onSelect:this.props.onSelect,buttonComponentClass:this.props.buttonComponentClass},l["default"].createElement("span",{"aria-label":"Next"},this.props.next===!0?"":this.props.next)):null},renderFirst:function(){return this.props.first?l["default"].createElement(f["default"],{key:"first",eventKey:1,disabled:1===this.props.activePage,onSelect:this.props.onSelect,buttonComponentClass:this.props.buttonComponentClass},l["default"].createElement("span",{"aria-label":"First"},this.props.first===!0?"":this.props.first)):null},renderLast:function(){return this.props.last?l["default"].createElement(f["default"],{key:"last",eventKey:this.props.items,disabled:this.props.activePage>=this.props.items,onSelect:this.props.onSelect,buttonComponentClass:this.props.buttonComponentClass},l["default"].createElement("span",{"aria-label":"Last"},this.props.last===!0?"":this.props.last)):null},render:function(){return l["default"].createElement("ul",r({},this.props,{className:a["default"](this.props.className,d.getClassSet(this.props))}),this.renderFirst(),this.renderPrev(),this.renderPageButtons(),this.renderNext(),this.renderLast())}});t["default"]=d.bsClass("pagination",v),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(49),d=i(c),p=n(84),f=i(p),h=u["default"].createClass({displayName:"PaginationButton",propTypes:{className:u["default"].PropTypes.string,eventKey:u["default"].PropTypes.any,onSelect:u["default"].PropTypes.func,disabled:u["default"].PropTypes.bool,active:u["default"].PropTypes.bool,onClick:u["default"].PropTypes.func,buttonComponentClass:d["default"]},getDefaultProps:function(){return{active:!1,disabled:!1}},handleClick:function(e){this.props.disabled||this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},render:function(){var e=this.props,t=e.active,n=e.disabled,i=e.onClick,a=e.buttonComponentClass,l=e.className,c=e.style,d=r(e,["active","disabled","onClick","buttonComponentClass","className","style"]);return delete d.onSelect,u["default"].createElement("li",{className:s["default"](l,{active:t,disabled:n}),style:c},u["default"].createElement(a,o({},d,{disabled:n,onClick:f["default"](i,this.handleClick)})))}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(4)["default"],i=n(1)["default"];t.__esModule=!0;var a=n(23),s=i(a),l=n(20),u=i(l),c=n(25),d=n(24),p=n(71),f=i(p),h=u["default"].createClass({displayName:"Panel",propTypes:{collapsible:u["default"].PropTypes.bool,onSelect:u["default"].PropTypes.func,header:u["default"].PropTypes.node,id:u["default"].PropTypes.oneOfType([u["default"].PropTypes.string,u["default"].PropTypes.number]),footer:u["default"].PropTypes.node,defaultExpanded:u["default"].PropTypes.bool,expanded:u["default"].PropTypes.bool,eventKey:u["default"].PropTypes.any,headerRole:u["default"].PropTypes.string,panelRole:u["default"].PropTypes.string,onEnter:f["default"].propTypes.onEnter,onEntering:f["default"].propTypes.onEntering,onEntered:f["default"].propTypes.onEntered,onExit:f["default"].propTypes.onExit,onExiting:f["default"].propTypes.onExiting,onExited:f["default"].propTypes.onExited},getDefaultProps:function(){return{defaultExpanded:!1}},getInitialState:function(){return{expanded:this.props.defaultExpanded}},handleSelect:function(e){e.persist(),e.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,e):e.preventDefault(),e.selected&&this.handleToggle()},handleToggle:function(){this.setState({expanded:!this.state.expanded})},isExpanded:function(){return null!=this.props.expanded?this.props.expanded:this.state.expanded},render:function(){var e=this.props,t=e.headerRole,n=e.panelRole,i=r(e,["headerRole","panelRole"]);return u["default"].createElement("div",o({},i,{className:s["default"](this.props.className,d.getClassSet(this.props)),id:this.props.collapsible?null:this.props.id,onSelect:null}),this.renderHeading(t),this.props.collapsible?this.renderCollapsibleBody(n):this.renderBody(),this.renderFooter())},renderCollapsibleBody:function(e){var t={onEnter:this.props.onEnter,onEntering:this.props.onEntering,onEntered:this.props.onEntered,onExit:this.props.onExit,onExiting:this.props.onExiting,onExited:this.props.onExited,"in":this.isExpanded()},n={className:d.prefix(this.props,"collapse"),id:this.props.id,ref:"panel","aria-hidden":!this.isExpanded()};return e&&(n.role=e),u["default"].createElement(f["default"],t,u["default"].createElement("div",n,this.renderBody()));
},renderBody:function(){function e(){return{key:s.length}}function t(t){s.push(l.cloneElement(t,e()))}function n(t){s.push(u["default"].createElement("div",o({className:p},e()),t))}function r(){0!==c.length&&(n(c),c=[])}var i=this,a=this.props.children,s=[],c=[],p=d.prefix(this.props,"body");return Array.isArray(a)&&0!==a.length?(a.forEach(function(e){i.shouldRenderFill(e)?(r(),t(e)):c.push(e)}),r()):this.shouldRenderFill(a)?t(a):n(a),s},shouldRenderFill:function(e){return u["default"].isValidElement(e)&&null!=e.props.fill},renderHeading:function(e){var t=this.props.header;if(!t)return null;if(!u["default"].isValidElement(t)||Array.isArray(t))t=this.props.collapsible?this.renderCollapsibleTitle(t,e):t;else{var n=s["default"](d.prefix(this.props,"title"),t.props.className);t=this.props.collapsible?l.cloneElement(t,{className:n,children:this.renderAnchor(t.props.children,e)}):l.cloneElement(t,{className:n})}return u["default"].createElement("div",{className:d.prefix(this.props,"heading")},t)},renderAnchor:function(e,t){return u["default"].createElement("a",{href:"#"+(this.props.id||""),"aria-controls":this.props.collapsible?this.props.id:null,className:this.isExpanded()?null:"collapsed","aria-expanded":this.isExpanded(),"aria-selected":this.isExpanded(),onClick:this.handleSelect,role:t},e)},renderCollapsibleTitle:function(e,t){return u["default"].createElement("h4",{className:d.prefix(this.props,"title"),role:"presentation"},this.renderAnchor(e,t))},renderFooter:function(){return this.props.footer?u["default"].createElement("div",{className:d.prefix(this.props,"footer")},this.props.footer):null}}),m=c.State.values().concat(c.DEFAULT,c.PRIMARY);t["default"]=d.bsStyles(m,c.DEFAULT,d.bsClass("panel",h)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(158),c=o(u),d=n(24),p=l["default"].createClass({displayName:"Popover",propTypes:{id:c["default"](l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.number])),placement:l["default"].PropTypes.oneOf(["top","right","bottom","left"]),positionLeft:l["default"].PropTypes.number,positionTop:l["default"].PropTypes.number,arrowOffsetLeft:l["default"].PropTypes.oneOfType([l["default"].PropTypes.number,l["default"].PropTypes.string]),arrowOffsetTop:l["default"].PropTypes.oneOfType([l["default"].PropTypes.number,l["default"].PropTypes.string]),title:l["default"].PropTypes.node},getDefaultProps:function(){return{placement:"right",bsClass:"popover"}},render:function(){var e,t=(e={},e[d.prefix(this.props)]=!0,e[this.props.placement]=!0,e),n=r({left:this.props.positionLeft,top:this.props.positionTop,display:"block"},this.props.style),o={left:this.props.arrowOffsetLeft,top:this.props.arrowOffsetTop};return l["default"].createElement("div",r({role:"tooltip"},this.props,{className:a["default"](this.props.className,t),style:n,title:null}),l["default"].createElement("div",{className:"arrow",style:o}),this.props.title?this.renderTitle():null,l["default"].createElement("div",{className:d.prefix(this.props,"content")},this.props.children))},renderTitle:function(){return l["default"].createElement("h3",{className:d.prefix(this.props,"title")},this.props.title)}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){if(e[t]){var r=function(){var r=void 0,o=void 0;return p["default"].Children.forEach(e[t],function(e){e.type!==C&&(o=e.type.displayName?e.type.displayName:e.type,r=new Error("Children of "+n+" can contain only ProgressBar components. Found "+o))}),{v:r}}();if("object"==typeof r)return r.v}}var o=n(41)["default"],i=n(48)["default"],a=n(4)["default"],s=n(22)["default"],l=n(1)["default"];t.__esModule=!0;var u=n(23),c=l(u),d=n(20),p=l(d),f=n(25),h=n(24),m=n(60),v=l(m),g=n(33),y=l(g),b=n(187),w=l(b),C=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.getPercentage=function(e,t,n){var r=1e3;return Math.round((e-t)/(n-t)*100*r)/r},t.prototype.render=function(){if(this.props.isChild)return this.renderProgressBar();var e=void 0;return e=this.props.children?y["default"].map(this.props.children,this.renderChildBar):this.renderProgressBar(),p["default"].createElement("div",a({},this.props,{className:c["default"](this.props.className,"progress"),min:null,max:null,label:null,"aria-valuetext":null}),e)},t.prototype.renderChildBar=function(e,t){return d.cloneElement(e,{isChild:!0,key:e.key?e.key:t})},t.prototype.renderProgressBar=function(){var e,t=this.props,n=t.className,r=t.label,o=t.now,i=t.min,l=t.max,u=t.style,d=s(t,["className","label","now","min","max","style"]),f=this.getPercentage(o,i,l);"string"==typeof r&&(r=this.renderLabel(f)),this.props.srOnly&&(r=p["default"].createElement("span",{className:"sr-only"},r));var m=c["default"](n,h.getClassSet(this.props),(e={active:this.props.active},e[h.prefix(this.props,"striped")]=this.props.active||this.props.striped,e));return p["default"].createElement("div",a({},d,{className:m,role:"progressbar",style:a({width:f+"%"},u),"aria-valuenow":this.props.now,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max}),r)},t.prototype.renderLabel=function(e){var t=this.props,n=t.interpolateClass,r=t.now,o=t.min,i=t.max,a=t.bsStyle,s=t.label,l=n||w["default"],u=l.REGEXP;return u&&u.exec(s)&&v["default"]("String interpolation in <ProgressBar label>","ES2015 template strings or other patterns"),p["default"].createElement(l,{now:r,min:o,max:i,percent:e,bsStyle:a},s)},t}(p["default"].Component);C.propTypes={min:d.PropTypes.number,now:d.PropTypes.number,max:d.PropTypes.number,label:d.PropTypes.node,srOnly:d.PropTypes.bool,striped:d.PropTypes.bool,active:d.PropTypes.bool,children:r,className:p["default"].PropTypes.string,interpolateClass:d.PropTypes.node,isChild:d.PropTypes.bool},C.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1},t["default"]=h.bsStyles(f.State.values(),h.bsClass("progress-bar",C)),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(36),f=s(p),h=n(24),m={inline:d["default"].PropTypes.bool,disabled:d["default"].PropTypes.bool,validationState:d["default"].PropTypes.oneOf(["success","warning","error"]),inputRef:d["default"].PropTypes.func},v={inline:!1,disabled:!1},g=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,o=e.inputRef,s=e.className,l=e.style,c=e.children,p=a(e,["inline","disabled","validationState","inputRef","className","style","children"]);delete p.bsClass;var m=d["default"].createElement("input",i({},p,{ref:o,type:"radio",disabled:n}));if(t){var v,g=(v={},v[h.prefix(this.props,"inline")]=!0,v.disabled=n,v);return f["default"](!r,"`validationState` is ignored on `<Radio inline>`. To display validation state on an inline radio, set `validationState` on a parent `<FormGroup>` or other element instead."),d["default"].createElement("label",{className:u["default"](s,g),style:l},m,c)}var y=i({},h.getClassSet(this.props),{disabled:n});return r&&(y["has-"+r]=!0),d["default"].createElement("div",{className:u["default"](s,y),style:l},d["default"].createElement("label",null,m,c))},t}(d["default"].Component);g.propTypes=m,g.defaultProps=v,t["default"]=h.bsClass("radio",g),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(20),d=s(c),p=n(36),f=s(p),h=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.bsClass,n=e.className,r=e.a16by9,o=e.a4by3,s=e.children,l=a(e,["bsClass","className","a16by9","a4by3","children"]);f["default"](!(!r&&!o),"`a16by9` or `a4by3` attribute must be set."),f["default"](!(r&&o),"Either `a16by9` or `a4by3` attribute can be set. Not both.");var p={"embed-responsive-16by9":r,"embed-responsive-4by3":o};return d["default"].createElement("div",{className:u["default"](t,p)},c.cloneElement(s,i({},l,{className:u["default"](n,"embed-responsive-item")})))},t}(d["default"].Component);h.defaultProps={bsClass:"embed-responsive",a16by9:!1,a4by3:!1},h.propTypes={bsClass:c.PropTypes.string,children:c.PropTypes.element.isRequired,a16by9:c.PropTypes.bool,a4by3:c.PropTypes.bool},t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=n(49),c=o(u),d=a["default"].createClass({displayName:"Row",propTypes:{componentClass:c["default"]},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass;return a["default"].createElement(e,r({},this.props,{className:l["default"](this.props.className,"row")}),this.props.children)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(28)["default"],l=n(1)["default"];t.__esModule=!0;var u=n(20),c=l(u),d=n(51),p=l(d),f=n(85),h=l(f),m=n(256),v=l(m),g=n(143),y=l(g),b=n(172),w=l(b),C=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.title,r=e.onClick,o=e.target,l=e.href,u=e.toggleLabel,d=e.bsSize,f=e.bsStyle,m=a(e,["children","title","onClick","target","href","toggleLabel","bsSize","bsStyle"]),g=m.disabled,b=w["default"](m,s(h["default"].ControlledComponent.propTypes)),C=y["default"](m,s(h["default"].ControlledComponent.propTypes));return c["default"].createElement(h["default"],b,c["default"].createElement(p["default"],i({},C,{onClick:r,bsStyle:f,bsSize:d,disabled:g,target:o,href:l}),n),c["default"].createElement(v["default"],{"aria-label":u||n,bsStyle:f,bsSize:d,disabled:g}),c["default"].createElement(h["default"].Menu,null,t))},t}(c["default"].Component);C.propTypes=i({},h["default"].propTypes,{bsStyle:p["default"].propTypes.bsStyle,onClick:function(){},target:c["default"].PropTypes.string,href:c["default"].PropTypes.string,title:c["default"].PropTypes.node.isRequired,toggleLabel:c["default"].PropTypes.string}),C.defaultProps={disabled:!1,dropup:!1,pullRight:!1},C.Toggle=v["default"],t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(20),l=a(s),u=n(170),c=a(u),d=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return l["default"].createElement(c["default"],i({},this.props,{useAnchor:!1,noCaret:!1}))},t}(l["default"].Component);t["default"]=d,d.defaultProps=c["default"].defaultProps,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(22)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(20),u=s(l),c=n(258),d=s(c),p=n(259),f=s(p),h=n(260),m=s(h),v=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props,t=(e.title,e.disabled,e.tabClassName,a(e,["title","disabled","tabClassName"]));return u["default"].createElement(d["default"],t)},t}(u["default"].Component);v.propTypes=i({},d["default"].propTypes,{disabled:u["default"].PropTypes.bool,title:u["default"].PropTypes.node,tabClassName:u["default"].PropTypes.string}),v.Container=f["default"],v.Content=m["default"],v.Pane=d["default"],t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(213),l=o(s),u=n(20),c=o(u),d=n(49),p=o(d),f=n(36),h=o(f),m=n(24),v=n(84),g=o(v),y=n(226),b=n(173),w=o(b),C=c["default"].createClass({displayName:"TabPane",propTypes:{eventKey:u.PropTypes.any,animation:u.PropTypes.oneOfType([u.PropTypes.bool,p["default"]]),id:u.PropTypes.string,"aria-labelledby":u.PropTypes.string,onEnter:u.PropTypes.func,onEntering:u.PropTypes.func,onEntered:u.PropTypes.func,onExit:u.PropTypes.func,onExiting:u.PropTypes.func,onExited:u.PropTypes.func,unmountOnExit:u.PropTypes.bool},contextTypes:{$bs_tabcontainer:u.PropTypes.shape({getId:u.PropTypes.func,unmountOnExit:u.PropTypes.bool}),$bs_tabcontent:u.PropTypes.shape({bsClass:u.PropTypes.string,animation:u.PropTypes.oneOfType([u.PropTypes.bool,p["default"]]),activeKey:u.PropTypes.any,onExited:u.PropTypes.func,register:u.PropTypes.func,unmountOnExit:u.PropTypes.bool})},childContextTypes:{$bs_tabcontainer:u.PropTypes.oneOf([null])},componentWillMount:function(){this.exited=!this.isActive(),this.registerWithParent()},componentWillReceiveProps:function(e,t){e.eventKey!==this.props.eventKey&&(this.unregisterWithParent(),this.registerWithParent(e,t))},componentWillUpdate:function(e,t,n){this.isActive(e,n)?this.exited=!1:this.exited||this.getTransition(e,n)||(this.exited=!0,this._fireExitedCallback=!0)},componentDidUpdate:function(){this._fireExitedCallback&&(this._fireExitedCallback=!1,this.onExited())},componentWillUnmount:function(){this.unregisterWithParent()},getChildContext:function(){return{$bs_tabcontainer:null}},getTransition:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.context:arguments[1];return t=this.getContext("$bs_tabcontent",t),null!=e.animation?e.animation:t.animation},getUnmountOnExit:function(){var e=this.getContext("$bs_tabcontent",this.context);return null!=this.props.unmountOnExit?this.props.unmountOnExit:e.unmountOnExit},isActive:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.context:arguments[1];return this.getContext("$bs_tabcontent",t).activeKey===e.eventKey},render:function(){var e,t=this.isActive(),n=t||!this.exited,o=this.getContext("$bs_tabcontainer").getId,i=this.props.bsClass||this.getContext("$bs_tabcontent").bsClass,s=this.getTransition();if(!n&&!s&&this.getUnmountOnExit())return null;var l=(e={active:n},e[m.prefix({bsClass:i},"pane")]=!0,e),u=this.props,d=u.eventKey,p=u.id,f=u["aria-labelledby"],v=u.onExit,b=u.onExiting,C=u.onExited,_=u.onEnter,x=u.onEntering,E=u.onEntered;"boolean"==typeof s&&(s=s?w["default"]:null),o&&(h["default"](!(p||f),"In the context of a TabContainer, TabPanes are given generated `id` and `aria-labelledby` attributes for the sake of proper component accessibility. Any provided ones will be ignored. To control these attributes directly provide a `generateChildId` prop to the parent TabContainer."),p=o(d,y.PANE)||null,f=o(d,y.TAB)||null);var T=c["default"].createElement("div",r({},this.props,{id:p,role:"tabpanel","aria-hidden":!n,"aria-labelledby":f,className:a["default"](this.props.className,l,{"in":!s})}),this.props.children);return s&&(T=c["default"].createElement(s,{"in":t,onExit:v,onExiting:b,onExited:g["default"](this.handleExited,C),onEnter:g["default"](this.handleEnter,_),onEntering:x,onEntered:E,unmountOnExit:this.getUnmountOnExit()},T)),T},onExited:function(){var e=this.getContext("$bs_tabcontent");e.onExited&&e.onExited(this.props.eventKey)},handleEnter:function(e){this.isActive()&&(l["default"](e,"active"),e.offsetWidth)},handleExited:function(){this.exited=!0,this.onExited(),this.forceUpdate()},registerWithParent:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.context:arguments[1],n=this.getContext("$bs_tabcontent",t).register;n&&(this.unregister=n(e.eventKey))},unregisterWithParent:function(){this.unregister&&this.unregister()},getContext:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.context:arguments[1];return t[e]||{}}});t["default"]=m.bsClass("tab",C),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(22)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(159),l=o(s),u=i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),c=a["default"].createClass({displayName:"TabContainer",propTypes:{id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];t=u.apply(void 0,[e].concat(r)),t||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:i.PropTypes.func,onSelect:i.PropTypes.func,activeKey:i.PropTypes.any},childContextTypes:{$bs_tabcontainer:a["default"].PropTypes.shape({activeKey:i.PropTypes.any,onSelect:i.PropTypes.func,getId:i.PropTypes.func})},getChildContext:function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,o=e.id;return{$bs_tabcontainer:{activeKey:t,onSelect:n,getId:r||function(e,t){return o?o+"-"+t+"-"+e:null}}}},render:function(){var e=this.props,t=e.children,n=r(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,a["default"].cloneElement(a["default"].Children.only(t),n)}});t["default"]=l["default"](c,{activeKey:"onSelect"}),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=!0;var o=n(23),i=r(o),a=n(32),s=r(a),l=n(20),u=r(l),c=n(49),d=r(c),p=n(24),f=l.PropTypes.oneOfType([l.PropTypes.bool,d["default"]]),h=u["default"].createClass({displayName:"TabContent",propTypes:{componentClass:d["default"],animation:l.PropTypes.oneOfType([l.PropTypes.bool,d["default"]]),unmountOnExit:l.PropTypes.bool},contextTypes:{$bs_tabcontainer:u["default"].PropTypes.shape({activeKey:u["default"].PropTypes.any,onSelect:l.PropTypes.func})},childContextTypes:{$bs_tabcontent:l.PropTypes.shape({bsClass:l.PropTypes.string,animation:f,activeKey:l.PropTypes.any,onExited:l.PropTypes.func,register:l.PropTypes.func,unmountOnExit:l.PropTypes.bool})},getDefaultProps:function(){return{componentClass:"div",animation:!0,unmountOnExit:!1}},getInitialState:function(){return{exitingPane:null}},getChildContext:function(){var e=this._exitingPane;return{$bs_tabcontent:{bsClass:this.props.bsClass,animation:this.props.animation,activeKey:e?void 0:this.getActiveKey(),onExited:this.handlePaneExited,register:this.registerPane,unmountOnExit:this.props.unmountOnExit}}},componentWillMount:function(){this.panes=[]},componentWillUpdate:function(e,t,n){var r=this.getActiveKey(),o=this.getActiveKey(n),i=-1!==this.panes.indexOf(r);-1===this.panes.indexOf(this._exitingPane)&&(this._exitingPane=null),o!==r&&i&&(this._exitingPane=r)},render:function(){var e=this.props,t=e.className,n=e.children,r=this.props.componentClass,o=p.prefix(this.props,"content");return u["default"].createElement(r,{className:i["default"](o,t)},n)},handlePaneExited:function(){this._exitingPane=null,this.forceUpdate()},registerPane:function(e){var t=this,n=this.panes;return-1!==n.indexOf(e)?s["default"](!1,"You cannot have multiple TabPanes of with the same `eventKey` in the same TabContent component. Duplicate eventKey: "+e):void 0,n.push(e),function(){n.splice(n.indexOf(e),1),e===t.getActiveKey()&&t.getContext("$bs_tabcontainer").onSelect()}},getActiveKey:function(){var e=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0];return this.getContext("$bs_tabcontainer",e).activeKey},getContext:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.context:arguments[1];return t[e]||{}}});t["default"]=p.bsClass("tab",h),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(20),a=o(i),s=n(23),l=o(s),u=a["default"].createClass({displayName:"Table",propTypes:{striped:a["default"].PropTypes.bool,bordered:a["default"].PropTypes.bool,condensed:a["default"].PropTypes.bool,hover:a["default"].PropTypes.bool,responsive:a["default"].PropTypes.bool},getDefaultProps:function(){return{bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1}},render:function(){var e={table:!0,"table-striped":this.props.striped,"table-bordered":this.props.bordered,"table-condensed":this.props.condensed,"table-hover":this.props.hover},t=a["default"].createElement("table",r({},this.props,{className:l["default"](this.props.className,e)}),this.props.children);return this.props.responsive?a["default"].createElement("div",{className:"table-responsive"},t):t}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){var t=void 0;return P["default"].forEach(e,function(e){null==t&&(t=e.props.eventKey)}),t}var o=n(4)["default"],i=n(22)["default"],a=n(28)["default"],s=n(1)["default"];t.__esModule=!0;var l=n(23),u=s(l),c=n(159),d=s(c),p=n(20),f=s(p),h=n(70),m=s(h),v=n(225),g=s(v),y=n(233),b=s(y),w=n(25),C=s(w),_=n(158),x=s(_),E=n(60),T=s(E),k=n(33),P=s(k),S=n(259),O=s(S),I=n(260),N=s(I),A=O["default"].ControlledComponent,M=f["default"].createClass({displayName:"Tabs",propTypes:{activeKey:f["default"].PropTypes.any,bsStyle:f["default"].PropTypes.oneOf(["tabs","pills"]),animation:f["default"].PropTypes.bool,id:x["default"](f["default"].PropTypes.oneOfType([f["default"].PropTypes.string,f["default"].PropTypes.number])),onSelect:f["default"].PropTypes.func,unmountOnExit:f["default"].PropTypes.bool,position:f["default"].PropTypes.oneOf(["top","left","right"]),tabWidth:f["default"].PropTypes.oneOfType([f["default"].PropTypes.number,f["default"].PropTypes.object]),paneWidth:f["default"].PropTypes.oneOfType([f["default"].PropTypes.number,f["default"].PropTypes.object]),standalone:f["default"].PropTypes.bool},getDefaultProps:function(){return{bsClass:"tab",animation:!0,tabWidth:2,position:"top",standalone:!1,unmountOnExit:!1}},render:function(){var e=this.props,t=e.id,n=e.className,r=e.style,a=e.position,s=e.bsStyle,l=e.tabWidth,c=e.paneWidth,d=e.standalone,p=e.children,h=e.onSelect,v=e.activeKey,y=i(e,["id","className","style","position","bsStyle","tabWidth","paneWidth","standalone","children","onSelect","activeKey"]);v=this.getActiveKey();var b="left"===a||"right"===a;null==s&&(s=b?"pills":"tabs");var w={id:t,className:n,style:r,activeKey:v,onSelect:h},C=o({},y,{bsStyle:s,bsClass:void 0,stacked:b,ref:"tabs",role:"tablist"}),_=P["default"].map(p,this.renderTab),x={ref:"panes",animation:y.animation,unmountOnExit:y.unmountOnExit},E=p;if(b){T["default"]({message:'Horizontal Tabs (position "left" or "right") are deprecated in favor of the more flexible TabContainer component.'}),d||(w.className=u["default"](w.className,"clearfix"));var k=this.getColProps({tabWidth:l,paneWidth:c}),S=k.tabsColProps,O=k.panesColProps,I=f["default"].createElement(m["default"],o({componentClass:g["default"]},C,S),_),M=f["default"].createElement(m["default"],o({componentClass:N["default"]},x,O),E);return"left"===a?f["default"].createElement(A,w,f["default"].createElement("div",null,I,M)):f["default"].createElement(A,w,f["default"].createElement("div",null,M,I))}return f["default"].createElement(A,w,f["default"].createElement("div",null,f["default"].createElement(g["default"],C,_),f["default"].createElement(N["default"],x,E)))},getActiveKey:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.activeKey,n=e.children;return void 0===t?r(n):t},renderPane:function(e,t){return p.cloneElement(e,{key:e.key?e.key:t})},renderTab:function(e){if(null==e.props.title)return null;var t=e.props,n=t.eventKey,r=t.title,o=t.disabled,i=t.tabClassName;return f["default"].createElement(b["default"],{eventKey:n,disabled:o,className:i},r)},getColProps:function(e){var t=e.tabWidth,n=e.paneWidth,r=void 0;r=t instanceof Object?t:{xs:t};var o=void 0;return null==n?(o={},a(r).forEach(function(e){o[e]=C["default"].GRID_COLUMNS-r[e]})):o=n instanceof Object?n:{xs:n},{tabsColProps:r,panesColProps:o}}});t["default"]=d["default"](M,{activeKey:"onSelect"}),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(24),c=n(40),d=o(c),p=l["default"].createClass({displayName:"Thumbnail",propTypes:{alt:l["default"].PropTypes.string,href:l["default"].PropTypes.string,src:l["default"].PropTypes.string},render:function(){var e=u.getClassSet(this.props);return this.props.href?l["default"].createElement(d["default"],r({},this.props,{href:this.props.href,className:a["default"](this.props.className,e)}),l["default"].createElement("img",{src:this.props.src,alt:this.props.alt})):this.props.children?l["default"].createElement("div",r({},this.props,{className:a["default"](this.props.className,e)}),l["default"].createElement("img",{src:this.props.src,alt:this.props.alt}),l["default"].createElement("div",{className:"caption"},this.props.children)):l["default"].createElement("div",r({},this.props,{className:a["default"](this.props.className,e)}),l["default"].createElement("img",{src:this.props.src,alt:this.props.alt}))}});t["default"]=u.bsClass("thumbnail",p),e.exports=t["default"]},function(e,t,n){"use strict";var r=n(4)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(23),a=o(i),s=n(20),l=o(s),u=n(158),c=o(u),d=n(24),p=l["default"].createClass({displayName:"Tooltip",propTypes:{id:c["default"](l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.number])),placement:l["default"].PropTypes.oneOf(["top","right","bottom","left"]),positionLeft:l["default"].PropTypes.number,positionTop:l["default"].PropTypes.number,arrowOffsetLeft:l["default"].PropTypes.oneOfType([l["default"].PropTypes.number,l["default"].PropTypes.string]),arrowOffsetTop:l["default"].PropTypes.oneOfType([l["default"].PropTypes.number,l["default"].PropTypes.string]),title:l["default"].PropTypes.node},getDefaultProps:function(){return{bsClass:"tooltip",placement:"right"}},render:function(){var e,t=(e={},e[d.prefix(this.props)]=!0,e[this.props.placement]=!0,e),n=r({left:this.props.positionLeft,top:this.props.positionTop},this.props.style),o={left:this.props.arrowOffsetLeft,top:this.props.arrowOffsetTop};return l["default"].createElement("div",r({role:"tooltip"},this.props,{className:a["default"](this.props.className,t),style:n}),l["default"].createElement("div",{className:d.prefix(this.props,"arrow"),style:o}),l["default"].createElement("div",{className:d.prefix(this.props,"inner")},this.props.children))}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(41)["default"],o=n(48)["default"],i=n(4)["default"],a=n(1)["default"];t.__esModule=!0;var s=n(23),l=a(s),u=n(20),c=a(u),d=n(25),p=n(24),f=function(e){function t(){o(this,n),e.apply(this,arguments)}r(t,e),t.prototype.render=function(){var e=p.getClassSet(this.props);return c["default"].createElement("div",i({},this.props,{className:l["default"](this.props.className,e)}),this.props.children)};var n=t;return t=p.bsSizes([d.Sizes.LARGE,d.Sizes.SMALL])(t)||t,t=p.bsClass("well")(t)||t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(2)["default"],o=n(1)["default"];t.__esModule=!0;var i=n(24),a=r(i);t.bootstrapUtils=a;var s=n(58),l=o(s);t.childrenValueInputValidation=l["default"];var u=n(84),c=o(u);t.createChainedFunction=c["default"];var d=n(33),p=o(d);t.ValidComponentChildren=p["default"]}])}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/TransitionOverlay",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/TransitionOverlay",["module","exports","react","react-bootstrap","lib-build/less!./TransitionOverlay"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t={transition:"Transition"},n=function(t){var n="item",r=null;return t.enabled||(n+=" disabled"),e.transition.id===t.id&&(n+=" selected",r=a["default"].createElement("span",{className:"icon"},a["default"].createElement("span",{className:"glyphicon glyphicon-ok"}))),a["default"].createElement("li",{key:t.id,className:n,onClick:function(){t.enabled&&e.onItemClick(t.id)}},r,t.label)},o=function(){return e.transitions.map(function(t){return t.enabled?n(t):a["default"].createElement(r.OverlayTrigger,{key:t.id,overlay:a["default"].createElement(r.Tooltip,{id:"transition-tooltip-"+e.itemID+"-"+t.id,placement:"right"},t.tooltip)},n(t))})};return a["default"].createElement(r.Popover,s({},e,{id:"transition-popover-"+e.itemID,placement:"top"}),a["default"].createElement("h6",{className:"title"},t.transition),a["default"].createElement("ul",{className:"list"},o()))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/Transition",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/Transition",["module","exports","react","react-dom","react-bootstrap","./TransitionOverlay","lib-build/less!./Transition"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(i),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){s(this,t);var e=l(this,Object.getPrototypeOf(t).call(this));return e.state={shown:!1},e.hidePopover=e.hidePopover.bind(e),e.togglePopover=e.togglePopover.bind(e),e.onTransitionClick=e.onTransitionClick.bind(e),e}return u(t,e),f(t,[{key:"hidePopover",value:function(){this.setState({shown:!1})}},{key:"togglePopover",value:function(){this.setState({shown:!this.state.shown})}},{key:"onTransitionClick",value:function(e){this.hidePopover(),this.props.callbacks.updateItemTransition(this.props.index,e)}},{key:"render",value:function(){var e=this,t="op-transition-button";return this.props.showActions||(t+=" transition-hidden"),this.props.firstItem?null:c["default"].createElement("div",{className:"op-transition-container"},c["default"].createElement(o.Overlay,{trigger:"click",placement:"top",rootClose:!0,show:this.state.shown,target:function(){return d["default"].findDOMNode(e.refs.target)},onHide:this.hidePopover},c["default"].createElement(p["default"],{className:"op-transition-overlay",itemID:this.props.itemID,transitions:this.props.transitions,transition:this.props.transition,onItemClick:this.onTransitionClick})),c["default"].createElement("div",{ref:"target",className:t,onClick:this.togglePopover},c["default"].createElement("img",{className:"icon",src:this.props.transition.icon})))}}]),t}(c["default"].Component);t["default"]=h,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/ItemMain",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/ItemMain",["module","exports","react","./../common/ActionOverlay","lib-build/less!./../common/ItemMain","lib-build/less!./ItemMain"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=null,n=null;return e.showMedia&&(t=a["default"].createElement("span",{className:"media-type"
}),n=a["default"].createElement("img",{src:e.item.icon,className:"icon"})),a["default"].createElement("div",{style:{backgroundImage:"url("+e.item.thumbnail+")"},className:"op-item-main"},t,n,a["default"].createElement(s["default"],e))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r);t["default"]=i,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/Item",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/item/immersiveView/Item",["module","exports","react","./InlineAdd","./Transition","./ItemMain","lib-build/less!./../common/Item","lib-build/less!./Item"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){s(this,t);var e=l(this,Object.getPrototypeOf(t).call(this));return e.state={showActions:!1},e.renderInlineAdd=e.renderInlineAdd.bind(e),e.renderInnerItem=e.renderInnerItem.bind(e),e.renderTransition=e.renderTransition.bind(e),e}return u(t,e),m(t,[{key:"renderInlineAdd",value:function(){return c["default"].createElement(d["default"],{organize:this.props.organize,lastItem:this.props.lastItem,addItem:this.props.callbacks.addItem,index:this.props.index})}},{key:"renderTransition",value:function(){var e=this;return c["default"].createElement(p["default"],{firstItem:this.props.firstItem,showActions:this.state.showActions,itemID:this.props.item.id,transitions:this.props.item.transitions,transition:this.props.item.transitions.find(function(t){return t.id===e.props.item.transition}),callbacks:this.props.callbacks,index:this.props.index})}},{key:"renderInnerItem",value:function(){var e=this,t="op-item";return this.props.selected&&(t+=" selected"),this.props.item.hasOrganize||(t+=" undraggable"),this.props.organize&&(t+=" organize"),c["default"].createElement("div",{className:t,onClick:function(){e.props.organize||(e.props.onItemClicked(e.props.item.id),e.props.callbacks.selectItem(e.props.item.id))},onMouseEnter:function(){e.props.organize||e.setState({showActions:!0})},onMouseLeave:function(){e.setState({showActions:!1})},"data-id":this.props.item.id},this.renderTransition(),c["default"].createElement(f["default"],h({showMedia:!0,showActions:this.state.showActions},this.props)))}},{key:"render",value:function(){return c["default"].createElement("div",{className:"op-item-outer","data-id":this.props.item.id},this.renderInnerItem(),this.renderInlineAdd())}}]),t}(c["default"].Component);t["default"]=v,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/list/List",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/list/List",["module","exports","react","lib/Sortable/Sortable","./item/builderOverview/Item","./item/immersiveView/Item","lib-build/less!./List"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){s(this,t);var e=l(this,Object.getPrototypeOf(t).call(this));return e.sortableContainersDecorator=e.sortableContainersDecorator.bind(e),e.sortableGroupDecorator=e.sortableGroupDecorator.bind(e),e.showItems=e.showItems.bind(e),e.preventPageScroll=e.preventPageScroll.bind(e),e.sortableGroupInstance=null,e.sortableContainerInstance=null,e.listNode=null,e}return u(t,e),h(t,[{key:"componentDidMount",value:function(){this.listNode=$(".op-list.group-list")[0],this.listNode.addEventListener("wheel",this.preventPageScroll)}},{key:"preventPageScroll",value:function(e){this.listNode.scrollHeight>=this.listNode.clientHeight&&(this.listNode.scrollHeight-this.listNode.scrollTop<=this.listNode.clientHeight&&e.deltaY>0&&e.preventDefault(),0===this.listNode.scrollTop&&e.deltaY<0&&e.preventDefault())}},{key:"componentDidUpdate",value:function(e){e.organize!==this.props.organize&&this.sortableGroupInstance.option("disabled",!this.props.organize)}},{key:"componentWillUnmount",value:function(){this.sortableGroupInstance.destroy(),this.sortableContainerInstance.destroy(),this.listNode.removeEventListener("wheel",this.preventPageScroll)}},{key:"sortableContainersDecorator",value:function(e){var t=null;e&&(t={},this.sortableContainerInstance=d["default"].create(e,t))}},{key:"sortableGroupDecorator",value:function(e){var t=this,n=null;e&&(n={disabled:!0,ghostClass:"drop-zone",chosenClass:"chosen",filter:".undraggable",animation:300,onUpdate:function(){var e=t.sortableGroupInstance.toArray();t.props.updateOrder(e)},onMove:function(e){return $(e.related).hasClass("undraggable")?!1:void 0}},this.sortableGroupInstance=d["default"].create(e,n))}},{key:"showItems",value:function(){var e=this,t=p["default"];return"horizontal"===this.props.orientation&&(t=f["default"]),this.props.items.map(function(n,r,o){var i=0===r,a=r===o.length-1;return c["default"].createElement(t,{key:n.id,item:n,index:r,onItemClicked:e.props.changeSelectedItem,selected:e.props.selectedItem===n.id,callbacks:e.props.callbacks,organize:e.props.organize,orientation:e.props.orientation,firstItem:i,lastItem:a})})}},{key:"render",value:function(){var e="op-list";return this.props.organize&&(e+=" organize"),c["default"].createElement("div",{className:"group-list "+e,ref:this.sortableGroupDecorator},this.showItems())}}]),t}(c["default"].Component);t["default"]=m,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/builder/overviewPanel/Panel",[],function(){}),define("storymaps-react/tpl/builder/overviewPanel/Panel",["module","exports","react","./list/List","lib-build/less!./Panel"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.organize?l.done:l.organize,n="icon glyphicon",r="op-panel";return"horizontal"===e.orientation&&(r+=" op-style-horizontal"),n+=e.organize?" glyphicon-ok done":" glyphicon-sort organize",a["default"].createElement("div",{className:r},a["default"].createElement(s["default"],e),a["default"].createElement("div",{className:"organize-toggle",onClick:function(){e.organize&&e.callbacks.organize(e.order),e.toggleOrganize()}},a["default"].createElement("span",{className:n}),"horizontal"===e.orientation?null:t))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l={organize:"Organize",done:"Done"};t["default"]=i,e.exports=t["default"]}),define("storymaps-react/tpl/builder/overviewPanel/PanelContainer",["module","exports","react-redux","./actions","./Panel"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var s=a(r),l=i(o),u=function(e){return{items:e.items,organize:e.organize,selectedItem:e.selectedItem,order:e.order}},c=function(e){return{toggleOrganize:function(){e(s.toggleOrganize())},changeSelectedItem:function(t){e(s.changeSelectedItem(t))},updateOrder:function(t){e(s.updateOrder(t))}}};t["default"]=(0,n.connect)(u,c)(l["default"]),e.exports=t["default"]}),define("storymaps-react/tpl/builder/overviewPanel/OverviewPanel",["module","exports","react","react-dom","redux","react-redux","./reducer","./actions","./PanelContainer"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r){function a(e,n){var r=500,o=800,i=0,a=0,s=0,l=0,u=0,c=0,d=0,p=0;"horizontal"===t?(s=n[0].offsetWidth/2,l=e[0].offsetWidth/2,a=l-s,d=n.offset().left-(e.offset().left-e.scrollLeft()),i=d-a,0>i&&(i=0),e.animate({scrollLeft:i},o)):(u=n[0].offsetHeight/2,c=e[0].offsetHeight/2,a=c-u,p=n.offset().top-(e.offset().top-e.scrollTop()),i=p-a,0>i&&(i=0),e.animate({scrollTop:i},r))}var s={selectedItem:n.length?n[0].id:"",items:n,organize:!1,order:n.map(function(e){return e.id})},l=(0,o.createStore)(f["default"],s);p["default"].render(d["default"].createElement(i.Provider,{store:l},d["default"].createElement(m["default"],{callbacks:r,orientation:t})),e),this.updateItems=function(e){l.dispatch(h.updateItems(e))},this.navigateTo=function(t){l.dispatch(h.changeSelectedItem(t));var n=$(e).find(".group-list"),r=n.find('[data-id="'+t+'"]');n.length&&r.length&&a(n,r)}};var d=c(n),p=c(r),f=c(a),h=u(s),m=c(l);e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/view/section/Immersive/ImmersiveBuilderPanel",[],function(){}),define("storymaps-react/tpl/view/section/Immersive/ImmersiveBuilderPanel",["module","exports","storymaps-react/tpl/builder/overviewPanel/OverviewPanel","lib-build/less!./ImmersiveBuilderPanel"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={none:{id:"none",label:"None",icon:"resources/tpl/builder/icons/immersive-panel/None.png"},"fade-slow":{id:"fade-slow",label:"Fade",icon:"resources/tpl/builder/icons/immersive-panel/Fade.png"},"fade-fast":{id:"fade-fast",label:"Fade fast",icon:"resources/tpl/builder/icons/immersive-panel/FadeFast.png"},"swipe-vertical":{id:"swipe-vertical",label:"Swipe Vertical",icon:"resources/tpl/builder/icons/immersive-panel/SwipeVertical.png"},"swipe-horizontal":{id:"swipe-horizontal",label:"Swipe Horizontal",icon:"resources/tpl/builder/icons/immersive-panel/SwipeHorizontal.png"}},l=function(){function e(t){o(this,e),t=t||{},t.container&&(this._node=t.container,this._medias=null,this._panels=null,this._transitions=null,this._overview=new i["default"](this._node[0],"horizontal",[],{selectItem:function(e){t.selectView(this._getViewById(e))}.bind(this),addItem:t.addView,deleteItem:function(e){t.deleteView(this._getViewById(e))}.bind(this),duplicateItem:function(e){t.duplicateView(this._getViewById(e))}.bind(this),updateItemTransition:t.updateTransition,organize:t.organize}))}return a(e,[{key:"update",value:function(e){e=e||{},e.medias&&e.panels&&(this._medias=e.medias,this._panels=e.panels,this._transitions=e.transitions,this._overview.updateItems(this._getViewsOverview(e.transitionsInfos)))}},{key:"selectView",value:function(e){this._overview.navigateTo(this._getViewIdByIndex(e))}},{key:"_getViewById",value:function(e){for(var t in this._panels){var n=this._panels[t];if(n.id==e)return parseInt(t,10)}return-1}},{key:"_getViewIdByIndex",value:function(e){return this._panels[e].id}},{key:"_getViewsOverview",value:function(e){for(var t=[],n=0;n<this._medias.length;n++){var r=this._medias[n],o=this._panels[n],i=this._transitions[n],a=e[n];t.push({id:o.id,type:"thumbnail",icon:r.getPreviewIcon(),transition:i,transitions:this._getTransition({index:n,mediaType:r.type,isDuplicate:a.isDuplicate,isDuplicateConsecutive:a.isDuplicateConsecutive,firstOccurenceTransition:a.firstOccurenceTransition,duplicateConsecutiveTransitions:a.duplicateConsecutiveTransitions}),thumbnail:r.getPreviewThumbnail(),hidden:!1,hasDelete:!0,hasHide:!0,hasDuplicate:!0,hasOrganize:!0})}return t}},{key:"_getTransition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];if(0===e.index)return t;if(e.isDuplicateConsecutive){var n="Not available for consecutive media",r="Not available for that configuration: the layers configuration needs to be different between the two views and other properties needs to be identical)",o="Not available for consecutive webmap",i=["fade-slow","fade-fast","swipe-vertical","swipe-horizontal"],a=Object.assign({},s.none);a.enabled=!0,a.tooltip="",t.push(a);var l=!0,u=!1,c=void 0;try{for(var d,p=i[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value,h=Object.assign({},s[f]);e.duplicateConsecutiveTransitions.indexOf(f)>-1?(h.enabled=!0,h.tooltip=""):"webmap"==e.mediaType?"fade-slow"==f||"fade-fast"==f?(h.enabled=!1,h.tooltip=o):(h.enabled=!1,h.tooltip=r):(h.enabled=!1,h.tooltip=n),t.push(h)}}catch(m){u=!0,c=m}finally{try{!l&&p["return"]&&p["return"]()}finally{if(u)throw c}}}else if(e.isDuplicate&&e.firstOccurenceTransition){var v="Not available as the first occurence is using a different transition";for(var g in s){var y=Object.assign({},s[g]);g!=e.firstOccurenceTransition?(y.enabled=!1,y.tooltip=v):(y.enabled=!0,y.tooltip=""),t.push(y)}}else for(var b in s){var w=Object.assign({},s[b]);w.enabled=!0,w.tooltip="",t.push(w)}return t}}]),e}();t["default"]=l,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/builder/notification/Undo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,typeof o===i?o.call(e,{name:"id",hash:{},data:r}):o))+'" class="builder-notification">\r\n  <div class="alert alert-warning alert-dismissible" role="alert">\r\n    '+s((o=null!=(o=t.label||(null!=e?e.label:e))?o:a,typeof o===i?o.call(e,{name:"label",hash:{},data:r}):o))+'\r\n    <button class="btn btn-primary btn-sm btn-undo">'+s((o=null!=(o=t.labelUndo||(null!=e?e.labelUndo:e))?o:a,typeof o===i?o.call(e,{name:"labelUndo",hash:{},data:r}):o))+'</button>\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/builder/notification/Undo",[],function(){}),define("storymaps-react/tpl/builder/notification/Undo",["module","exports","./Notification","lib-build/hbars!./Undo","lib-build/less!./Undo"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=5e3,p=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return i(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),c(t,[{key:"render",value:function(){return(0,u["default"])({id:this._id,label:this._label,labelUndo:"Undo"})}},{key:"postCreate",value:function(){void 0!==this._positionTop&&this._node.css("top",this._positionTop),this._initEvents()}},{key:"_initEvents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.delay||d;setTimeout(function(){this._node.remove(),this._resultDeferred.reject()}.bind(this),t),this._node.find(".btn-undo").click(function(){this._node.remove(),this._resultDeferred.resolve()}.bind(this))}}]),t}(l["default"]);t["default"]=p,e.exports=t["default"]}),define("lib-build/less!storymaps-react/tpl/view/section/Immersive/ImmersiveBuilder",[],function(){}),define("storymaps-react/tpl/view/section/Immersive/ImmersiveBuilder",["module","exports","./Immersive","./ImmersiveBuilderPanel","storymaps/tpl/view/section/Common","storymaps-react/tpl/builder/notification/Undo","../builder/AddMenu","lib-build/less!./ImmersiveBuilder"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},y=function(e){function t(e,n){l(this,t);var r=u(this,Object.getPrototypeOf(t).call(this,e));return r.MEDIA_BUILDER_TABS_BACKGROUND=["appearance","manage"],r.MEDIA_BUILDER_TABS_PANEL=["appearance","manage"],r._latestOnScrollParams=null,r._currentScrollPosition=null,r._builderPanel=null,r._builderPanelNode=null,r._initialMedia=n,r._addMenu=new m["default"]({buttons:["sequence","title","immersive"]}),r}return c(t,e),v(t,[{key:"render",value:function(){var e=this._section.views;if(!e||!e.length){var n=this._initialMedia||{type:"empty",empty:"empty"};this._section.views=[{transition:"fade-slow",background:f["default"].initMedia(n).serialize(),foreground:{panels:[app.ui.ImmersivePanelFactory.createInstance().serialize()]}}]}return g(Object.getPrototypeOf(t.prototype),"render",this).call(this)}},{key:"postCreate",value:function(e){g(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._builderPanelNode=this._node.find(".builder-panel"),this._builderPanel=new p["default"]({container:this._builderPanelNode,selectView:this._selectView.bind(this),addView:this._addEmptyView.bind(this),deleteView:this._deleteView.bind(this),duplicateView:this._duplicateView.bind(this),updateTransition:this._updateTransition.bind(this),organize:this._organizeByIds.bind(this)}),this._node.find(".background-title h2").attr("contenteditable",!0).attr("placeholder","Enter a title..."),this._addMenu.postCreate({container:this._node.find(".builder-section-add-menu"),sectionContainer:this._node}),this._updateBuilderPanel()}},{key:"update",value:function(){g(Object.getPrototypeOf(t.prototype),"update",this).call(this),this._updateBuilderPanel()}},{key:"onScroll",value:function(e){this._latestOnScrollParams=e,this._currentScrollPosition=e.currentSectionScroll;var n=this._currentViewIndex;g(Object.getPrototypeOf(t.prototype),"onScroll",this).call(this,e),n!=this._currentViewIndex&&(this._builderPanel.selectView(this._currentViewIndex-1),app.isInBuilder&&this._node.toggleClass("hide-foreground",this._medias[this._currentViewIndex-1].isConfigActive()))}},{key:"navigateToViewByIndex",value:function(e){g(Object.getPrototypeOf(t.prototype),"navigateToViewByIndex",this).call(this,e),this._builderPanel.selectView(e)}},{key:"getPreviewThumbnail",value:function(){return this._medias.length?this._medias[0].getPreviewThumbnail():""}},{key:"getPreviewText",value:function(){var e="";return this._panels.length&&this._panels[0]._blocks.length&&this._panels[0]._blocks[0]._text&&(e=$(this._panels[0]._blocks[0]._text.value).text()),e}},{key:"getPreviewIcon",value:function(){return""}},{key:"onUpdatePanelLayout",value:function(e){this._node.removeClass("layout-scroll-full layout-scroll-partial").addClass("layout-"+e),this._node.find(".imm-panel").css({opacity:"scroll-full"==e?"inherit":0,transform:""});for(var t=0;t<this._panels.length;t++){var n=this._panels[t];n.layout=e,t==this._currentViewIndex-1&&n.updatePosition({currentSectionScroll:this._currentScrollPosition})}}},{key:"serialize",value:function(){for(var e=[],t=0;t<this._medias.length;t++){var n=this._medias[t],r=this._panels[t],o=this._transitions[t];e.push({transition:o,background:n.serialize(),foreground:{panels:[r.serialize()]}}),0===t&&(e[0].foreground.title={value:this._node.find(".background-title h2").html(),global:!0})}return this._section.views=e,this._section}},{key:"setBookmark",value:function(e){this._section.bookmark={enabled:"visible"==e.status,title:e.bookmark}}},{key:"_updateBuilderPanel",value:function(){if(this._builderPanel){for(var e=[],t=0;t<this._medias.length;t++)e.push(this._getTransitionInfo(t));this._builderPanel.update({medias:this._medias,panels:this._panels,transitions:this._transitions,transitionsInfos:e})}}},{key:"_onToggleMediaConfig",value:function(){this._node.toggleClass("hide-foreground")}},{key:"_onMediaConfigAction",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.action&&e.media&&"swap"==e.action&&e.newMedia&&this._onEditMedia(e.media,e.newMedia)}},{key:"_onEditMedia",value:function(e,t){console.log(e,t);var n=this._medias.indexOf(e),r=f["default"].initMedia(t);e.getNode().after(f["default"].renderBackground({media:r})),r.postCreate({container:this._node,delayBuilderInit:!0,onEdit:function(e){this._onEditMedia(r,e)}.bind(this),onToggleMediaConfig:this._onToggleMediaConfig.bind(this),onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS_BACKGROUND}),r.load(),e.destroy(),this._medias[n]=r,this.update(),r.getNode().addClass("active")}},{key:"_selectView",value:function(e){console.log("selectView:",e),e!=this._currentViewIndex-1&&this.navigateToViewByIndex(e)}},{key:"_addEmptyView",value:function(e){console.log("addEmptyView:",e);var t=f["default"].initMedia({type:"empty",empty:"empty"});this._medias.splice(e+1,0,t),this._medias[e].getNode().after(f["default"].renderBackground({media:t})),t.postCreate({container:this._node,delayBuilderInit:!0,onEdit:function(e){this._onEditMedia(t,e)}.bind(this),onToggleMediaConfig:app.isInBuilder?this._onToggleMediaConfig.bind(this):null,onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS_BACKGROUND});var n=app.ui.ImmersivePanelFactory.duplicateWithoutContent(this._panels[e]?this._panels[e].serialize():null,{onUpdateLayout:this._onUpdatePanelLayout});this._panels.splice(e+1,0,n),this._node.find(".foreground .imm-panel").eq(e).after(n.render()),n.postCreate({container:this._node,mediaConfigurationTabs:this.MEDIA_BUILDER_TABS_PANEL}),this._transitions.splice(e+1,0,"none"),this.update(),this.navigateToViewByIndex(e+1)}},{key:"_addView",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];console.log("addView:",e);var t=e.index,n=e.media,r=e.panel,o=e.transition;if(void 0!==t&&n&&r&&o){n=f["default"].initMedia(n),this._medias.splice(t,0,n);var i=this.isMediaAlreadyLoaded(n.serialize());i||this._medias[t-1].getNode().after(f["default"].renderBackground({media:n})),n.postCreate({container:this._node,delayBuilderInit:!0,onEdit:function(e){this._onEditMedia(n,e)}.bind(this),onToggleMediaConfig:this._onToggleMediaConfig.bind(this),onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS_BACKGROUND}),r=app.ui.ImmersivePanelFactory.createInstance(r,{onUpdateLayout:this._onUpdatePanelLayout}),this._panels.splice(t,0,r),this._node.find(".foreground .imm-panel").eq(t-1).after(r.render()),r.postCreate({container:this._node,mediaConfigurationTabs:this.MEDIA_BUILDER_TABS_PANEL}),this._transitions.splice(t+1,0,o),this.update(),this.navigateToViewByIndex(t+1)}}},{key:"_deleteView",value:function(e){console.log("deleteView:",e);var t={index:e,panel:this._panels[e].serialize(),media:this._medias[e].serialize(),transition:this._transitions[e]};this.isMediaUniqueInSection(this._medias[e].serialize())&&this._node.find(".background").eq(e).remove(),this._node.find(".imm-panel").eq(e).remove(),this._panels.splice(e,1),this._medias.splice(e,1),this._transitions.splice(e,1),this.update(),e==this._currentViewIndex-1&&(e>0?this.navigateToViewByIndex(e-1):this._medias.length&&this.navigateToViewByIndex(e));var n=new h["default"]({container:this._node,label:"You deleted a view.",positionTop:70});n.display().then(function(){this._addView(t)}.bind(this),function(){})}},{key:"_duplicateView",value:function(e){console.log("duplicateView:",e);var t=app.ui.MediaFactory.createInstance(this._medias[e].serialize());this._medias.splice(e+1,0,t);var n=this.isMediaAlreadyLoaded(t.serialize());n||this._medias[e].getNode().after(f["default"].renderBackground({media:t})),t.postCreate({container:this._node,delayBuilderInit:!0,onEdit:function(e){this._onEditMedia(t,e)}.bind(this),onToggleMediaConfig:this._onToggleMediaConfig.bind(this),onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this.MEDIA_BUILDER_TABS_BACKGROUND});var r=app.ui.ImmersivePanelFactory.duplicateWithoutContent(this._panels[e].serialize(),{onUpdateLayout:this._onUpdatePanelLayout});this._panels.splice(e+1,0,r),this._node.find(".foreground .imm-panel").eq(e).after(r.render()),r.postCreate({container:this._node,mediaConfigurationTabs:this.MEDIA_BUILDER_TABS_PANEL}),this._transitions.splice(e+1,0,this._transitions[e]),this.update(),e==this._currentViewIndex-1&&this.navigateToViewByIndex(e+1)}},{key:"_updateTransition",value:function(e,t){console.log("updateTransition:",e,t),this._applyViewTransition({media:this._medias[e],prevTransition:this._transitions[e],newTransition:t}),this._transitions[e]=t,this.update(),this.onScroll(this._latestOnScrollParams)}},{key:"_applyViewTransition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.media){var t=e.media.getNode();e.prevTransition&&e.newTransition?(t.css("clip","").removeClass("transition-"+e.prevTransition),"fade-slow"==e.newTransition||"fade-fast"==e.newTransition?(this._node.addClass("disable-transition"),t.removeClass("active").addClass("transition-"+e.newTransition),setTimeout(function(){this._node.removeClass("disable-transition"),t.addClass("active")}.bind(this),10)):t.addClass("transition-"+e.newTransition)):console.error("TODO")}}},{key:"_organizeByIds",value:function(e){var t=this._getViewsIndexesByIds(e);this._organizeByIndexes(t,!0)}},{key:"_organizeByIndexes",value:function(e,t){console.log("Organize:",e);for(var n=[],r=[],o=[],i=-1,a=0;a<e.length;a++){var s=e[a];n.push(this._medias[s]),r.push(this._panels[s]),o.push(this._transitions[s]),s==this._currentViewIndex&&(i=a)}this._medias=n,this._panels=r,this._transitions=o;for(var l=this._panels.length-1;l>=0;l--){var u=this._panels[l];this._node.find(".foreground").prepend(u._node)}if(this.update(),-1!=i&&setTimeout(function(){this.navigateToViewByIndex(i)}.bind(this),50),t){var c=new h["default"]({container:this._node,label:"You organized the views.",positionTop:70});c.display().then(function(){this._organizeByIndexes(e,!1)}.bind(this),function(){})}}},{key:"_getViewsIndexesByIds",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var s=i.value,l=0;l<this._panels.length;l++){var u=this._panels[l];u.id==s&&t.push(l)}}catch(c){r=!0,o=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return t}}]),t}(d["default"]);t["default"]=y,e.exports=t["default"]}),define("storymaps-react/tpl/view/section/CreditsBuilder",["module","exports","./Credits","./builder/AddMenu"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},p="#000",f=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n._addMenu=new u["default"]({buttons:["sequence","title","immersive"]}),n}return s(t,e),c(t,[{key:"render",value:function(){return this._section.background||(this._section={type:"credits",layout:"credits-1",background:{type:"color",color:{value:p}},foreground:{blocks:[{type:"text",text:{value:'<h2 class="block">TODO Builder goes here!</h2>'}}]}}),d(Object.getPrototypeOf(t.prototype),"render",this).call(this)}},{key:"postCreate",value:function(e){d(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._addMenu.postCreate({container:this._node.find(".builder-section-add-menu"),sectionContainer:this._node})}},{key:"serialize",value:function(){return this._section}}]),t}(l["default"]);t["default"]=f,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/builder/CreditsPlaceholder",["Handlebars"],function(e){
return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l='<div class="section section-layout-credits-placeholder">\r\n\r\n  ';return i=null!=(i=t.background||(null!=e?e.background:e))?i:s,o=typeof i===a?i.call(e,{name:"background",hash:{},data:r}):i,null!=o&&(l+=o),l+'\r\n\r\n  <div class="foreground">\r\n    <button class="btn btn-primary btn-lg btn-add-credits">Add a credits section</button>\r\n  </div>\r\n\r\n  <div class="builder-section-add-menu"></div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/builder/CreditsPlaceholder",[],function(){}),define("storymaps-react/tpl/view/section/builder/CreditsPlaceholder",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","./AddMenu","lib-build/hbars!./CreditsPlaceholder","lib-build/less!./CreditsPlaceholder"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n),u=a(r),c=a(o),d=a(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(){s(this,e),this.type="credits-placeholder",this.id=u["default"].getUID(),this._node=null,this._addMenu=new c["default"]({buttons:["sequence","title","immersive"]})}return p(e,[{key:"render",value:function(){return(0,d["default"])({background:l["default"].renderBackground({media:l["default"].initMedia({type:"color",color:{value:"#777"}})})})}},{key:"postCreate",value:function(e){this._node=e,this._addMenu.postCreate({container:this._node.find(".builder-section-add-menu"),sectionContainer:this._node}),this._node.find(".btn-add-credits").click(this._onClickAddCredits.bind(this))}},{key:"resize",value:function(){}},{key:"onScroll",value:function(){}},{key:"serialize",value:function(){return null}},{key:"setVisibility",value:function(e){this._node.toggleClass("hidden",!e)}},{key:"_onClickAddCredits",value:function(){app.Controller.addSection({type:"credits",index:this._node.index()})}}]),e}();t["default"]=f,e.exports=t["default"]}),define("storymaps-react/tpl/view/section/FactoryBuilder",["module","exports","./FactoryViewer","storymaps/tpl/view/section/Cover/Cover","./SequenceBuilder","./TitleBuilder","./Immersive/ImmersiveBuilder","./CreditsBuilder","./builder/CreditsPlaceholder"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=u(n),h=u(r),m=u(o),v=u(i),g=u(a),y=u(s),b=u(l),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(){return c(this,t),d(this,Object.getPrototypeOf(t).apply(this,arguments))}return p(t,e),w(t,null,[{key:"getClasses",value:function(){return{Cover:h["default"],Sequence:m["default"],Title:v["default"],Immersive:g["default"],Credits:y["default"],CreditsPlaceholder:b["default"]}}}]),t}(f["default"]);t["default"]=C,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/Immersive/Panel",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="'+l((i=null!=(i=t.classes||(null!=e?e.classes:e))?i:s,typeof i===a?i.call(e,{name:"classes",hash:{},data:r}):i))+'" id="'+l((i=null!=(i=t.id||(null!=e?e.id:e))?i:s,typeof i===a?i.call(e,{name:"id",hash:{},data:r}):i))+'">\r\n  <div class="blocksWrapper">\r\n    <div class="blocks">\r\n      ';return i=null!=(i=t.blocks||(null!=e?e.blocks:e))?i:s,o=typeof i===a?i.call(e,{name:"blocks",hash:{},data:r}):i,null!=o&&(u+=o),u+'\r\n    </div>\r\n    <div class="builder-ui panel-cfg"></div>\r\n  </div>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/Immersive/Panel",[],function(){}),define("storymaps-react/tpl/view/section/Immersive/Panel",["module","exports","storymaps/tpl/view/section/Common","storymaps/tpl/utils/UI","lib-build/hbars!./Panel","lib-build/less!./Panel"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n),l=i(r),u=i(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=125,p=function(){function e(t){a(this,e),this.id=l["default"].getUID(),this.layout=t.layout,this._settings=t.settings,this._blocksJSON=t.blocks,this._blocks=null,this._node=null}return c(e,[{key:"render",value:function(){var e=s["default"].renderBlocks(this._blocksJSON,{});return this._blocks=e.blocks,(0,u["default"])({id:this.id,classes:this.getClasses(),blocks:e.output})}},{key:"load",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._blocks[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.load()}}catch(a){t=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"postCreate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.container){this._node=e.container.find("#"+this.id);var t=!0,n=!1,r=void 0;try{for(var o,i=this._blocks[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.postCreate({container:this._node,onToggleMediaConfig:app.isInBuilder?this._onToggleMediaConfig.bind(this):null,onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this._mediaConfigurationTabs})}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}}},{key:"getClasses",value:function(){var e=["imm-panel"];return this._settings&&(e.push("style-"+this._settings.style),e.push("theme-"+this._settings.theme),e.push("placement-"+this._settings["position-x"]),e.push("size-"+this._settings.size)),e.join(" ")}},{key:"updatePosition",value:function(e){if(e.currentSectionScroll){var t=app.display.sectionHeight,n=e.currentSectionScroll%t,r=n/t,o=null,i=1;"scroll-partial"==this.layout&&(o=t/2+40-r*d,i=.5>=r?2*r*1.5:1-2*(r-.5)/1.5,i>1?i=1:0>i&&(i=0),i>.9&&(i=1),this._node.parent().find(".imm-panel").css("opacity",0),this._node.css({transform:"translateY("+o+"px)",opacity:i,visibility:"visible"}))}}}]),e}();t["default"]=p,e.exports=t["default"]}),define("lib-build/hbars!storymaps-react/tpl/view/section/Immersive/PanelBuilder",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="builder-config-panel">\r\n  <div class="panel-scrolling">\r\n    <div class="options-container panel-scrolling-layout" data-option="layout">\r\n      <div class="panel-cfg-item">\r\n        <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'scroll-full\'>\r\n          <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelScrollFull.gif" />\r\n        </div>\r\n      </div>\r\n      <div class="panel-cfg-item">\r\n        <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'scroll-partial\'>\r\n          <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelScrollPartial.gif" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="panel-config-row">\r\n      <div class="options-container panel-scrolling-style" data-option="style">\r\n        <div class="panel-column">\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'background\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelBackgroundFill.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'text-shadow\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelBackgroundShadow.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'auto\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelBackgroundAuto.png" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="options-container panel-scrolling-size" data-option="size">\r\n        <div class="panel-column">\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'small\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelWidthNarrow.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'medium\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelWidthMedium.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'large\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelWidthWide.png" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="panel-config-row">\r\n      <div class="options-container panel-scrolling-placement" data-option="position-x">\r\n        <div class="panel-column">\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'left\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelAlignLeft.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'center\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelAlignCenter.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'right\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelAlignRight.png" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="options-container panel-scrolling-theme" data-option="theme">\r\n        <div class="panel-column">\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'black-over-white\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelThemeLight.png" />\r\n            </div>\r\n          </div>\r\n          <div class="panel-cfg-item">\r\n            <div class="panel-cfg-item-wrapper fa fa-check-circle" data-value=\'white-over-black\'>\r\n              <img class="panel-cfg-item-icon" src="resources/tpl/builder/icons/immersive/panelThemeDark.png" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="builder-config-panel-btn">\r\n  <i class="builder-invite-open fa fa-cog" aria-hidden="true"></i>\r\n  <i class="builder-invite-close fa fa-times" aria-hidden="true"></i>\r\n</div>\r\n'},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/section/Immersive/PanelBuilder",[],function(){}),define("storymaps-react/tpl/view/section/Immersive/PanelBuilder",["module","exports","./Panel","storymaps/tpl/view/section/Common","storymaps-react/common/builder/textEditor/MediumEditorWrapper","lib-build/hbars!./PanelBuilder","lib-build/less!./PanelBuilder"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(o),f=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},v=function(e){function t(e,n){s(this,t);var r=l(this,Object.getPrototypeOf(t).call(this,e));return r._callbacks=n,r._editor=null,r._configPanelIsInit=!1,r._configPanelIsOpen=!1,r._configPanelMedia=null,r._mediaConfigurationTabs=null,r}return u(t,e),h(t,[{key:"postCreate",value:function(e){this._mediaConfigurationTabs=e.mediaConfigurationTabs,m(Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),this._editor=new p["default"]({node:this._node.find(".blocks"),addMedia:this.addMedia.bind(this),style:"compact",addButtons:["text","media"],authorizedMedia:["image"]}),this._node.find(".panel-cfg").html((0,f["default"])({})),this._node.find(".blocks").click(this.onPanelClick.bind(this)),this._node.find(".builder-config-panel-btn").click(this.toggleBuilderPanel.bind(this))}},{key:"updatePosition",value:function(e,n){if(m(Object.getPrototypeOf(t.prototype),"updatePosition",this).call(this,e,n),this._editor.hideToolbars(),this._configPanelIsOpen)if(e.isNewView)this._configPanelMedia.closeConfigPanel(),this._configPanelIsOpen=!1,this._configPanelMedia=null;else{var r=this._configPanelMedia.getNode(),o=r[0].getBoundingClientRect();r.find(".media-cfg-panel").css("top",o.bottom)}}},{key:"onPanelClick",value:function(){this._node.find(".panel-cfg").addClass("active"),"scroll-partial"==this.layout&&this._node.css("opacity",1)}},{key:"toggleBuilderPanel",value:function(){var e=this._node.find(".builder-config-panel-btn"),t=this._node.find(".builder-config-panel");if(!this._configPanelIsInit){this._node.find(".panel-cfg-item").click(this.onOptionChange.bind(this));var n=Object.assign({},this._settings,{layout:this.layout});this._node.find('.panel-cfg-item-wrapper[data-value="scroll-full"]').hover(function(){$(this).find(".panel-cfg-item-icon").attr("src","resources/tpl/builder/icons/immersive/panelScrollFullHover.gif")},function(){$(this).find(".panel-cfg-item-icon").attr("src","resources/tpl/builder/icons/immersive/panelScrollFull.gif")}),this._node.find('.panel-cfg-item-wrapper[data-value="scroll-partial"]').hover(function(){$(this).find(".panel-cfg-item-icon").attr("src","resources/tpl/builder/icons/immersive/panelScrollPartialHover.gif")},function(){$(this).find(".panel-cfg-item-icon").attr("src","resources/tpl/builder/icons/immersive/panelScrollPartial.gif")});for(var r in n){var o=n[r],i=this._node.find('.options-container[data-option="'+r+'"]');i.find('.panel-cfg-item-wrapper[data-value="'+o+'"]').addClass("active")}}this._editor.hideToolbars(),e.toggleClass("active"),t.toggleClass("active")}},{key:"onOptionChange",value:function(e){var t=$(e.target),n=t.parents(".options-container"),r=n.data("option"),o=t.data("value");t.hasClass("panel-cfg-item-wrapper")&&("layout"==r&&this._callbacks.onUpdateLayout(o),n.find(".panel-cfg-item-wrapper").removeClass("active"),t.addClass("active"),this._settings[r]=o,this.updateSettings())}},{key:"updateSettings",value:function(){this._node.removeClass().addClass(this.getClasses())}},{key:"addMedia",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.media){var t=d["default"].createBlock(e.media);return this._blocks.push(t),setTimeout(function(){t.postCreate({container:this._node,onToggleMediaConfig:this._onToggleMediaConfig.bind(this),onConfigAction:app.isInBuilder?this._onMediaConfigAction.bind(this):null,builderConfigurationTabs:this._mediaConfigurationTabs}),t.load()}.bind(this),50),t.render({placement:"block"})}}},{key:"_onToggleMediaConfig",value:function(e){console.log("Immersive > toggle media config",e);var t=e.getNode().find(".media-cfg-panel"),n=e.getNode()[0],r=n.getBoundingClientRect(),o=0;return t.hasClass("active")?(this._configPanelIsOpen&&this._configPanelMedia&&this._configPanelMedia.closeConfigPanel(),this._configPanelIsOpen=!0,this._configPanelMedia=e,t.css("top",r.bottom),r.bottom+175+125>app.display.windowHeight&&(o=app.display.windowHeight-r.bottom-175-125),void(o&&$("html,body").animate({scrollTop:document.body.scrollTop-o+10},150))):(t.css("top",""),this._configPanelIsOpen=!1,void(this._configPanelMedia=null))}},{key:"_onMediaConfigAction",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.action&&e.media&&"remove"==e.action&&(e.media.remove(),this._blocks.splice(this._blocks.indexOf(e.media),1))}},{key:"findBlock",value:function(e){if(!e)return null;for(var t=0;t<this._blocks.length;t++)if(this._blocks[t]._domID==e)return this._blocks[t]}},{key:"serialize",value:function(){var e=[];if(this._editor){e=this._editor.serialize();for(var t=0;t<e.length;t++){var n=e[t];if("media"==n.type){var r=this.findBlock(n.id);r&&(e[t]=r.serialize())}}}return{layout:this.layout,settings:this._settings,blocks:e}}}]),t}(c["default"]);t["default"]=v,e.exports=t["default"]}),define("storymaps/tpl/view/section/Immersive/PanelFactoryBuilder",["storymaps-react/tpl/view/section/Immersive/PanelBuilder"],function(e){var t="scroll-full",n={"position-x":"left",size:"medium",style:"text-shadow",theme:"black-over-white"},r=[{type:"text",text:{value:'<p class="block"></p>'}}];return{createInstance:function(o,i){if(o)return new e(o,i);var a={layout:t,settings:n,blocks:r};return new e(a,i)},duplicateWithoutContent:function(o,i){var a={};return o?(a=JSON.parse(JSON.stringify(o)),a.blocks=r):a={layout:t,settings:n,blocks:r},new e(a,i)}}}),function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(t){"use strict";if(t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0,e("core-js/shim"),e("regenerator/runtime")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":72,"regenerator/runtime":73}],2:[function(e,t,n){"use strict";var r=e("./$");t.exports=function(e){return function(t){var n,o=r.toObject(this),i=r.toLength(o.length),a=r.toIndex(arguments[1],i);if(e&&t!=t){for(;i>a;)if(n=o[a++],n!=n)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===t)return e||a;return!e&&-1}}},{"./$":16}],3:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.ctx");t.exports=function(e){var t=1==e,n=2==e,i=3==e,a=4==e,s=6==e,l=5==e||s;return function(u){for(var c,d,p=Object(r.assertDefined(this)),f=r.ES5Object(p),h=o(u,arguments[1],3),m=r.toLength(f.length),v=0,g=t?Array(m):n?[]:void 0;m>v;v++)if((l||v in f)&&(c=f[v],d=h(c,v,p),e))if(t)g[v]=d;else if(d)switch(e){case 3:return!0;case 5:return c;case 6:return v;case 2:g.push(c)}else if(a)return!1;return s?-1:i||a?a:g}}},{"./$":16,"./$.ctx":10}],4:[function(e,t,n){function r(e,t,n){if(!e)throw TypeError(n?t+n:t)}var o=e("./$");r.def=o.assertDefined,r.fn=function(e){if(!o.isFunction(e))throw TypeError(e+" is not a function!");return e},r.obj=function(e){if(!o.isObject(e))throw TypeError(e+" is not an object!");return e},r.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},t.exports=r},{"./$":16}],5:[function(e,t,n){var r=e("./$");t.exports=Object.assign||function(e,t){for(var n=Object(r.assertDefined(e)),o=arguments.length,i=1;o>i;)for(var a,s=r.ES5Object(arguments[i++]),l=r.getKeys(s),u=l.length,c=0;u>c;)n[a=l[c++]]=s[a];return n}},{"./$":16}],6:[function(e,t,n){function r(e){return a.call(e).slice(8,-1)}var o=e("./$"),i=e("./$.wks")("toStringTag"),a={}.toString;r.classof=function(e){var t,n;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(n=(t=Object(e))[i])?n:r(t)},r.set=function(e,t,n){e&&!o.has(e=n?e:e.prototype,i)&&o.hide(e,i,t)},t.exports=r},{"./$":16,"./$.wks":27}],7:[function(e,t,n){"use strict";function r(e,t){if(!p(e))return("string"==typeof e?"S":"P")+e;if(m(e))return"F";if(!c(e,v)){if(!t)return"E";f(e,v,++_)}return"O"+e[v]}function o(e,t){var n,o=r(t);if("F"!=o)return e[g][o];for(n=e[b];n;n=n.n)if(n.k==t)return n}var i=e("./$"),a=e("./$.ctx"),s=e("./$.uid").safe,l=e("./$.assert"),u=e("./$.iter"),c=i.has,d=i.set,p=i.isObject,f=i.hide,h=u.step,m=Object.isFrozen||i.core.Object.isFrozen,v=s("id"),g=s("O1"),y=s("last"),b=s("first"),w=s("iter"),C=i.DESC?s("size"):"size",_=0;t.exports={getConstructor:function(e,t,n){function r(o){var a=l.inst(this,r,e);d(a,g,i.create(null)),d(a,C,0),d(a,y,void 0),d(a,b,void 0),void 0!=o&&u.forOf(o,t,a[n],a)}return i.mix(r.prototype,{clear:function(){for(var e=this,t=e[g],n=e[b];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[b]=e[y]=void 0,e[C]=0},"delete":function(e){var t=this,n=o(t,e);if(n){var r=n.n,i=n.p;delete t[g][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[b]==n&&(t[b]=r),t[y]==n&&(t[y]=i),t[C]--}return!!n},forEach:function(e){for(var t,n=a(e,arguments[1],3);t=t?t.n:this[b];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(this,e)}}),i.DESC&&i.setDesc(r.prototype,"size",{get:function(){return l.def(this[C])}}),r},def:function(e,t,n){var i,a,s=o(e,t);return s?s.v=n:(e[y]=s={i:a=r(t,!0),k:t,v:n,p:i=e[y],n:void 0,r:!1},e[b]||(e[b]=s),i&&(i.n=s),e[C]++,"F"!=a&&(e[g][a]=s)),e},getEntry:o,getIterConstructor:function(){return function(e,t){d(this,w,{o:e,k:t})}},next:function(){for(var e=this[w],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[b])?"key"==t?h(0,n.k):"value"==t?h(0,n.v):h(0,[n.k,n.v]):(e.o=void 0,h(1))}}},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.iter":15,"./$.uid":25}],8:[function(e,t,n){"use strict";function r(e,t){return y.call(e.array,function(e){return e[0]===t})}function o(e){return e[v]||d(e,v,{array:[],get:function(e){var t=r(this,e);return t?t[1]:void 0},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.array.push([e,t])},"delete":function(e){var t=b.call(this.array,function(t){return t[0]===e});return~t&&this.array.splice(t,1),!!~t}})[v]}var i=e("./$"),a=e("./$.uid").safe,s=e("./$.assert"),l=e("./$.iter").forOf,u=i.has,c=i.isObject,d=i.hide,p=Object.isFrozen||i.core.Object.isFrozen,f=0,h=a("id"),m=a("weak"),v=a("leak"),g=e("./$.array-methods"),y=g(5),b=g(6);t.exports={getConstructor:function(e,t,n){function r(o){i.set(s.inst(this,r,e),h,f++),void 0!=o&&l(o,t,this[n],this)}return i.mix(r.prototype,{"delete":function(e){return c(e)?p(e)?o(this)["delete"](e):u(e,m)&&u(e[m],this[h])&&delete e[m][this[h]]:!1},has:function(e){return c(e)?p(e)?o(this).has(e):u(e,m)&&u(e[m],this[h]):!1}}),r},def:function(e,t,n){return p(s.obj(t))?o(e).set(t,n):(u(t,m)||d(t,m,{}),t[m][e[h]]=n),e},leakStore:o,WEAK:m,ID:h}},{"./$":16,"./$.array-methods":3,"./$.assert":4,"./$.iter":15,"./$.uid":25}],9:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def"),i=e("./$.iter"),a=e("./$.assert").inst;t.exports=function(t,n,s,l,u){function c(e,t){var n=h[e];r.FW&&(h[e]=function(e,r){var o=n.call(this,0===e?0:e,r);return t?this:o})}var d=r.g[t],p=d,f=l?"set":"add",h=p&&p.prototype,m={};if(r.isFunction(p)&&(u||!i.BUGGY&&h.forEach&&h.entries)){var v,g=new p,y=g[f](u?{}:-0,1);e("./$.iter-detect")(function(e){new p(e)})||(p=function(e){a(this,p,t);var n=new d;return void 0!=e&&i.forOf(e,l,n[f],n),n},p.prototype=h,r.FW&&(h.constructor=p)),u||g.forEach(function(e,t){v=1/t===-(1/0)}),v&&(c("delete"),c("has"),l&&c("get")),(v||y!==g)&&c(f,!0)}else p=s.getConstructor(t,l,f),r.mix(p.prototype,n);return e("./$.cof").set(p,t),e("./$.species")(p),m[t]=p,o(o.G+o.W+o.F*(p!=d),m),u||i.std(p,t,s.getIterConstructor(),s.next,l?"key+value":"value",!l,!0),p}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22}],10:[function(e,t,n){var r=e("./$.assert").fn;t.exports=function(e,t,n){if(r(e),~n&&void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":4}],11:[function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n){var u,c,d,p,f=e&o.G,h=f?a:e&o.S?a[t]:(a[t]||{}).prototype,m=f?s:s[t]||(s[t]={});f&&(n=t);for(u in n)c=!(e&o.F)&&h&&u in h,d=(c?h:n)[u],p=e&o.B&&c?r(d,a):e&o.P&&l(d)?r(Function.call,d):d,h&&!c&&(f?h[u]=d:delete h[u]&&i.hide(h,u,d)),m[u]!=d&&i.hide(m,u,p)}var i=e("./$"),a=i.g,s=i.core,l=i.isFunction;a.core=s,o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$":16}],12:[function(e,t,n){t.exports=function(e){return e.FW=!0,e.path=e.g,e}},{}],13:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return r?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}},{}],14:[function(e,t,n){var r=e("./$.wks")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(a){}return t}},{"./$.wks":27}],15:[function(e,t,n){"use strict";function r(e,t){l.hide(e,f,t),h in[]&&l.hide(e,h,t)}function o(e,t,n,o){var i=e.prototype,a=i[f]||i[h]||o&&i[o]||n;if(l.FW&&r(i,a),a!==n){var s=l.getProto(a.call(new e));c.set(s,t+" Iterator",!0),l.FW&&l.has(i,h)&&r(s,l.that)}return m[t]=a,m[t+" Iterator"]=l.that,a}function i(e){var t=l.g.Symbol,n=e[t&&t.iterator||h],r=n||e[f]||m[c.classof(e)];return p(r.call(e))}function a(e){var t=e["return"];void 0!==t&&p(t.call(e))}function s(e,t,n,r){try{return r?t(p(n)[0],n[1]):t(n)}catch(o){throw a(e),o}}var l=e("./$"),u=e("./$.ctx"),c=e("./$.cof"),d=e("./$.def"),p=e("./$.assert").obj,f=e("./$.wks")("iterator"),h="@@iterator",m={},v={},g="keys"in[]&&!("next"in[].keys());r(v,l.that);var y=t.exports={BUGGY:g,Iterators:m,prototype:v,step:function(e,t){return{value:t,done:!!e}},stepCall:s,close:a,is:function(e){var t=Object(e),n=l.g.Symbol,r=n&&n.iterator||h;return r in t||f in t||l.has(m,c.classof(t))},get:i,set:r,create:function(e,t,n,r){e.prototype=l.create(r||y.prototype,{next:l.desc(1,n)}),c.set(e,t+" Iterator")},define:o,std:function(e,t,n,r,i,a,s){function u(e){return function(){return new n(this,e)}}y.create(n,t,r);var c,p,f=u("key+value"),h=u("value"),m=e.prototype;if("value"==i?h=o(e,t,h,"values"):f=o(e,t,f,"entries"),i&&(c={entries:f,keys:a?h:u("key"),values:h},d(d.P+d.F*g,t,c),s))for(p in c)p in m||l.hide(m,p,c[p])},forOf:function(e,t,n,r){for(var o,l=i(e),c=u(n,r,t?2:1);!(o=l.next()).done;)if(s(l,c,o.value,t)===!1)return a(l)}}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.wks":27}],16:[function(e,t,n){"use strict";function r(e){return isNaN(e=+e)?0:(e>0?m:h)(e)}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function i(e,t,n){return e[t]=n,e}function a(e){return y?function(t,n,r){return w.setDesc(t,n,o(e,r))}:i}function s(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function l(e){return"function"==typeof e}function u(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var c="undefined"!=typeof self?self:Function("return this")(),d={},p=Object.defineProperty,f={}.hasOwnProperty,h=Math.ceil,m=Math.floor,v=Math.max,g=Math.min,y=!!function(){try{return 2==p({},"a",{get:function(){return 2}}).a}catch(e){}}(),b=a(1),w=t.exports=e("./$.fw")({g:c,core:d,html:c.document&&document.documentElement,isObject:s,isFunction:l,it:function(e){return e},that:function(){return this},toInteger:r,toLength:function(e){return e>0?g(r(e),9007199254740991):0},toIndex:function(e,t){return e=r(e),0>e?v(e+t,0):g(e,t)},has:function(e,t){return f.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:y,desc:o,getDesc:Object.getOwnPropertyDescriptor,setDesc:p,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:u,ES5Object:Object,toObject:function(e){return w.ES5Object(u(e))},hide:b,def:a(0),set:c.Symbol?i:b,mix:function(e,t){for(var n in t)b(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=d),"undefined"!=typeof __g&&(__g=c)},{"./$.fw":12}],17:[function(e,t,n){var r=e("./$");t.exports=function(e,t){for(var n,o=r.toObject(e),i=r.getKeys(o),a=i.length,s=0;a>s;)if(o[n=i[s++]]===t)return n}},{"./$":16}],18:[function(e,t,n){var r=e("./$"),o=e("./$.assert").obj;t.exports=function(e){return o(e),r.getSymbols?r.getNames(e).concat(r.getSymbols(e)):r.getNames(e)}},{"./$":16,"./$.assert":4}],19:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.invoke"),i=e("./$.assert").fn;t.exports=function(){for(var e=i(this),t=arguments.length,n=Array(t),a=0,s=r.path._,l=!1;t>a;)(n[a]=arguments[a++])===s&&(l=!0);return function(){var r,i=this,a=arguments.length,u=0,c=0;if(!l&&!a)return o(e,n,i);if(r=n.slice(),l)for(;t>u;u++)r[u]===s&&(r[u]=arguments[c++]);for(;a>c;)r.push(arguments[c++]);return o(e,r,i)}}},{"./$":16,"./$.assert":4,"./$.invoke":13}],20:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(n?t:this).replace(e,r)}}},{}],21:[function(e,t,n){function r(e,t){i.obj(e),i(null===t||o.isObject(t),t,": can't set as prototype!")}var o=e("./$"),i=e("./$.assert");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n){try{n=e("./$.ctx")(Function.call,o.getDesc(Object.prototype,"__proto__").set,2),n({},[])}catch(i){t=!0}return function(e,o){return r(e,o),t?e.__proto__=o:n(e,o),
e}}():void 0),check:r}},{"./$":16,"./$.assert":4,"./$.ctx":10}],22:[function(e,t,n){var r=e("./$");t.exports=function(t){r.DESC&&r.FW&&r.setDesc(t,e("./$.wks")("species"),{configurable:!0,get:r.that})}},{"./$":16,"./$.wks":27}],23:[function(e,t,n){"use strict";var r=e("./$");t.exports=function(e){return function(t){var n,o,i=String(r.assertDefined(this)),a=r.toInteger(t),s=i.length;return 0>a||a>=s?e?"":void 0:(n=i.charCodeAt(a),55296>n||n>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):(n-55296<<10)+(o-56320)+65536)}}},{"./$":16}],24:[function(e,t,n){"use strict";function r(){var e=+this;if(l.has(x,e)){var t=x[e];delete x[e],t()}}function o(e){r.call(e.data)}var i,a,s,l=e("./$"),u=e("./$.ctx"),c=e("./$.cof"),d=e("./$.invoke"),p=l.g,f=l.isFunction,h=l.html,m=p.document,v=p.process,g=p.setImmediate,y=p.clearImmediate,b=p.postMessage,w=p.addEventListener,C=p.MessageChannel,_=0,x={},E="onreadystatechange";f(g)&&f(y)||(g=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return x[++_]=function(){d(f(e)?e:Function(e),t)},i(_),_},y=function(e){delete x[e]},"process"==c(v)?i=function(e){v.nextTick(u(r,e,1))}:w&&f(b)&&!p.importScripts?(i=function(e){b(e,"*")},w("message",o,!1)):f(C)?(a=new C,s=a.port2,a.port1.onmessage=o,i=u(s.postMessage,s,1)):i=m&&E in m.createElement("script")?function(e){h.appendChild(m.createElement("script"))[E]=function(){h.removeChild(this),r.call(e)}}:function(e){setTimeout(u(r,e,1),0)}),t.exports={set:g,clear:y}},{"./$":16,"./$.cof":6,"./$.ctx":10,"./$.invoke":13}],25:[function(e,t,n){function r(e){return"Symbol("+e+")_"+(++o+Math.random()).toString(36)}var o=0;r.safe=e("./$").g.Symbol||r,t.exports=r},{"./$":16}],26:[function(e,t,n){var r=e("./$"),o=e("./$.wks")("unscopables");!r.FW||o in[]||r.hide(Array.prototype,o,{}),t.exports=function(e){r.FW&&([][o][e]=!0)}},{"./$":16,"./$.wks":27}],27:[function(e,t,n){var r=e("./$").g,o={};t.exports=function(t){return o[t]||(o[t]=r.Symbol&&r.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":16,"./$.uid":25}],28:[function(e,t,n){function r(e,t){return function(n){var r,o=P(n),i=0,a=[];for(r in o)r!=h&&x(o,r)&&a.push(r);for(;t>i;)x(o,r=e[i++])&&(~w.call(a,r)||a.push(r));return a}}function o(e){return!u.isObject(e)}function i(){}function a(e){return function(){return e.apply(u.ES5Object(this),arguments)}}function s(e){return function(t,n){m.fn(t);var r=P(this),o=S(r.length),i=e?o-1:0,a=e?-1:1;if(arguments.length<2)for(;;){if(i in r){n=r[i],i+=a;break}i+=a,m(e?i>=0:o>i,"Reduce of empty array with no initial value")}for(;e?i>=0:o>i;i+=a)i in r&&(n=t(n,r[i],i,this));return n}}function l(e){return e>9?e:"0"+e}var u=e("./$"),c=e("./$.cof"),d=e("./$.def"),p=e("./$.invoke"),f=e("./$.array-methods"),h=e("./$.uid").safe("__proto__"),m=e("./$.assert"),v=m.obj,g=Object.prototype,y=[],b=y.slice,w=y.indexOf,C=c.classof,_=Object.defineProperties,x=u.has,E=u.setDesc,T=u.getDesc,k=u.isFunction,P=u.toObject,S=u.toLength,O=!1;if(!u.DESC){try{O=8==E(document.createElement("div"),"x",{get:function(){return 8}}).x}catch(I){}u.setDesc=function(e,t,n){if(O)try{return E(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(v(e)[t]=n.value),e},u.getDesc=function(e,t){if(O)try{return T(e,t)}catch(n){}return x(e,t)?u.desc(!g.propertyIsEnumerable.call(e,t),e[t]):void 0},_=function(e,t){v(e);for(var n,r=u.getKeys(t),o=r.length,i=0;o>i;)u.setDesc(e,n=r[i++],t[n]);return e}}d(d.S+d.F*!u.DESC,"Object",{getOwnPropertyDescriptor:u.getDesc,defineProperty:u.setDesc,defineProperties:_});var N="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),A=N.concat("length","prototype"),M=N.length,D=function(){var e,t=document.createElement("iframe"),n=M,r=">";for(t.style.display="none",u.html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+r),e.close(),D=e.F;n--;)delete D.prototype[N[n]];return D()};d(d.S,"Object",{getPrototypeOf:u.getProto=u.getProto||function(e){return e=Object(m.def(e)),x(e,h)?e[h]:k(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?g:null},getOwnPropertyNames:u.getNames=u.getNames||r(A,A.length,!0),create:u.create=u.create||function(e,t){var n;return null!==e?(i.prototype=v(e),n=new i,i.prototype=null,n[h]=e):n=D(),void 0===t?n:_(n,t)},keys:u.getKeys=u.getKeys||r(N,M,!1),seal:u.it,freeze:u.it,preventExtensions:u.it,isSealed:o,isFrozen:o,isExtensible:u.isObject}),d(d.P,"Function",{bind:function(e){function t(){var o=r.concat(b.call(arguments));return p(n,o,this instanceof t?u.create(n.prototype):e)}var n=m.fn(this),r=b.call(arguments,1);return n.prototype&&(t.prototype=n.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||(u.ES5Object=function(e){return"String"==c(e)?e.split(""):Object(e)}),d(d.P+d.F*(u.ES5Object!=Object),"Array",{slice:a(b),join:a(y.join)}),d(d.S,"Array",{isArray:function(e){return"Array"==c(e)}}),d(d.P,"Array",{forEach:u.each=u.each||f(0),map:f(1),filter:f(2),some:f(3),every:f(4),reduce:s(!1),reduceRight:s(!0),indexOf:w=w||e("./$.array-includes")(!1),lastIndexOf:function(e,t){var n=P(this),r=S(n.length),o=r-1;for(arguments.length>1&&(o=Math.min(o,u.toInteger(t))),0>o&&(o=S(r+o));o>=0;o--)if(o in n&&n[o]===e)return o;return-1}}),d(d.P,"String",{trim:e("./$.replacer")(/^\s*([\s\S]*\S)?\s*$/,"$1")}),d(d.S,"Date",{now:function(){return+new Date}}),d(d.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=0>t?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+l(e.getUTCMonth()+1)+"-"+l(e.getUTCDate())+"T"+l(e.getUTCHours())+":"+l(e.getUTCMinutes())+":"+l(e.getUTCSeconds())+"."+(n>99?n:"0"+l(n))+"Z"}}),"Object"==C(function(){return arguments}())&&(c.classof=function(e){var t=C(e);return"Object"==t&&k(e.callee)?"Arguments":t})},{"./$":16,"./$.array-includes":2,"./$.array-methods":3,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.invoke":13,"./$.replacer":20,"./$.uid":25}],29:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def"),i=r.toIndex;o(o.P,"Array",{copyWithin:function(e,t){var n=Object(r.assertDefined(this)),o=r.toLength(n.length),a=i(e,o),s=i(t,o),l=arguments[2],u=void 0===l?o:i(l,o),c=Math.min(u-s,o-a),d=1;for(a>s&&s+c>a&&(d=-1,s=s+c-1,a=a+c-1);c-- >0;)s in n?n[a]=n[s]:delete n[a],a+=d,s+=d;return n}}),e("./$.unscope")("copyWithin")},{"./$":16,"./$.def":11,"./$.unscope":26}],30:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def"),i=r.toIndex;o(o.P,"Array",{fill:function(e){for(var t=Object(r.assertDefined(this)),n=r.toLength(t.length),o=i(arguments[1],n),a=arguments[2],s=void 0===a?n:i(a,n);s>o;)t[o++]=e;return t}}),e("./$.unscope")("fill")},{"./$":16,"./$.def":11,"./$.unscope":26}],31:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{findIndex:e("./$.array-methods")(6)}),e("./$.unscope")("findIndex")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],32:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{find:e("./$.array-methods")(5)}),e("./$.unscope")("find")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],33:[function(e,t,n){var r=e("./$"),o=e("./$.ctx"),i=e("./$.def"),a=e("./$.iter"),s=a.stepCall;i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,l,u=Object(r.assertDefined(e)),c=arguments[1],d=void 0!==c,p=d?o(c,arguments[2],2):void 0,f=0;if(a.is(u))for(l=a.get(u),n=new("function"==typeof this?this:Array);!(i=l.next()).done;f++)n[f]=d?s(l,p,[i.value,f],!0):i.value;else for(n=new("function"==typeof this?this:Array)(t=r.toLength(u.length));t>f;f++)n[f]=d?p(u[f],f):u[f];return n.length=f,n}})},{"./$":16,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14}],34:[function(e,t,n){var r=e("./$"),o=e("./$.unscope"),i=e("./$.uid").safe("iter"),a=e("./$.iter"),s=a.step,l=a.Iterators;a.std(Array,"Array",function(e,t){r.set(this,i,{o:r.toObject(e),i:0,k:t})},function(){var e=this[i],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=void 0,s(1)):"key"==n?s(0,r):"value"==n?s(0,t[r]):s(0,[r,t[r]])},"value"),l.Arguments=l.Array,o("keys"),o("values"),o("entries")},{"./$":16,"./$.iter":15,"./$.uid":25,"./$.unscope":26}],35:[function(e,t,n){var r=e("./$.def");r(r.S,"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)n[e]=arguments[e++];return n.length=t,n}})},{"./$.def":11}],36:[function(e,t,n){e("./$.species")(Array)},{"./$.species":22}],37:[function(e,t,n){"use strict";var r=e("./$"),o="name",i=r.setDesc,a=Function.prototype;o in a||r.FW&&r.DESC&&i(a,o,{configurable:!0,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),t=e?e[1]:"";return r.has(this,o)||i(this,o,r.desc(5,t)),t},set:function(e){r.has(this,o)||i(this,o,r.desc(0,e))}})},{"./$":16}],38:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./$.collection":9,"./$.collection-strong":7}],39:[function(e,t,n){function r(e){return e+1/g-1/g}function o(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}function i(e){return isFinite(e=+e)&&0!=e?0>e?-i(-e):f(e+h(e*e+1)):e}function a(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:p(e)-1}var s=1/0,l=e("./$.def"),u=Math.E,c=Math.pow,d=Math.abs,p=Math.exp,f=Math.log,h=Math.sqrt,m=Math.ceil,v=Math.floor,g=c(2,-52),y=c(2,-23),b=c(2,127)*(2-y),w=c(2,-126);l(l.S,"Math",{acosh:function(e){return(e=+e)<1?NaN:isFinite(e)?f(e/u+h(e+1)*h(e-1)/u)+1:e},asinh:i,atanh:function(e){return 0==(e=+e)?e:f((1+e)/(1-e))/2},cbrt:function(e){return o(e=+e)*c(d(e),1/3)},clz32:function(e){return(e>>>=0)?31-v(f(e+.5)*Math.LOG2E):32},cosh:function(e){return(p(e=+e)+p(-e))/2},expm1:a,fround:function(e){var t,n,i=d(e),a=o(e);return w>i?a*r(i/w/y)*w*y:(t=(1+y/g)*i,n=t-(t-i),n>b||n!=n?a*s:a*n)},hypot:function(e,t){for(var n,r=0,o=arguments.length,i=o,a=Array(o),l=-s;o--;){if(n=a[o]=+arguments[o],n==s||n==-s)return s;n>l&&(l=n)}for(l=n||1;i--;)r+=c(a[i]/l,2);return l*h(r)},imul:function(e,t){var n=65535,r=+e,o=+t,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:f(1+e)},log10:function(e){return f(e)/Math.LN10},log2:function(e){return f(e)/Math.LN2},sign:o,sinh:function(e){return d(e=+e)<1?(a(e)-a(-e))/2:(p(e-1)-p(-e-1))*(u/2)},tanh:function(e){var t=a(e=+e),n=a(-e);return t==s?1:n==s?-1:(t-n)/(p(e)+p(-e))},trunc:function(e){return(e>0?v:m)(e)}})},{"./$.def":11}],40:[function(e,t,n){"use strict";function r(e){var t,n;if(s(t=e.valueOf)&&!a(n=t.call(e)))return n;if(s(t=e.toString)&&!a(n=t.call(e)))return n;throw TypeError("Can't convert object to number")}function o(e){if(a(e)&&(e=r(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var i=e("./$"),a=i.isObject,s=i.isFunction,l="Number",u=i.g[l],c=u,d=u.prototype;!i.FW||u("0o1")&&u("0b1")||(u=function p(e){return this instanceof p?new c(o(e)):o(e)},i.each.call(i.DESC?i.getNames(c):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){i.has(c,e)&&!i.has(u,e)&&i.setDesc(u,e,i.getDesc(c,e))}),u.prototype=d,d.constructor=u,i.hide(i.g,l,u))},{"./$":16}],41:[function(e,t,n){function r(e){return!o.isObject(e)&&l(e)&&s(e)===e}var o=e("./$"),i=e("./$.def"),a=Math.abs,s=Math.floor,l=o.g.isFinite,u=9007199254740991;i(i.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&l(e)},isInteger:r,isNaN:function(e){return e!=e},isSafeInteger:function(e){return r(e)&&a(e)<=u},MAX_SAFE_INTEGER:u,MIN_SAFE_INTEGER:-u,parseFloat:parseFloat,parseInt:parseInt})},{"./$":16,"./$.def":11}],42:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{assign:e("./$.assign")})},{"./$.assign":5,"./$.def":11}],43:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})},{"./$.def":11}],44:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":11,"./$.set-proto":21}],45:[function(e,t,n){function r(e,t){var n=(o.core.Object||{})[e]||Object[e],r=0,l={};l[e]=1==t?function(e){return a(e)?n(e):e}:2==t?function(e){return a(e)?n(e):!0}:3==t?function(e){return a(e)?n(e):!1}:4==t?function(e,t){return n(s(e),t)}:5==t?function(e){return n(Object(o.assertDefined(e)))}:function(e){return n(s(e))};try{n("z")}catch(u){r=1}i(i.S+i.F*r,"Object",l)}var o=e("./$"),i=e("./$.def"),a=o.isObject,s=o.toObject;r("freeze",1),r("seal",1),r("preventExtensions",1),r("isFrozen",2),r("isSealed",2),r("isExtensible",3),r("getOwnPropertyDescriptor",4),r("getPrototypeOf",5),r("keys"),r("getOwnPropertyNames")},{"./$":16,"./$.def":11}],46:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.cof"),i={};i[e("./$.wks")("toStringTag")]="z",r.FW&&"z"!=o(i)&&r.hide(Object.prototype,"toString",function(){return"[object "+o.classof(this)+"]"})},{"./$":16,"./$.cof":6,"./$.wks":27}],47:[function(e,t,n){"use strict";function r(e){var t=S(e)[v];return void 0!=t?t:e}function o(e){var t;return k(e)&&(t=e.then),T(t)?t:!1}function i(e){var t,n=e[g],r=n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!i(t.P))return!1;return!0}function a(e,t){var n=e.c;(t||n.length)&&_(function(){var r=e.p,a=e.v,s=1==e.s,l=0;if(t&&i(r))setTimeout(function(){i(r)&&("process"==p(C)?C.emit("unhandledRejection",a,r):w.console&&T(console.error)&&console.error("Unhandled promise rejection",a))},1e3);else for(;n.length>l;)!function(t){var n,r,i=s?t.ok:t.fail;try{i?(s||(e.h=!0),n=i===!0?a:i(a),n===t.P?t.rej(TypeError(b+"-chain cycle")):(r=o(n))?r.call(n,t.res,t.rej):t.res(n)):t.rej(a)}catch(l){t.rej(l)}}(n[l++]);n.length=0})}function s(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,a(t,!0))}function l(e){var t,n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(t=o(e))?(n={r:r,d:!1},t.call(e,d(l,n,1),d(s,n,1))):(r.v=e,r.s=1,a(r))}catch(i){s.call(n||{r:r,d:!1},i)}}}var u,c=e("./$"),d=e("./$.ctx"),p=e("./$.cof"),f=e("./$.def"),h=e("./$.assert"),m=e("./$.iter"),v=e("./$.wks")("species"),g=e("./$.uid").safe("record"),y=m.forOf,b="Promise",w=c.g,C=w.process,_=C&&C.nextTick||e("./$.task").set,x=w[b],E=x,T=c.isFunction,k=c.isObject,P=h.fn,S=h.obj;T(x)&&T(x.resolve)&&x.resolve(u=new x(function(){}))==u||(x=function(e){P(e);var t={p:h.inst(this,x,b),c:[],s:0,d:!1,v:void 0,h:!1};c.hide(this,g,t);try{e(d(l,t,1),d(s,t,1))}catch(n){s.call(t,n)}},c.mix(x.prototype,{then:function(e,t){var n=S(S(this).constructor)[v],r={ok:T(e)?e:!0,fail:T(t)?t:!1},o=r.P=new(void 0!=n?n:x)(function(e,t){r.res=P(e),r.rej=P(t)}),i=this[g];return i.c.push(r),i.s&&a(i),o},"catch":function(e){return this.then(void 0,e)}})),f(f.G+f.W+f.F*(x!=E),{Promise:x}),p.set(x,b),e("./$.species")(x),f(f.S,b,{reject:function(e){return new(r(this))(function(t,n){n(e)})},resolve:function(e){return k(e)&&g in e&&c.getProto(e)===this.prototype?e:new(r(this))(function(t){t(e)})}}),f(f.S+f.F*!e("./$.iter-detect")(function(e){x.all(e)["catch"](function(){})}),b,{all:function(e){var t=r(this),n=[];return new t(function(r,o){y(e,!1,n.push,n);var i=n.length,a=Array(i);i?c.each.call(n,function(e,n){t.resolve(e).then(function(e){a[n]=e,--i||r(a)},o)}):r(a)})},race:function(e){var t=r(this);return new t(function(n,r){y(e,!1,function(e){t.resolve(e).then(n,r)})})}})},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22,"./$.task":24,"./$.uid":25,"./$.wks":27}],48:[function(e,t,n){function r(e){var t,n=[];for(t in e)n.push(t);s.set(this,d,{o:e,a:n,i:0})}function o(e){return function(t){b(t);try{return e.apply(void 0,arguments),!0}catch(n){return!1}}}function i(e,t){var n,r=arguments.length<3?e:arguments[2],o=m(b(e),t);return o?s.has(o,"value")?o.value:void 0===o.get?void 0:o.get.call(r):h(n=g(e))?i(n,t,r):void 0}function a(e,t,n){var r,o,i=arguments.length<4?e:arguments[3],l=m(b(e),t);if(!l){if(h(o=g(e)))return a(o,t,n,i);l=s.desc(0)}return s.has(l,"value")?l.writable!==!1&&h(i)?(r=m(i,t)||s.desc(0),r.value=n,v(i,t,r),!0):!1:void 0===l.set?!1:(l.set.call(i,n),!0)}var s=e("./$"),l=e("./$.def"),u=e("./$.set-proto"),c=e("./$.iter"),d=e("./$.uid").safe("iter"),p=c.step,f=e("./$.assert"),h=s.isObject,m=s.getDesc,v=s.setDesc,g=s.getProto,y=Function.apply,b=f.obj,w=Object.isExtensible||s.it;c.create(r,"Object",function(){var e,t=this[d],n=t.a;do if(t.i>=n.length)return p(1);while(!((e=n[t.i++])in t.o));return p(0,e)});var C={apply:e("./$.ctx")(Function.call,y,3),construct:function(e,t){var n=f.fn(arguments.length<3?e:arguments[2]).prototype,r=s.create(h(n)?n:Object.prototype),o=y.call(e,r,t);return h(o)?o:r},defineProperty:o(v),deleteProperty:function(e,t){var n=m(b(e),t);return n&&!n.configurable?!1:delete e[t]},enumerate:function(e){return new r(b(e))},get:i,getOwnPropertyDescriptor:function(e,t){return m(b(e),t)},getPrototypeOf:function(e){return g(b(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!w(b(e))},ownKeys:e("./$.own-keys"),preventExtensions:o(Object.preventExtensions||s.it),set:a};u&&(C.setPrototypeOf=function(e,t){u.check(e,t);try{return u.set(e,t),!0}catch(n){return!1}}),l(l.G,{Reflect:{}}),l(l.S,"Reflect",C)},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.own-keys":18,"./$.set-proto":21,"./$.uid":25}],49:[function(e,t,n){var r=e("./$"),o=e("./$.cof"),i=r.g.RegExp,a=i,s=i.prototype;r.FW&&r.DESC&&(function(){try{return"/a/i"==i(/a/g,"i")}catch(e){}}()||(i=function(e,t){return new a("RegExp"==o(e)&&void 0!==t?e.source:e,t)},r.each.call(r.getNames(a),function(e){e in i||r.setDesc(i,e,{configurable:!0,get:function(){return a[e]},set:function(t){a[e]=t}})}),s.constructor=i,i.prototype=s,r.hide(r.g,"RegExp",i)),"g"!=/./g.flags&&r.setDesc(s,"flags",{configurable:!0,get:e("./$.replacer")(/^.*\/(\w*)$/,"$1")})),e("./$.species")(i)},{"./$":16,"./$.cof":6,"./$.replacer":20,"./$.species":22}],50:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./$.collection":9,"./$.collection-strong":7}],51:[function(e,t,n){var r=e("./$.def");r(r.P,"String",{codePointAt:e("./$.string-at")(!1)})},{"./$.def":11,"./$.string-at":23}],52:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.cof"),i=e("./$.def"),a=r.toLength;i(i.P,"String",{endsWith:function(e){if("RegExp"==o(e))throw TypeError();var t=String(r.assertDefined(this)),n=arguments[1],i=a(t.length),s=void 0===n?i:Math.min(a(n),i);return e+="",t.slice(s-e.length,s)===e}})},{"./$":16,"./$.cof":6,"./$.def":11}],53:[function(e,t,n){var r=e("./$.def"),o=e("./$").toIndex,i=String.fromCharCode;r(r.S,"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(65536>t?i(t):i(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},{"./$":16,"./$.def":11}],54:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.cof"),i=e("./$.def");i(i.P,"String",{includes:function(e){if("RegExp"==o(e))throw TypeError();return!!~String(r.assertDefined(this)).indexOf(e,arguments[1])}})},{"./$":16,"./$.cof":6,"./$.def":11}],55:[function(e,t,n){var r=e("./$").set,o=e("./$.string-at")(!0),i=e("./$.uid").safe("iter"),a=e("./$.iter"),s=a.step;a.std(String,"String",function(e){r(this,i,{o:String(e),i:0})},function(){var e,t=this[i],n=t.o,r=t.i;return r>=n.length?s(1):(e=o.call(n,r),t.i+=e.length,s(0,e))})},{"./$":16,"./$.iter":15,"./$.string-at":23,"./$.uid":25}],56:[function(e,t,n){var r=e("./$"),o=e("./$.def");o(o.S,"String",{raw:function(e){for(var t=r.toObject(e.raw),n=r.toLength(t.length),o=arguments.length,i=[],a=0;n>a;)i.push(String(t[a++])),o>a&&i.push(String(arguments[a]));return i.join("")}})},{"./$":16,"./$.def":11}],57:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.def");o(o.P,"String",{repeat:function(e){var t=String(r.assertDefined(this)),n="",o=r.toInteger(e);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}})},{"./$":16,"./$.def":11}],58:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.cof"),i=e("./$.def");i(i.P,"String",{startsWith:function(e){if("RegExp"==o(e))throw TypeError();var t=String(r.assertDefined(this)),n=r.toLength(Math.min(arguments[1],t.length));return e+="",t.slice(n,n+e.length)===e}})},{"./$":16,"./$.cof":6,"./$.def":11}],59:[function(e,t,n){"use strict";function r(e){var t=y[e]=o.set(o.create(f.prototype),v,e);return o.DESC&&m&&o.setDesc(Object.prototype,e,{configurable:!0,set:function(t){c(this,e,t)}}),t}var o=e("./$"),i=e("./$.cof").set,a=e("./$.uid"),s=e("./$.def"),l=e("./$.keyof"),u=o.has,c=o.hide,d=o.getNames,p=o.toObject,f=o.g.Symbol,h=f,m=!1,v=a.safe("tag"),g={},y={};o.isFunction(f)||(f=function w(e){if(this instanceof w)throw TypeError("Symbol is not a constructor");return r(a(e))},c(f.prototype,"toString",function(){return this[v]})),s(s.G+s.W,{Symbol:f});var b={"for":function(e){return u(g,e+="")?g[e]:g[e]=f(e)},keyFor:function(e){return l(g,e)},pure:a.safe,set:o.set,useSetter:function(){m=!0},useSimple:function(){m=!1}};o.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var n=e("./$.wks")(t);b[t]=f===h?n:r(n)}),m=!0,s(s.S,"Symbol",b),s(s.S+s.F*(f!=h),"Object",{getOwnPropertyNames:function(e){for(var t,n=d(p(e)),r=[],o=0;n.length>o;)u(y,t=n[o++])||r.push(t);return r},getOwnPropertySymbols:function(e){for(var t,n=d(p(e)),r=[],o=0;n.length>o;)u(y,t=n[o++])&&r.push(y[t]);return r}}),i(f,"Symbol"),i(Math,"Math",!0),i(o.g.JSON,"JSON",!0)},{"./$":16,"./$.cof":6,"./$.def":11,"./$.keyof":17,"./$.uid":25,"./$.wks":27}],60:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.collection-weak"),i=o.leakStore,a=o.ID,s=o.WEAK,l=r.has,u=r.isObject,c=Object.isFrozen||r.core.Object.isFrozen,d={},p=e("./$.collection")("WeakMap",{get:function(e){if(u(e)){if(c(e))return i(this).get(e);if(l(e,s))return e[s][this[a]]}},set:function(e,t){return o.def(this,e,t)}},o,!0,!0);r.FW&&7!=(new p).set((Object.freeze||Object)(d),7).get(d)&&r.each.call(["delete","has","get","set"],function(e){var t=p.prototype[e];p.prototype[e]=function(n,r){if(u(n)&&c(n)){var o=i(this)[e](n,r);return"set"==e?this:o}return t.call(this,n,r)}})},{"./$":16,"./$.collection":9,"./$.collection-weak":8}],61:[function(e,t,n){"use strict";var r=e("./$.collection-weak");e("./$.collection")("WeakSet",{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},{"./$.collection":9,"./$.collection-weak":8}],62:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{includes:e("./$.array-includes")(!0)}),e("./$.unscope")("includes")},{"./$.array-includes":2,"./$.def":11,"./$.unscope":26}],63:[function(e,t,n){var r=e("./$"),o=e("./$.def"),i=e("./$.own-keys");o(o.S,"Object",{getOwnPropertyDescriptors:function(e){var t=r.toObject(e),n={};return r.each.call(i(t),function(e){r.setDesc(n,e,r.desc(0,r.getDesc(t,e)))}),n}})},{"./$":16,"./$.def":11,"./$.own-keys":18}],64:[function(e,t,n){function r(e){return function(t){var n,r=o.toObject(t),i=o.getKeys(t),a=i.length,s=0,l=Array(a);if(e)for(;a>s;)l[s]=[n=i[s++],r[n]];else for(;a>s;)l[s]=r[i[s++]];return l}}var o=e("./$"),i=e("./$.def");i(i.S,"Object",{values:r(!1),entries:r(!0)})},{"./$":16,"./$.def":11}],65:[function(e,t,n){var r=e("./$.def");r(r.S,"RegExp",{escape:e("./$.replacer")(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})},{"./$.def":11,"./$.replacer":20}],66:[function(e,t,n){var r=e("./$.def"),o=e("./$.iter").forOf;r(r.P,"Set",{toJSON:function(){var e=[];return o(this,!1,e.push,e),e}})},{"./$.def":11,"./$.iter":15}],67:[function(e,t,n){var r=e("./$.def");r(r.P,"String",{at:e("./$.string-at")(!0)})},{"./$.def":11,"./$.string-at":23}],68:[function(e,t,n){function r(t,n){o.each.call(t.split(","),function(t){void 0==n&&t in a?s[t]=a[t]:t in[]&&(s[t]=e("./$.ctx")(Function.call,[][t],n))})}var o=e("./$"),i=e("./$.def"),a=o.core.Array||Array,s={};r("pop,reverse,shift,keys,values,entries",1),r("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),r("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),i(i.S,"Array",s)},{"./$":16,"./$.ctx":10,"./$.def":11}],69:[function(e,t,n){e("./es6.array.iterator");var r=e("./$"),o=e("./$.iter").Iterators,i=e("./$.wks")("iterator"),a=r.g.NodeList;!r.FW||!a||i in a.prototype||r.hide(a.prototype,i,o.Array),o.NodeList=o.Array},{"./$":16,"./$.iter":15,"./$.wks":27,"./es6.array.iterator":34}],70:[function(e,t,n){var r=e("./$.def"),o=e("./$.task");r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./$.def":11,"./$.task":24}],71:[function(e,t,n){function r(e){return l?function(t,n){return e(a(s,[].slice.call(arguments,2),o.isFunction(t)?t:Function(t)),n)}:e}var o=e("./$"),i=e("./$.def"),a=e("./$.invoke"),s=e("./$.partial"),l=!!o.g.navigator&&/MSIE .\./.test(navigator.userAgent);i(i.G+i.B+i.F*l,{setTimeout:r(o.g.setTimeout),setInterval:r(o.g.setInterval)})},{"./$":16,"./$.def":11,"./$.invoke":13,"./$.partial":19}],72:[function(e,t,n){e("./modules/es5"),e("./modules/es6.symbol"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.object.statics-accept-primitives"),e("./modules/es6.function.name"),e("./modules/es6.number.constructor"),e("./modules/es6.number.statics"),e("./modules/es6.math"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.iterator"),e("./modules/es6.array.species"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.regexp"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.reflect"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.regexp.escape"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.to-array"),e("./modules/es7.set.to-json"),e("./modules/js.array.statics"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/$").core},{"./modules/$":16,"./modules/es5":28,"./modules/es6.array.copy-within":29,"./modules/es6.array.fill":30,"./modules/es6.array.find":32,"./modules/es6.array.find-index":31,"./modules/es6.array.from":33,"./modules/es6.array.iterator":34,"./modules/es6.array.of":35,"./modules/es6.array.species":36,"./modules/es6.function.name":37,"./modules/es6.map":38,"./modules/es6.math":39,"./modules/es6.number.constructor":40,"./modules/es6.number.statics":41,"./modules/es6.object.assign":42,"./modules/es6.object.is":43,"./modules/es6.object.set-prototype-of":44,"./modules/es6.object.statics-accept-primitives":45,"./modules/es6.object.to-string":46,"./modules/es6.promise":47,"./modules/es6.reflect":48,"./modules/es6.regexp":49,"./modules/es6.set":50,"./modules/es6.string.code-point-at":51,"./modules/es6.string.ends-with":52,"./modules/es6.string.from-code-point":53,"./modules/es6.string.includes":54,"./modules/es6.string.iterator":55,"./modules/es6.string.raw":56,"./modules/es6.string.repeat":57,"./modules/es6.string.starts-with":58,"./modules/es6.symbol":59,"./modules/es6.weak-map":60,"./modules/es6.weak-set":61,"./modules/es7.array.includes":62,"./modules/es7.object.get-own-property-descriptors":63,"./modules/es7.object.to-array":64,"./modules/es7.regexp.escape":65,"./modules/es7.set.to-json":66,"./modules/es7.string.at":67,"./modules/js.array.statics":68,"./modules/web.dom.iterable":69,"./modules/web.immediate":70,"./modules/web.timers":71}],73:[function(e,t,n){(function(e){!function(e){"use strict";function n(e,t,n,r){var i=Object.create((t||o).prototype);return i._invoke=s(e,n||null,new d(r||[])),i}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function i(){}function a(){}function s(e,t,n){var o=b;return function(i,a){if(o===C)throw new Error("Generator is already running");if(o===_)return f();for(;;){var s=n.delegate;if(s){if("return"===i||"throw"===i&&s.iterator["throw"]===h){n.delegate=null;var l=s.iterator["return"];if(l){var u=r(l,s.iterator,a);if("throw"===u.type){i="throw",a=u.arg;continue}}if("return"===i)continue}var u=r(s.iterator[i],s.iterator,a);if("throw"===u.type){n.delegate=null,i="throw",a=u.arg;continue}i="next",a=h;var c=u.arg;if(!c.done)return o=w,c;n[s.resultName]=c.value,n.next=s.nextLoc,n.delegate=null}if("next"===i)o===w?n.sent=a:delete n.sent;else if("throw"===i){if(o===b)throw o=_,a;n.dispatchException(a)&&(i="next",a=h)}else"return"===i&&n.abrupt("return",a);o=C;var u=r(e,t,n);if("normal"===u.type){o=n.done?_:w;var c={value:u.arg,done:n.done};if(u.arg!==x)return c;n.delegate&&"next"===i&&(a=h)}else"throw"===u.type&&(o=_,i="throw",a=u.arg)}}}function l(e){E[e]=function(t){return this._invoke(e,t)}}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset()}function p(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function o(){for(;++n<e.length;)if(m.call(e,n))return o.value=e[n],o.done=!1,o;return o.value=h,o.done=!0,o};return r.next=r}}return{next:f}}function f(){return{value:h,done:!0}}var h,m=Object.prototype.hasOwnProperty,v="function"==typeof Symbol&&Symbol.iterator||"@@iterator",g="object"==typeof t,y=e.regeneratorRuntime;if(y)return void(g&&(t.exports=y));y=e.regeneratorRuntime=g?t.exports:{},y.wrap=n;var b="suspendedStart",w="suspendedYield",C="executing",_="completed",x={},E=a.prototype=o.prototype;i.prototype=E.constructor=a,a.constructor=i,i.displayName="GeneratorFunction",y.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===i||"GeneratorFunction"===(t.displayName||t.name):!1},y.mark=function(e){return e.__proto__=a,e.prototype=Object.create(E),e},y.async=function(e,t,o,i){return new Promise(function(a,s){function l(e,t){var n=r(u[e],u,t);if("throw"===n.type)return void s(n.arg);var o=n.arg;o.done?a(o.value):Promise.resolve(o.value).then(c,d)}var u=n(e,t,o,i),c=l.bind(u,"next"),d=l.bind(u,"throw");c()})},l("next"),l("throw"),l("return"),E[v]=function(){return this},E.toString=function(){return"[object Generator]"},y.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},y.values=p,d.prototype={constructor:d,reset:function(){this.prev=0,this.next=0,this.sent=h,this.done=!1,this.delegate=null,this.tryEntries.forEach(c);for(var e,t=0;m.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),s=m.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);
}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?this.next=o.finallyLoc:this.complete(i),x},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;c(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},x}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),define("lib/babel-polyfill/browser-polyfill",function(){}),define("lib-build/less!storymaps/tpl/core/MainView",[],function(){}),define("lib-build/css!storymaps/tpl/view/media/Common",[],function(){}),define("storymaps-react/tpl/core/Controller",["module","exports","dojo/_base/lang","dojo/topic","dojo/has"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n),l=i(r),u=i(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d={logo:{enabled:!0,url:"resources/tpl/viewer/icons/esri-logo.png",link:"https://www.esri.com"},link:{url:"https://storymaps.arcgis.com",title:"A Story Map"},social:{enabled:!0}},p=function(){function e(){a(this,e)}return c(e,null,[{key:"isStoryBlank",value:function(){return app.data.appItem&&app.data.appItem.data&&app.data.appItem.data.values&&app.data.appItem.data.values.config&&app.data.appItem.data.values.settings&&app.data.appItem.data.values.sections&&app.data.appItem.data.values.template?!1:!0}},{key:"renderHeader",value:function(){var t=app.data.appItem.data.values.settings.header;t&&t.logo&&t.link||(t=e.DEFAULT_HEADER_SETTINGS),app.ui.header.render({logo:t.logo,link:t.link,social:t.social,bookmarks:this.getBookmarks()})}},{key:"renderStory",value:function(e,t){this._sections=[],this._currentSection=null,this._$currentSection=null,this._currentSectionIndex=null,this._container=$(".sections"),app.data.title=t[0].foreground.title,app.data.subtitle=t[0].foreground.subtitle,app.data.author=e.author,app.data.maps={};var n=!1,r=t.length,o=!1;$.each(t,function(e,i){var a=!1,s=app.ui.SectionFactory.createInstance(i);if(s){if(i.alternate===!0&&(!o||10==(0,u["default"])("ie")))return;if(i["no-ie10"]&&10==(0,u["default"])("ie"))return;try{this._container.append(s.render(e))}catch(l){console.error(l),o=!0,"RUNTIME-NO-WEBGL"==l&&(a=!0,n=!0)}a||this._sections.push(s)}if(e==r-2&&"credits"==t[e+1].type||e==r-1&&"credits"!=i.type){var c=this.getErrorSection({type:n?"WEBGL":""});c&&(this._sections.push(s),this._container.append(s.render(e)))}}.bind(this)),app.data.sections=this._sections,app.data.sectionsJSON=t,$(".section").each(function(e,t){this._sections[e].postCreate($(t))}.bind(this))}},{key:"getBookmarks",value:function(){var e=[];return $.each(this._sections,function(t,n){if(n.getBookmark){var r=n.getBookmark();r&&"visible"==r.status&&e.push({index:t,title:r.bookmark})}}),e}},{key:"preloadSectionByIndex",value:function(e){this.preloadSection(this._sections[e],{})}},{key:"preloadSection",value:function(e,t){e&&window.requestAnimationFrame(function(){e.onScroll(s["default"].mixin(t,{status:"preload"}))})}},{key:"onScroll",value:function(e){var t=this._sections[e.currentSectionIndex];if(t){var n=app.display.sections[e.currentSectionIndex].top;if(t.onScroll(s["default"].mixin(e,{status:"current",viewportTop:e.scrollTop-n,viewportBottom:e.scrollTop+app.display.sectionHeight-n})),e.currentSectionIndex!=this._currentSectionIndex){console.log("Scroll to section ",e.currentSectionIndex),e.$currentSection.addClass("active"),l["default"].publish("story-navigated-section",{index:e.currentSectionIndex,data:this._currentSection});var r=this._sections[e.currentSectionIndex+1];r&&e.currentSectionIndex!=this._currentSectionIndex&&this.preloadSection(r,e);var o=this._currentSection,i=this._$currentSection;i&&window.requestAnimationFrame(function(){i.removeClass("active"),o.onScroll({status:"unload"})})}$.each(e.visibleSections,function(t,n){var r=this._sections[n],o=app.display.sections[n].top;n!=e.currentSectionIndex&&r.onScroll(s["default"].mixin(e,{status:"visible",viewportTop:e.scrollTop-o,viewportBottom:e.scrollTop+app.display.sectionHeight-o}))}.bind(this)),this._$currentSection=e.$currentSection,this._currentSectionIndex=e.currentSectionIndex,this._currentSection=t}}},{key:"onResize",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._sections[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.resize(e)}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"navigateToSection",value:function(e){if(e&&void 0!=e.index&&void 0!=e.animate&&!(e.index>app.display.sections.length-1)){var t=50,n=this._sections[e.index].type,r=app.display.sections[e.index].top,o=1;"immersive"==n&&(o=app.display.windowHeight/2,app.isInBuilder&&(o+=125)),e.animate?$("html,body").animate({scrollTop:r-t+o}):document.body.scrollTop=r-t+o}}},{key:"getSectionById",value:function(e){for(var t in this._sections){var n=this._sections[t];if(n.id==e)return parseInt(t,10)}return-1}},{key:"getSectionIndexById",value:function(e){return this._sections[e].id}},{key:"getErrorSection",value:function(e){e=e||{};var t=null;if("WEBGL"==e.type){var n="mailto:?to=&subject=Check%20out%20this%20story&body="+document.location.href;t=app.ui.SectionFactory.createInstance({type:"sequence",layout:"sequence-2",background:{type:"color",color:{value:"#FFF"},nospacer:!0},foreground:{config:{},blocks:[{type:"text",text:{value:10==(0,u["default"])("ie")?'You\'ve read a short version of this story as some media elements are not compatible with your browser. <a href="http://browsehappy.com/" target="_blank">Please update your browser to read the full version</a>':'<table><tr><td style="padding-bottom: 10px;"><img src="resources/tpl/viewer/icons/warning-mobile-smartphone.png" /></td><td style="padding-bottom: 10px; padding-left: 13px;">You\'ve read the mobile version of this story. For the full version, with richer media elements try it out on a desktop computer.</td></tr><tr><td colspan="2" style="padding-top: 10px; border-top: 1px solid white; text-align: center;"><a class="btn btn-warning-email" style="background-color: white; color: rgba(255, 0, 0, 0.7);" href="'+n+'"><img src="resources/tpl/viewer/icons/warning-mobile-laptop.png" style="margin-right: 5px;"/>Email me a link to this story</a></td></tr></table>'},options:"small center font-20 font-light"}]}})}return t}},{key:"DEFAULT_HEADER_SETTINGS",get:function(){return d}}]),e}();t["default"]=p,e.exports=t["default"]}),function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("lib/progress.js/minified/progress.min",["exports"],t):t(e)}(this,function(e){function t(e){this._targetElement="undefined"!=typeof e.length?e:[e],"undefined"==typeof window._progressjsId&&(window._progressjsId=1),"undefined"==typeof window._progressjsIntervals&&(window._progressjsIntervals={}),this._options={theme:"blue",overlayMode:!1,considerTransition:!0}}function n(e,t){var n=this;t>=100&&(t=100),e.hasAttribute("data-progressjs")&&setTimeout(function(){"undefined"!=typeof n._onProgressCallback&&n._onProgressCallback.call(n,e,t);var o=r(e);o.style.width=parseInt(t)+"%";var o=o.querySelector(".progressjs-percent"),i=parseInt(o.innerHTML.replace("%","")),a=parseInt(t),s=function(e,t,n){var r=Math.abs(t-n);3>r?u=30:20>r?u=20:intervanIn=1,0!=t-n&&(e.innerHTML=(l?++t:--t)+"%",setTimeout(function(){s(e,t,n)},u))},l=!0;i>a&&(l=!1);var u=10;s(o,i,a)},50)}function r(e){return e=parseInt(e.getAttribute("data-progressjs")),document.querySelector('.progressjs-container > .progressjs-progress[data-progressjs="'+e+'"] > .progressjs-inner')}function o(e){for(var t=0,o=this._targetElement.length;o>t;t++){var i=this._targetElement[t];if(i.hasAttribute("data-progressjs")){var a=r(i);(a=parseInt(a.style.width.replace("%","")))&&n.call(this,i,a+(e||1))}}}function i(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}var a=function(e){if("object"==typeof e)return new t(e);if("string"==typeof e){if(e=document.querySelectorAll(e))return new t(e);throw Error("There is no element with given selector.")}return new t(document.body)};return a.version="0.1.0",a.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){var t,n=this._options,r={};for(t in n)r[t]=n[t];for(t in e)r[t]=e[t];return this._options=r,this},start:function(){if("undefined"!=typeof this._onBeforeStartCallback&&this._onBeforeStartCallback.call(this),!document.querySelector(".progressjs-container")){var e=document.createElement("div");e.className="progressjs-container",document.body.appendChild(e)}for(var e=0,t=this._targetElement.length;t>e;e++){var r=this._targetElement[e];if(!r.hasAttribute("data-progressjs")){var o,i,a,s=r;"body"===s.tagName.toLowerCase()?(o=s.clientWidth,i=s.clientHeight):(o=s.offsetWidth,i=s.offsetHeight);for(var l=a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft,l+=s.offsetTop,s=s.offsetParent;s=l,r.setAttribute("data-progressjs",window._progressjsId),l=document.createElement("div"),l.className="progressjs-progress progressjs-theme-"+this._options.theme,l.style.position="body"===r.tagName.toLowerCase()?"fixed":"absolute",l.setAttribute("data-progressjs",window._progressjsId);var u=document.createElement("div");u.className="progressjs-inner";var c=document.createElement("div");c.className="progressjs-percent",c.innerHTML="1%",u.appendChild(c),this._options.overlayMode&&"body"===r.tagName.toLowerCase()?(l.style.left=0,l.style.right=0,l.style.top=0,l.style.bottom=0):(l.style.left=a+"px",l.style.top=s+"px",l.style.width=o+"px",this._options.overlayMode&&(l.style.height=i+"px")),l.appendChild(u),document.querySelector(".progressjs-container").appendChild(l),n(r,1),++window._progressjsId}}return this},set:function(e){for(var t=0,r=this._targetElement.length;r>t;t++)n.call(this,this._targetElement[t],e);return this},increase:function(e){return o.call(this,e),this},autoIncrease:function(e,t){var n=this,r=parseInt(this._targetElement[0].getAttribute("data-progressjs"));return"undefined"!=typeof window._progressjsIntervals[r]&&clearInterval(window._progressjsIntervals[r]),window._progressjsIntervals[r]=setInterval(function(){o.call(n,e)},t),this},end:function(){e:{"undefined"!=typeof this._onBeforeEndCallback&&(!0===this._options.considerTransition?r(this._targetElement[0]).addEventListener(i(),this._onBeforeEndCallback,!1):this._onBeforeEndCallback.call(this));for(var e=parseInt(this._targetElement[0].getAttribute("data-progressjs")),t=0,o=this._targetElement.length;o>t;t++){var a=this._targetElement[t],s=r(a);if(!s)break e;var l=1;100>parseInt(s.style.width.replace("%",""))&&(n.call(this,a,100),l=500),function(e,t){setTimeout(function(){e.parentNode.className+=" progressjs-end",setTimeout(function(){e.parentNode.parentNode.removeChild(e.parentNode),t.removeAttribute("data-progressjs")},1e3)},l)}(s,a)}if(window._progressjsIntervals[e])try{clearInterval(window._progressjsIntervals[e]),window._progressjsIntervals[e]=null,delete window._progressjsIntervals[e]}catch(u){}}return this},onbeforeend:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforeend was not a function");return this._onBeforeEndCallback=e,this},onbeforestart:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforestart was not a function");return this._onBeforeStartCallback=e,this},onprogress:function(e){if("function"!=typeof e)throw Error("Provided callback for onprogress was not a function");return this._onProgressCallback=e,this}},e.progressJs=a}),define("lib-build/css!lib/progress.js/minified/progressjs.min",[],function(){}),define("lib-build/less!storymaps/tpl/view/ui/ProgressBar",[],function(){}),define("storymaps/tpl/view/ui/ProgressBar",["lib/progress.js/minified/progress.min","lib-build/css!lib/progress.js/minified/progressjs.min","lib-build/less!./ProgressBar"],function(e){return function(){var t=new e;this.start=function(){t.start()},this.update=function(e){t.set(e)}}}),define("lib-build/tpl",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("lib-build/tpl!storymaps/common/ui/share/ShareDialog",[],function(){return function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="modal-dialog">\r\n	<div class="modal-content">\r\n		<div class="modal-logo"></div>\r\n		<div class="modal-header">\r\n			<h4 class="modal-title"></h4>\r\n		</div>\r\n\r\n		<div class="modal-body">\r\n			<div class="social-container">\r\n				<i class="shareIcon blackHover share_facebook icon-facebook-squared"></i>\r\n				<i class="shareIcon blackHover share_twitter icon-twitter"></i>\r\n			</div>\r\n\r\n			<div class="share-url-panel"></div>\r\n\r\n			<div class="embed-title"></div>\r\n			<div class="share-embed-panel"></div>\r\n		</div>\r\n\r\n		<div class="modal-footer">\r\n			<button type="button" class="btn btnCancel btn-naked btn-close" data-dismiss="modal"></button>\r\n		</div>\r\n	</div>\r\n</div>\r\n';return __p}}),define("lib-build/css!storymaps/common/ui/share/ShareDialog",[],function(){}),define("lib-build/tpl!storymaps/common/ui/share/ShareURLPanel",[],function(){return function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="share-url-container">\r\n	<span class="share-btn glyphicon glyphicon-copy"></span>\r\n	<input type="text" class="form-control bitlylink" readonly="true"/>\r\n	<a class="btn btn-primary btn-bitlylink-open" target="_blank"></a>\r\n	<div class="share-status-wrapper"><span class="share-status"></span></div>\r\n</div>\r\n';return __p}}),define("lib-build/css!storymaps/common/ui/share/ShareURLPanel",[],function(){}),function(e,t){"use strict";var n,r,o,i=e,a=i.document,s=i.navigator,l=i.setTimeout,u=i.clearTimeout,c=i.setInterval,d=i.clearInterval,p=i.getComputedStyle,f=i.encodeURIComponent,h=i.ActiveXObject,m=i.Error,v=i.Number.parseInt||i.parseInt,g=i.Number.parseFloat||i.parseFloat,y=i.Number.isNaN||i.isNaN,b=i.Date.now,w=i.Object.keys,C=i.Object.defineProperty,_=i.Object.prototype.hasOwnProperty,x=i.Array.prototype.slice,E=function(){var e=function(e){return e};if("function"==typeof i.wrap&&"function"==typeof i.unwrap)try{var t=a.createElement("div"),n=i.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=i.unwrap)}catch(r){}return e}(),T=function(e){return x.call(e,0)},k=function(){var e,n,r,o,i,a,s=T(arguments),l=s[0]||{};for(e=1,n=s.length;n>e;e++)if(null!=(r=s[e]))for(o in r)_.call(r,o)&&(i=l[o],a=r[o],l!==a&&a!==t&&(l[o]=a));return l},P=function(e){var t,n,r,o;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;r>n;n++)_.call(e,n)&&(t[n]=P(e[n]));else{t={};for(o in e)_.call(e,o)&&(t[o]=P(e[o]))}return t},S=function(e,t){for(var n={},r=0,o=t.length;o>r;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n},O=function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},I=function(e){if(e)for(var t in e)_.call(e,t)&&delete e[t];return e},N=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},A=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},M=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},D=function(){var e,t;try{throw new m}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||M(t.stack)),e},j=function(){var e,n,r;if(a.currentScript&&(e=a.currentScript.src))return e;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(e=n[r].src))return e;return"loading"===a.readyState&&(e=n[n.length-1].src)?e:(e=D())?e:t},L=function(){var e,n,r,o=a.getElementsByTagName("script");for(e=o.length;e--;){if(!(r=o[e].src)){n=null;break}if(r=A(r),null==n)n=r;else if(n!==r){n=null;break}}return n||t},R=function(){var e=A(j())||L()||"";return e+"ZeroClipboard.swf"},F=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),B={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},U="11.0.0",$={},H={},W=null,z=0,V=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},K=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],Y=new RegExp("^flash-("+G.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),X=new RegExp("^flash-("+G.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),Q={swfPath:R(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},J=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(_.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))Q[t]=e[t];else if(null==B.bridge)if("containerId"===t||"swfObjectId"===t){if(!fe(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");Q[t]=e[t]}else Q[t]=e[t];{if("string"!=typeof e||!e)return P(Q);if(_.call(Q,e))return Q[e]}},Z=function(){return Ve(),{browser:S(s,["userAgent","platform","appName"]),flash:O(B,["bridge"]),zeroclipboard:{version:Ke.version,config:Ke.config()}}},ee=function(){return!!(B.disabled||B.outdated||B.sandboxed||B.unavailable||B.degraded||B.deactivated)},te=function(e,r){var o,i,a,s={};if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(o in e)_.call(e,o)&&"string"==typeof o&&o&&"function"==typeof e[o]&&Ke.on(o,e[o]);if(a&&a.length){for(o=0,i=a.length;i>o;o++)e=a[o].replace(/^on/,""),s[e]=!0,$[e]||($[e]=[]),$[e].push(r);if(s.ready&&B.ready&&Ke.emit({type:"ready"}),s.error){for(o=0,i=G.length;i>o;o++)if(B[G[o].replace(/^flash-/,"")]===!0){Ke.emit({type:"error",name:G[o]});break}n!==t&&Ke.version!==n&&Ke.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return Ke},ne=function(e,t){var n,r,o,i,a;if(0===arguments.length)i=w($);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)_.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ke.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;r>n;n++)if(e=i[n].toLowerCase().replace(/^on/,""),a=$[e],a&&a.length)if(t)for(o=a.indexOf(t);-1!==o;)a.splice(o,1),o=a.indexOf(t,o);else a.length=0;return Ke},re=function(e){var t;return t="string"==typeof e&&e?P($[e])||null:P($)},oe=function(e){var t,n,r;return e=he(e),e&&!Ce(e)?"ready"===e.type&&B.overdue===!0?Ke.emit({type:"error",name:"flash-overdue"}):(t=k({},e),be.call(this,t),"copy"===e.type&&(r=Oe(H),n=r.data,W=r.formatMap),n):void 0},ie=function(){var e=B.sandboxed;if(Ve(),"boolean"!=typeof B.ready&&(B.ready=!1),B.sandboxed!==e&&B.sandboxed===!0)B.ready=!1,Ke.emit({type:"error",name:"flash-sandboxed"});else if(!Ke.isFlashUnusable()&&null===B.bridge){var t=Q.flashLoadTimeout;"number"==typeof t&&t>=0&&(z=l(function(){"boolean"!=typeof B.deactivated&&(B.deactivated=!0),B.deactivated===!0&&Ke.emit({type:"error",name:"flash-deactivated"})},t)),B.overdue=!1,Pe()}},ae=function(){Ke.clearData(),Ke.blur(),Ke.emit("destroy"),Se(),Ke.off()},se=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Ke.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)"string"==typeof r&&r&&_.call(n,r)&&"string"==typeof n[r]&&n[r]&&(H[r]=n[r])},le=function(e){"undefined"==typeof e?(I(H),W=null):"string"==typeof e&&_.call(H,e)&&delete H[e]},ue=function(e){return"undefined"==typeof e?P(H):"string"==typeof e&&_.call(H,e)?H[e]:void 0},ce=function(e){if(e&&1===e.nodeType){r&&(Re(r,Q.activeClass),r!==e&&Re(r,Q.hoverClass)),r=e,Le(e,Q.hoverClass);var t=e.getAttribute("title")||Q.title;if("string"==typeof t&&t){var n=ke(B.bridge);n&&n.setAttribute("title",t)}var o=Q.forceHandCursor===!0||"pointer"===Fe(e,"cursor");We(o),He()}},de=function(){var e=ke(B.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),r&&(Re(r,Q.hoverClass),Re(r,Q.activeClass),r=null)},pe=function(){return r||null},fe=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},he=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=o),k(e,{type:t,target:e.target||r||null,relatedTarget:e.relatedTarget||null,currentTarget:B&&B.bridge||null,timeStamp:e.timeStamp||b()||null});var n=q[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&k(e,{target:null,version:B.version}),"error"===e.type&&(Y.test(e.name)&&k(e,{target:null,minimumVersion:U}),X.test(e.name)&&k(e,{version:B.version})),"copy"===e.type&&(e.clipboardData={setData:Ke.setData,clearData:Ke.clearData}),"aftercopy"===e.type&&(e=Ie(e,W)),e.target&&!e.relatedTarget&&(e.relatedTarget=me(e.target)),ve(e)}},me=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?a.getElementById(t):null},ve=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,r="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,o="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=Be(n),l=i.screenLeft||i.screenX||0,u=i.screenTop||i.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,d=a.body.scrollTop+a.documentElement.scrollTop,p=s.left+("number"==typeof e._stageX?e._stageX:0),f=s.top+("number"==typeof e._stageY?e._stageY:0),h=p-c,m=f-d,v=l+h,g=u+m,y="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,k(e,{srcElement:n,fromElement:r,toElement:o,screenX:v,screenY:g,pageX:p,pageY:f,clientX:h,clientY:m,x:h,y:m,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ge=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ye=function(e,t,n,r){r?l(function(){e.apply(t,n)},0):e.apply(t,n)},be=function(e){if("object"==typeof e&&e&&e.type){var t=ge(e),n=$["*"]||[],r=$[e.type]||[],o=n.concat(r);if(o&&o.length){var a,s,l,u,c,d=this;for(a=0,s=o.length;s>a;a++)l=o[a],u=d,"string"==typeof l&&"function"==typeof i[l]&&(l=i[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=k({},e),ye(l,u,[c],t))}return this}},we=function(e){var t=null;return(F===!1||e&&"error"===e.type&&e.name&&-1!==K.indexOf(e.name))&&(t=!1),t},Ce=function(e){var t=e.target||r||null,i="swf"===e._source;switch(delete e._source,e.type){case"error":var a="flash-sandboxed"===e.name||we(e);"boolean"==typeof a&&(B.sandboxed=a),-1!==G.indexOf(e.name)?k(B,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,k(B,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),$e();break;case"ready":n=e.swfVersion;var s=B.deactivated===!0;k(B,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),$e();break;case"beforecopy":o=t;break;case"copy":var l,u,c=e.relatedTarget;!H["text/html"]&&!H["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l),u!==l&&e.clipboardData.setData("text/html",u)):!H["text/plain"]&&e.target&&(l=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l));break;case"aftercopy":_e(e),Ke.clearData(),t&&t!==je()&&t.focus&&t.focus();break;case"_mouseover":Ke.focus(t),Q.bubbleEvents===!0&&i&&(t&&t!==e.relatedTarget&&!N(e.relatedTarget,t)&&xe(k({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),xe(k({},e,{type:"mouseover"})));break;case"_mouseout":Ke.blur(),Q.bubbleEvents===!0&&i&&(t&&t!==e.relatedTarget&&!N(e.relatedTarget,t)&&xe(k({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),xe(k({},e,{type:"mouseout"})));break;case"_mousedown":Le(t,Q.activeClass),Q.bubbleEvents===!0&&i&&xe(k({},e,{type:e.type.slice(1)}));break;case"_mouseup":Re(t,Q.activeClass),Q.bubbleEvents===!0&&i&&xe(k({},e,{type:e.type.slice(1)}));break;case"_click":o=null,Q.bubbleEvents===!0&&i&&xe(k({},e,{type:e.type.slice(1)}));break;case"_mousemove":Q.bubbleEvents===!0&&i&&xe(k({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},_e=function(e){if(e.errors&&e.errors.length>0){var t=P(e);k(t,{type:"error",name:"clipboard-error"}),delete t.success,l(function(){Ke.emit(t)},0)}},xe=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,r=n&&n.ownerDocument||a,o={view:r.defaultView||i,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},s=k(o,e);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=r.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",n.dispatchEvent(t)))}},Ee=function(){var e=Q.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=Q.swfObjectId+"_fallbackContent";V=c(function(){var e=a.getElementById(n);Ue(e)&&($e(),B.deactivated=null,Ke.emit({type:"error",name:"swf-not-found"}))},t)}},Te=function(){var e=a.createElement("div");return e.id=Q.containerId,e.className=Q.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+ze(Q.zIndex),e},ke=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},Pe=function(){var e,t=B.bridge,n=ke(t);if(!t){var r=De(i.location.host,Q),o="never"===r?"none":"all",s=Ae(k({jsVersion:Ke.version},Q)),l=Q.swfPath+Ne(Q.swfPath,Q);n=Te();var u=a.createElement("div");n.appendChild(u),a.body.appendChild(n);var c=a.createElement("div"),d="activex"===B.pluginType;c.innerHTML='<object id="'+Q.swfObjectId+'" name="'+Q.swfObjectId+'" width="100%" height="100%" '+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(d?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Q.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=c.firstChild,c=null,E(t).ZeroClipboard=Ke,n.replaceChild(t,u),Ee()}return t||(t=a[Q.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),B.bridge=t||null,t},Se=function(){var e=B.bridge;if(e){var r=ke(e);r&&("activex"===B.pluginType&&"readyState"in e?(e.style.display="none",function o(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r)}else l(o,10)}()):(e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r))),$e(),B.ready=null,B.bridge=null,B.deactivated=null,n=t}},Oe=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&_.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}},Ie=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var r in e)if(_.call(e,r))if("errors"===r){n[r]=e[r]?e[r].slice():[];for(var o=0,i=n[r].length;i>o;o++)n[r][o].format=t[n[r][o].format]}else if("success"!==r&&"data"!==r)n[r]=e[r];else{n[r]={};var a=e[r];for(var s in a)s&&_.call(a,s)&&_.call(t,s)&&(n[r][t[s]]=a[s])}return n},Ne=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+b():"";
},Ae=function(e){var t,n,r,o,a="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?o=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(o=e.trustedDomains)),o&&o.length)for(t=0,n=o.length;n>t;t++)if(_.call(o,t)&&o[t]&&"string"==typeof o[t]){if(r=Me(o[t]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,i.location.protocol+"//"+r])}return s.length&&(a+="trustedOrigins="+f(s.join(","))),e.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+f(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(a+=(a?"&":"")+"jsVersion="+f(e.jsVersion)),a},Me=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},De=function(){var e=function(e){var t,n,r,o=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return o;for(t=0,n=e.length;n>t;t++)if(_.call(e,t)&&(r=Me(e[t]))){if("*"===r){o.length=0,o.push("*");break}-1===o.indexOf(r)&&o.push(r)}return o};return function(t,n){var r=Me(n.swfPath);null===r&&(r=t);var o=e(n.trustedDomains),i=o.length;if(i>0){if(1===i&&"*"===o[0])return"always";if(-1!==o.indexOf(t))return 1===i&&t===r?"sameDomain":"always"}return"never"}}(),je=function(){try{return a.activeElement}catch(e){return null}},Le=function(e,t){var n,r,o,i=[];if("string"==typeof t&&t&&(i=t.split(/\s+/)),e&&1===e.nodeType&&i.length>0)if(e.classList)for(n=0,r=i.length;r>n;n++)e.classList.add(i[n]);else if(e.hasOwnProperty("className")){for(o=" "+e.className+" ",n=0,r=i.length;r>n;n++)-1===o.indexOf(" "+i[n]+" ")&&(o+=i[n]+" ");e.className=o.replace(/^\s+|\s+$/g,"")}return e},Re=function(e,t){var n,r,o,i=[];if("string"==typeof t&&t&&(i=t.split(/\s+/)),e&&1===e.nodeType&&i.length>0)if(e.classList&&e.classList.length>0)for(n=0,r=i.length;r>n;n++)e.classList.remove(i[n]);else if(e.className){for(o=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,r=i.length;r>n;n++)o=o.replace(" "+i[n]+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}return e},Fe=function(e,t){var n=p(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Be=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=i.pageXOffset,o=i.pageYOffset,s=a.documentElement.clientLeft||0,l=a.documentElement.clientTop||0,u=0,c=0;if("relative"===Fe(a.body,"position")){var d=a.body.getBoundingClientRect(),p=a.documentElement.getBoundingClientRect();u=d.left-p.left||0,c=d.top-p.top||0}t.left=n.left+r-s-u,t.top=n.top+o-l-c,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},Ue=function(e){if(!e)return!1;var t=p(e,null),n=g(t.height)>0,r=g(t.width)>0,o=g(t.top)>=0,i=g(t.left)>=0,a=n&&r&&o&&i,s=a?null:Be(e),l="none"!==t.display&&"collapse"!==t.visibility&&(a||!!s&&(n||s.height>0)&&(r||s.width>0)&&(o||s.top>=0)&&(i||s.left>=0));return l},$e=function(){u(z),z=0,d(V),V=0},He=function(){var e;if(r&&(e=ke(B.bridge))){var t=Be(r);k(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+ze(Q.zIndex)})}},We=function(e){B.ready===!0&&(B.bridge&&"function"==typeof B.bridge.setHandCursor?B.bridge.setHandCursor(e):B.ready=!1)},ze=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||y(e)?"string"==typeof e&&(t=ze(v(e,10))):t=e,"number"==typeof t?t:"auto"},Ve=function(t){var n,r,o,i=B.sandboxed,a=null;if(t=t===!0,F===!1)a=!1;else{try{r=e.frameElement||null}catch(s){o={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{a=r.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||o&&"SecurityError"===o.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(o.message.toLowerCase()))&&(a=!0)}}return B.sandboxed=a,i===a||t||qe(h),a},qe=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function r(e){e&&(l=!0,e.version&&(d=t(e.version)),!d&&e.description&&(d=t(e.description)),e.filename&&(c=n(e.filename)))}var o,i,a,l=!1,u=!1,c=!1,d="";if(s.plugins&&s.plugins.length)o=s.plugins["Shockwave Flash"],r(o),s.plugins["Shockwave Flash 2.0"]&&(l=!0,d="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],o=a&&a.enabledPlugin,r(o);else if("undefined"!=typeof e){u=!0;try{i=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,d=t(i.GetVariable("$version"))}catch(p){try{i=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,d="6.0.21"}catch(f){try{i=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,d=t(i.GetVariable("$version"))}catch(h){u=!1}}}}B.disabled=l!==!0,B.outdated=d&&g(d)<g(U),B.version=d||"0.0.0",B.pluginType=c?"pepper":u?"activex":l?"netscape":"unknown"};qe(h),Ve(!0);var Ke=function(){return this instanceof Ke?void("function"==typeof Ke._createClient&&Ke._createClient.apply(this,T(arguments))):new Ke};C(Ke,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ke.config=function(){return J.apply(this,T(arguments))},Ke.state=function(){return Z.apply(this,T(arguments))},Ke.isFlashUnusable=function(){return ee.apply(this,T(arguments))},Ke.on=function(){return te.apply(this,T(arguments))},Ke.off=function(){return ne.apply(this,T(arguments))},Ke.handlers=function(){return re.apply(this,T(arguments))},Ke.emit=function(){return oe.apply(this,T(arguments))},Ke.create=function(){return ie.apply(this,T(arguments))},Ke.destroy=function(){return ae.apply(this,T(arguments))},Ke.setData=function(){return se.apply(this,T(arguments))},Ke.clearData=function(){return le.apply(this,T(arguments))},Ke.getData=function(){return ue.apply(this,T(arguments))},Ke.focus=Ke.activate=function(){return ce.apply(this,T(arguments))},Ke.blur=Ke.deactivate=function(){return de.apply(this,T(arguments))},Ke.activeElement=function(){return pe.apply(this,T(arguments))};var Ge=0,Ye={},Xe=0,Qe={},Je={};k(Q,{autoActivate:!0});var Ze=function(e){var t=this;t.id=""+Ge++,Ye[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ke.on("*",function(e){return t.emit(e)}),Ke.on("destroy",function(){t.destroy()}),Ke.create()},et=function(e,r){var o,i,a,s={},l=Ye[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(o in e)_.call(e,o)&&"string"==typeof o&&o&&"function"==typeof e[o]&&this.on(o,e[o]);if(a&&a.length){for(o=0,i=a.length;i>o;o++)e=a[o].replace(/^on/,""),s[e]=!0,u[e]||(u[e]=[]),u[e].push(r);if(s.ready&&B.ready&&this.emit({type:"ready",client:this}),s.error){for(o=0,i=G.length;i>o;o++)if(B[G[o].replace(/^flash-/,"")]){this.emit({type:"error",name:G[o],client:this});break}n!==t&&Ke.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return this},tt=function(e,t){var n,r,o,i,a,s=Ye[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)i=w(l);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)_.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;r>n;n++)if(e=i[n].toLowerCase().replace(/^on/,""),a=l[e],a&&a.length)if(t)for(o=a.indexOf(t);-1!==o;)a.splice(o,1),o=a.indexOf(t,o);else a.length=0;return this},nt=function(e){var t=null,n=Ye[this.id]&&Ye[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:P(n)),t},rt=function(e){if(lt.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=k({},e));var t=k({},he(e),{client:this});ut.call(this,t)}return this},ot=function(e){if(!Ye[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ct(e);for(var t=0;t<e.length;t++)if(_.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Qe[e[t].zcClippingId].indexOf(this.id)&&Qe[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Xe++,Qe[e[t].zcClippingId]=[this.id],Q.autoActivate===!0&&dt(e[t]));var n=Ye[this.id]&&Ye[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},it=function(e){var t=Ye[this.id];if(!t)return this;var n,r=t.elements;e="undefined"==typeof e?r.slice(0):ct(e);for(var o=e.length;o--;)if(_.call(e,o)&&e[o]&&1===e[o].nodeType){for(n=0;-1!==(n=r.indexOf(e[o],n));)r.splice(n,1);var i=Qe[e[o].zcClippingId];if(i){for(n=0;-1!==(n=i.indexOf(this.id,n));)i.splice(n,1);0===i.length&&(Q.autoActivate===!0&&pt(e[o]),delete e[o].zcClippingId)}}return this},at=function(){var e=Ye[this.id];return e&&e.elements?e.elements.slice(0):[]},st=function(){Ye[this.id]&&(this.unclip(),this.off(),delete Ye[this.id])},lt=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ye[this.id],n=t&&t.elements,r=!!n&&n.length>0,o=!e.target||r&&-1!==n.indexOf(e.target),i=e.relatedTarget&&r&&-1!==n.indexOf(e.relatedTarget),a=e.client&&e.client===this;return t&&(o||i||a)?!0:!1},ut=function(e){var t=Ye[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ge(e),r=t&&t.handlers["*"]||[],o=t&&t.handlers[e.type]||[],a=r.concat(o);if(a&&a.length){var s,l,u,c,d,p=this;for(s=0,l=a.length;l>s;s++)u=a[s],c=p,"string"==typeof u&&"function"==typeof i[u]&&(u=i[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(d=k({},e),ye(u,c,[d],n))}}},ct=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},dt=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=i.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=i.event))&&(t(n),Ke.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Je[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},pt=function(e){if(e&&1===e.nodeType){var t=Je[e.zcClippingId];if("object"==typeof t&&t){for(var n,r,o=["move","leave","enter","out","over"],i=0,a=o.length;a>i;i++)n="mouse"+o[i],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete Je[e.zcClippingId]}}};Ke._createClient=function(){Ze.apply(this,T(arguments))},Ke.prototype.on=function(){return et.apply(this,T(arguments))},Ke.prototype.off=function(){return tt.apply(this,T(arguments))},Ke.prototype.handlers=function(){return nt.apply(this,T(arguments))},Ke.prototype.emit=function(){return rt.apply(this,T(arguments))},Ke.prototype.clip=function(){return ot.apply(this,T(arguments))},Ke.prototype.unclip=function(){return it.apply(this,T(arguments))},Ke.prototype.elements=function(){return at.apply(this,T(arguments))},Ke.prototype.destroy=function(){return st.apply(this,T(arguments))},Ke.prototype.setText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/plain",e),this},Ke.prototype.setHtml=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/html",e),this},Ke.prototype.setRichText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("application/rtf",e),this},Ke.prototype.setData=function(){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData.apply(this,T(arguments)),this},Ke.prototype.clearData=function(){if(!Ye[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.clearData.apply(this,T(arguments)),this},Ke.prototype.getData=function(){if(!Ye[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.getData.apply(this,T(arguments))},"function"==typeof define&&define.amd?define("lib/zero-clipboard/dist/ZeroClipboard",[],function(){return Ke}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ke:e.ZeroClipboard=Ke}(function(){return this||window}()),define("storymaps/common/ui/share/ShareURLPanel",["lib-build/tpl!./ShareURLPanel","lib-build/css!./ShareURLPanel","../../utils/SocialSharing","dojo/has","lib/zero-clipboard/dist/ZeroClipboard"],function(e,t,n,r,o){return function(t){function i(e){s.val(e),t.find(".btn-bitlylink-open").attr("href",e),n.requestBitly(e).then(function(e){s.val(e).select()}),o.config({swfPath:(app.isProduction?"resources/lib/":"lib/")+"/zero-clipboard/dist/ZeroClipboard.swf"});var r=new o(t.find(".share-btn"));r.on("copy",function(e){var n=e.clipboardData;n.setData("text/plain",t.find(".bitlylink").val()),t.find(".share-btn").removeClass("glyphicon-copy").addClass("glyphicon-ok"),t.find(".share-status").show(),t.find(".bitlylink")[0].selectionStart=t.find(".bitlylink")[0].selectionEnd=-1,t.find(".bitlylink").focus(),setTimeout(function(){t.find(".share-btn").addClass("glyphicon-copy").removeClass("glyphicon-ok"),t.find(".share-status").hide()},2e3)})}function a(){t.find(".bitlylink").click(function(){this.setSelectionRange(0,this.value.length)})}t.append(e({}));var s=t.find(".bitlylink");a(),this.present=function(e){i(e),t.find(".btn-bitlylink-open").html(i18n.viewer.shareFromCommon.open),t.find(".share-url-container").toggleClass("touch",!!r("touch")),t.find(".share-btn").attr("title",i18n.viewer.shareFromCommon.copy),t.find(".share-status").html(i18n.viewer.shareFromCommon.copied)},this.focus=function(){s.select()}}}),define("lib-build/tpl!storymaps/common/ui/share/ShareEmbedPanel",[],function(){return function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="share-embed-container">\r\n	<div class="embed-explain"></div>\r\n\r\n	<div class="share-embed-wrapper">\r\n		<div class="share-btn glyphicon glyphicon-copy"></div>	\r\n		<textarea class="form-control embedTextarea" readonly="true"></textarea>\r\n	</div>\r\n	<div class="share-status-wrapper"><span class="share-status"></span></div>\r\n\r\n	<div>\r\n		<span class="embed-lbl-size"></span>\r\n		<div class="btn-group">\r\n			<button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">\r\n				<span class="embed-sizes-btn"></span>&nbsp;<span class="caret"></span>\r\n			</button>\r\n			<ul class="dropdown-menu embed-sizes" role="menu"></ul>\r\n		</div>\r\n	</div>\r\n</div>\r\n';return __p}}),define("lib-build/css!storymaps/common/ui/share/ShareEmbedPanel",[],function(){}),define("storymaps/common/ui/share/ShareEmbedPanel",["lib-build/tpl!./ShareEmbedPanel","lib-build/css!./ShareEmbedPanel","dojo/has","lib/zero-clipboard/dist/ZeroClipboard"],function(e,t,n,r){return function(t){function o(){$.each(l,function(e,n){t.find(".embed-sizes").append('<li><a data-width="'+n.width+'" data-height="'+n.height+'">'+n.width+" / "+n.height+"</a></li>")}),t.find(".embed-sizes a").click(function(){var e=$(this);e.parents(".btn-group").find(".embed-sizes-btn").text(e.text()),i(e.data("width"),e.data("height"))})}function i(e,n){t.find(".embedTextarea").val(s.replace("%URL%",u).replace("%WIDTH%",e).replace("%HEIGHT%",n)),r.config({swfPath:(app.isProduction?"resources/lib/":"lib")+"/zero-clipboard/dist/ZeroClipboard.swf"});var o=new r(t.find(".share-btn"));o.on("copy",function(e){var n=e.clipboardData;n.setData("text/plain",t.find(".embedTextarea").val()),t.find(".share-btn").removeClass("glyphicon-copy").addClass("glyphicon-ok"),t.find(".share-status").show(),t.find(".embedTextarea")[0].selectionStart=t.find(".embedTextarea")[0].selectionEnd=-1,t.find(".bitlylink").focus(),setTimeout(function(){t.find(".share-btn").addClass("glyphicon-copy").removeClass("glyphicon-ok"),t.find(".share-status").hide()},2e3)})}function a(){t.find(".embedTextarea").click(function(){this.setSelectionRange(0,this.value.length)})}var s='<iframe width="%WIDTH%" height="%HEIGHT%" src="%URL%" frameborder="0" scrolling="no"></iframe>',l=[{width:"100%",height:"800px"},{width:"100%",height:"640px"},{width:"800px",height:"600px"},{width:"640px",height:"480px"}],u=null;t.append(e({})),o(),a(),this.present=function(e){u=e,t.find(".embed-explain").html(i18n.viewer.shareFromCommon.embedExplain),t.find(".embed-lbl-size").html(i18n.viewer.shareFromCommon.size),t.find(".embed-sizes a").eq(0).click(),t.find(".share-embed-wrapper").toggleClass("touch",!!n("touch")),t.find(".share-clipboard").attr("title",i18n.viewer.shareFromCommon.copy),t.find(".share-status").html(i18n.viewer.shareFromCommon.copied)}}}),define("storymaps/common/ui/share/ShareDialog",["lib-build/tpl!./ShareDialog","lib-build/css!./ShareDialog","./ShareURLPanel","./ShareEmbedPanel","../../utils/SocialSharing"],function(e,t,n,r,o){return function(t){function i(e){var n=$("<div>"+app.data.title+"</div>").text();t.find(".share_facebook").toggle(e.facebook),e.facebook&&t.find(".share_facebook").off("click").click(function(){o.shareFacebook("","",null,$(this).data("url"))}),t.find(".share_twitter").toggle(e.twitter),e.twitter&&t.find(".share_twitter").off("click").click(function(){o.shareTwitter(n,$(this).data("url"))})}t.append(e({}));var a=new n(t.find(".share-url-panel")),s=new r(t.find(".share-embed-panel"));t.on("shown.bs.modal",function(){a.focus()}),this.present=function(e,n){n=n||{facebook:!1,twitter:!1},t.find(".social-container").toggle(n.facebook||n.twitter),i(n),a.present(e),s.present(e),t.find(".modal-title").html(i18n.viewer.headerFromCommon.share),t.find(".embed-title").html(i18n.viewer.shareFromCommon.embed),t.find(".btn-close").html(i18n.viewer.common.close),t.modal({keyboard:!0})}}}),define("storymaps/common/utils/SocialSharingHelper",[],function(){return{setLogo:function(e,t){t.logoEnabled&&t.logoURL&&"NO_LOGO"!=t.logoURL?(e.find(".logoLink").css("cursor",t.logoTarget?"pointer":"default"),t.logoTarget&&e.find(".logoLink").attr("href",t.logoTarget),e.find(".logoImg").css("background-image","url("+t.logoURL+")").show()):e.find(".logoImg").hide()},setLink:function(e,t){t.linkURL&&t.linkText?e.find(".linkContainer").html('<a href="'+t.linkURL+'" class="link" target="_blank" tabindex="-1">'+t.linkText+"</a>"):e.find(".linkContainer").html(t.linkText)}}}),define("lib-build/less!storymaps-react/tpl/view/ui/Header",[],function(){}),define("storymaps-react/tpl/view/ui/Header",["module","exports","storymaps/tpl/view/ui/ProgressBar","storymaps/common/ui/share/ShareDialog","storymaps/common/utils/SocialSharingHelper","storymaps/common/utils/SocialSharing","lib-build/less!./Header"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n),u=a(r),c=a(o),d=a(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=50,h=function(){function e(){s(this,e),this._node=$(".header"),this._bookmarksNode=this._node.find(".bookmarks"),this._bookmarkNodes=null,this._shareDialog=new u["default"]($("#shareDialog")),this._progressBar=new l["default"],this._isCompact=null,this._currentSection=null}return p(e,[{key:"render",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.logo,n=e.link,r=e.social,o={logoEnabled:t.enabled,logoURL:t.url,logoTarget:t.link,linkURL:n.url,linkText:n.title};c["default"].setLogo(this._node,o),c["default"].setLink(this._node,o),this._node.find(".share-btn").off("click").click(this._onShareBtnClick.bind(this)).toggleClass("active",!!r.enabled),this._progressBar.start();var i=e.bookmarks;if(i&&i.length){var a="",s=!0,l=!1,u=void 0;try{for(var d,p=i[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;a+='<span class="bookmark" data-index="'+f.index+'">'+f.title+"</span>"}}catch(h){l=!0,u=h}finally{try{!s&&p["return"]&&p["return"]()}finally{if(l)throw u}}this._bookmarksNode.html(a),this._bookmarkNodes=this._bookmarksNode.find(".bookmark"),this._bookmarkNodes.click(this._onBookmarkNavigate)}}},{key:"update",value:function(e){if(this._progressBar.update(e.storyProgress),this._isCompact!==e.headerCompact&&(this._isCompact=e.headerCompact,this._node.toggleClass("compact",this._isCompact),this._bookmarksNode.toggle(!this._isCompact),this._isCompact||this._node.css("background-color","rgba(0,0,0,1)")),this._currentSection!==e.sectionIndex){this._currentSection=e.sectionIndex,this._bookmarksNode.find(".bookmark").removeClass("active");var t=!1;this._bookmarkNodes&&this._bookmarkNodes.length&&$.each(this._bookmarkNodes.get().reverse(),function(e,n){var r=$(n);t||this._currentSection>=r.data("index")&&(r.addClass("active"),t=!0)}.bind(this))}}},{key:"getHeight",value:function(){return f}},{key:"_onShareBtnClick",value:function(){this._shareDialog.present(d["default"].cleanURL(document.location.href,!0))}},{key:"_onBookmarkNavigate",value:function(){var e=$(this).data("index");console.log("Navigate to section: "+e),app.Controller.navigateToSection({index:e,animate:!0})}}]),e}();t["default"]=h,e.exports=t["default"]}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new r(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.6",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=e(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var a=e(i);t&&t.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.button"),i="object"==typeof t&&t;o||r.data("bs.button",o=new n(this,i)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,o=r.is("input")?"val":"html",i=r.data();t+="Text",null==i.resetText&&r.data("resetText",r[o]()),setTimeout(e.proxy(function(){r[o](null==i[t]?this.options[t]:i[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.carousel"),i=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:i.slide;o||r.data("bs.carousel",o=new n(this,i)),"number"==typeof t?o.to(t):a?o[a]():i.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var o="prev"==e?-1:1,i=(n+o)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var o=this.$element.find(".item.active"),i=r||this.getItemForDirection(t,o),a=this.interval,s="next"==t?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var u=i[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,o.addClass(s),i.addClass(s),o.one("bsTransitionEnd",function(){i.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var o=function(n){var r,o=e(this),i=e(o.attr("data-target")||(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=e.extend({},i.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),t.call(i,a),s&&i.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),i=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&i.toggle&&/show|hide/.test(t)&&(i.toggle=!1),o||n.data("bs.collapse",o=new r(this,i)),"string"==typeof t&&o[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.6",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,
this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(r.TRANSITION_DURATION):o.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var o=e(r);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var o=e(this);o.attr("data-target")||r.preventDefault();var i=t(o),a=i.data("bs.collapse"),s=a?"toggle":o.data();n.call(i,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(o).remove(),e(i).each(function(){var r=e(this),o=t(r),i={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(o[0],n.target)||(o.trigger(n=e.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",i)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(r){var o=e(this);if(!o.is(".disabled, :disabled")){var i=t(o),a=i.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(i.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(i).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,a.prototype.toggle).on("keydown.bs.dropdown.data-api",i,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var o=e(this),i=o.data("bs.modal"),a=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);i||o.data("bs.modal",i=new n(this,a)),"string"==typeof t?i[t](r):a.show&&i.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),o&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});o?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),o=r.attr("href"),i=e(r.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},i.data(),r.data());r.is("a")&&n.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(i,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.tooltip"),i="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||r.data("bs.tooltip",o=new n(this,i)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),i=o.length;i--;){var a=o[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var o=this,i=this.tip(),a=this.getUID(this.type);this.setContent(),i.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=i[0].offsetWidth,p=i[0].offsetHeight;if(u){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+p>h.bottom?"top":"top"==s&&c.top-p<h.top?"bottom":"right"==s&&c.right+d>h.width?"left":"left"==s&&c.left-d<h.left?"right":s,i.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,d,p);this.applyPlacement(m,s);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),o=r[0].offsetWidth,i=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=i&&(t.top=t.top+i-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-o+l:2*c.top-i+u,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=o.hoverState&&i.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,i=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var i=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,a,s,i)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var o={top:0,left:0};if(!this.$viewport)return o;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-i-a.scroll,l=t.top+i-a.scroll+r;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=t.left-i,c=t.left+i+n;u<a.left?o.left=a.left-u:c>a.right&&(o.left=a.left+a.width-c)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.popover"),i="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||r.data("bs.popover",o=new n(this,i)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),o=r.data("bs.scrollspy"),i="object"==typeof n&&n;o||r.data("bs.scrollspy",o=new t(this,i)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),i=/^#./.test(o)&&e(o);return i&&i.length&&i.is(":visible")&&[[i[n]().top+r,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=i[i.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=i[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(i[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.tab");o||r.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),i=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(i),t.trigger(a),!a.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,r,o){function i(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=r.find("> .active"),s=o&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.affix"),i="object"==typeof t&&t;o||r.data("bs.affix",o=new n(this,i)),"string"==typeof t&&o[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var o=this.$target.scrollTop(),i=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o?"top":!1;if("bottom"==this.affixed)return null!=n?o+this.unpin<=i.top?!1:"bottom":e-r>=o+a?!1:"bottom";var s=null==this.affixed,l=s?o:i.top,u=s?a:t;return null!=n&&n>=o?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,o=r.top,i=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(i=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof i&&(i=r.bottom(this.$element));var s=this.getState(a,t,o,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-i})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),define("lib/calcite-bootstrap/js/bootstrap.min",function(){}),define("lib-build/css!storymaps/common/utils/SocialSharing",[],function(){}),define("storymaps/tpl/core/MainView",["lib/babel-polyfill/browser-polyfill","lib/jquery/dist/jquery.min","lib-build/less!./MainView","lib-build/css!../view/media/Common","storymaps-react/tpl/core/Controller","storymaps/common/Core","storymaps/common/utils/CommonHelper","storymaps/tpl/utils/UI","storymaps-react/tpl/view/ui/Header","lib/calcite-bootstrap/js/bootstrap.min","lib-build/css!storymaps/common/Core","lib-build/css!storymaps/common/utils/SocialSharing","esri/arcgis/utils","dojo/_base/lang","dojo/on","dojo/has","dojo/topic"],function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v){function g(){return console.log("App loaded"),!0}function y(e,t,n){C();var r=app.display.windowWidth<500||m("touch");app.Controller.renderStory(e,n),app.Controller.renderHeader(),r&&($("body").addClass("mobile"),$(".section-layout-cover h2 br").replaceWith(" ")),m("touch")&&$("body").addClass("touch"),app.display.windowWidth<768&&$("body").addClass("mobile-view"),e["custom-story"]&&$("body").addClass("custom-story-"+e["custom-story"]),_(),setTimeout(function(){C()},100)}function b(){var e=app.display.scrollTop;if(app.isInBuilder&&C(),app.display.scrollTop=e,I!=e){I=e;var t=w(e,e+app.display.windowHeight),n=t.activeSection;if(n){var r=n.index,o=n.node,i=e-n.top;app.Controller.onScroll({currentSectionIndex:r,scrollTop:e,windowWidth:app.display.windowWidth,windowHeight:app.display.windowHeight,$currentSection:o,sectionHeight:app.display.sectionHeight,currentSectionScroll:i,visibleSections:t.visibleSections});var a=!1;if(e<=app.display.windowHeight){var s=app.display.windowHeight-e-50;40>s&&(s=0),a=0!==s}S.update({headerCompact:a,storyProgress:(e+app.display.windowHeight)/app.display.storyHeight*100,sectionIndex:r})}}}function w(e,t){for(var n=app.display.sections,r=n.length,o=null,i=[],a=0,s=0,l=null,u=0;r>u;u++)a=n[u].top,s=u-1,l=n[u+1]?n[u+1].top:-1,a>e+50&&(o||(o={index:s,top:n[s].top,node:n[s].node})),u!=r-1||o||"credits"==n[u].type||(o={index:u,top:n[u].top,node:n[u].node}),e>=a&&l>e?i.push(s+1):t>a&&a>e&&i.push(s+1);return{activeSection:o,visibleSections:i}}function C(){var e=[];$(".section").each(function(t){var n=$(this);e.push({top:n.position().top,node:n,type:app.data.sections[t].type})});var t=[];$(".block .video").each(function(){var e=$(this),n=e.parents(".block").eq(0);t.push({id:e.attr("id"),top:n.position().top,bottom:n.position().top+e.height(),sectionIndex:e.parents(".section").index(),blockIndex:n.index()})});var n=$(window),r=n.width(),o=n.height(),i=S.getHeight();app.display={windowWidth:r-(app.isInBuilder?$(".section-builder-panel").width():0),windowHeight:o,headerHeight:i,sectionHeight:o-i,storyHeight:$("body").height(),scrollTop:app.display?app.display.scrollTop:0,sections:e,inlineVideos:t}}function _(){var e=!0,t=a.getUrlParams();"false"===t.forceScrollTop&&(e=!1),e&&$(window).on("beforeunload",function(){$(window).scrollTop(0)}),$(window).resize(x).trigger("resize");var n=!0,r=$(document);if("false"===t.useRafLoop&&(n=!1),n)window.requestAnimationFrame(function s(){var e=!1;$("body").hasClass("modal-open")&&(e=!0),e||(app.display.scrollTop=r.scrollTop(),b()),window.requestAnimationFrame(s)});else{var o=!1,i=function(){var e=window.performance,t=e.now();b(),console.log("onScroll took",e.now()-t),o=!1};$(window).scroll(function(){app.isInBuilder&&$("body").hasClass("modal-open")||(app.display.scrollTop=r.scrollTop(),o||(window.requestAnimationFrame(i),o=!0))})}$(".modal").on("show.bs.modal",function(){O=app.display.scrollTop,$("body").css({position:"fixed",top:-app.display.scrollTop})}),$(".modal").on("hide.bs.modal",function(){$("body").css({position:"",top:""}),$("html,body").scrollTop(O)}),b(),v.publish("tpl-ready"),k()}function x(){C(),app.Controller.onResize({windowWidth:app.display.windowWidth,windowHeight:app.display.windowHeight,sectionHeight:app.display.sectionHeight})}function E(){return app.Controller.isStoryBlank()}function T(){if(app.data.appItem&&app.data.appItem.data){var e=app.data.appItem.data.values;y(e.config,e.settings,e.sections)}}function k(){$("#loadingIndicator").css("margin-left","-25px"),setTimeout(function(){$("#loadingIndicator, #loadingMessage").addClass("fadeOut").fadeOut(300),$("#loadingOverlay").fadeOut(600)},0)}function P(e){e||alert("No configuration specified in index.html > configOptions.story"),$.ajax({type:"GET",url:"stories/"+e+".json",dataType:"json"}).then(function(e){e&&e.config&&e.sections&&e.sections.length?y(e.config,e.settings,e.sections):alert("The specified configuration couldn't be loaded because of a JSON syntax error.")},function(){alert("The specified configuration hasn't been found or couldn't be loaded because of a JSON syntax error.")})}var S=new l,O=null,I=null;return app.ui={header:S},require([app.isInBuilder?"storymaps-react/tpl/view/section/FactoryBuilder":"storymaps-react/tpl/view/section/FactoryViewer"],function(e){app.ui.SectionFactory=e}),require([app.isInBuilder?"storymaps/tpl/view/section/Immersive/PanelFactoryBuilder":"storymaps/tpl/view/section/Immersive/PanelFactoryViewer"],function(e){app.ui.ImmersivePanelFactory=e}),require([app.isInBuilder?"storymaps-react/tpl/view/media/FactoryBuilder":"storymaps-react/tpl/view/media/FactoryViewer"],function(e){app.ui.MediaFactory=e}),require([app.isInBuilder?"storymaps-react/tpl/builder/Controller":"storymaps-react/tpl/core/Controller"],function(e){app.Controller=e;
}),{init:g,isStoryBlank:E,getConfig:P,appInitComplete:T}}),define("lib-build/css!storymaps/common/builder/Builder",[],function(){}),define("lib-build/hbars!storymaps/tpl/builder/panel/BuilderPanel",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",a=t.helperMissing,s=this.escapeExpression;return'<div class="builder-buttons">\r\n  <button class="btn btn-settings">\r\n    <span class="btn-label">Settings</span>\r\n  </button>\r\n\r\n  <button class="btn btn-share">\r\n    <span class="btn-label">Share</span>\r\n  </button>\r\n\r\n  <button class="btn btn-save">\r\n    <span class="btn-save-loader small-loader"></span>\r\n    <span class="btn-save-success glyphicon glyphicon-ok"></span>\r\n    <span class="btn-save-error glyphicon glyphicon-exclamation-sign"></span>\r\n    <span class="btn-save-label">'+s((o=null!=(o=t.btnSave||(null!=e?e.btnSave:e))?o:a,typeof o===i?o.call(e,{name:"btnSave",hash:{},data:r}):o))+'</span>\r\n  </button>\r\n</div>\r\n\r\n<div class="overview"></div>\r\n'},useData:!0})}),define("lib-build/less!storymaps/tpl/builder/panel/BuilderPanel",[],function(){}),define("storymaps/tpl/builder/panel/BuilderPanel",["lib-build/hbars!./BuilderPanel","lib-build/less!./BuilderPanel","storymaps-react/tpl/builder/overviewPanel/OverviewPanel","dojo/topic"],function(e,t,n,r){return function(t){function o(){var e=app.Controller.getStoryOverview();c?c.updateItems(e):a(e)}function i(e){c&&c.navigateTo(app.Controller.getSectionIndexById(e.index))}function a(e){c=new n(s.find(".overview")[0],"vertical",e,{selectItem:function(e){var t=app.Controller.getSectionById(e);console.log("selectItem:",t),app.Controller.navigateToSection({index:t,animate:!1})},duplicateItem:function(e){var t=app.Controller.getSectionById(e);console.log("duplicateItem:",t),app.Controller.duplicateSection({index:t})},toggleHidden:function(e){var t=app.Controller.getSectionById(e);console.log("toggleHidden:",t),console.log("TODO NOT IMPLEMENTED")},deleteItem:function(e){var t=app.Controller.getSectionById(e);console.log("deleteItem:",t),app.Controller.deleteSection({index:t})},organize:function(e){var t=app.Controller.getSectionsIndexesByIds(e);console.log("organize:",e,t),app.Controller.organizeSections(t)}})}t=t||{};var s=t.container,l=t.saveApp,u=t.shareApp,c=null;return s&&l&&u?(s.html(e({btnSave:i18n.viewer.common.save})),s.find(".btn-settings").click(function(){app.Controller.openSettings()}),r.subscribe("builder-section-update",o),r.subscribe("story-navigated-section",i),s.find(".btn-save").click(function(){$(this).hasClass("disabled")||($(this).addClass("saving disabled"),$(this).find(".btn-save-label").html(i18n.commonCore.builderPanel.buttonSaving),l())}),this.saveSucceeded=function(){s.find(".btn-save").removeClass("saving disabled").addClass("saved"),s.find(".btn-save-label").html(i18n.commonCore.builderPanel.buttonSaved),setTimeout(function(){s.find(".btn-save").removeClass("saved").find(".btn-save-label").html(i18n.viewer.common.save)},3500)},void(this.saveFailed=function(){s.find(".btn-save").removeClass("saving").addClass("error"),s.find(".btn-save-label").html(i18n.commonCore.builderPanel.buttonError),setTimeout(function(){s.find(".btn-save").removeClass("error disabled").find(".btn-save-label").html(i18n.viewer.common.save)},3500)})):void console.error("Could not initialize Builder Panel")}}),define("lib-build/hbars!storymaps/common/builder/SaveErrorPopupSocial",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a="function",s=t.helperMissing,l=this.escapeExpression,u='<div class="modal-dialog">\r\n	<div class="modal-content">\r\n		<div class="modal-logo"></div>\r\n		<div class="modal-header">\r\n			<h4 class="modal-title">'+l((i=null!=(i=t.title||(null!=e?e.title:e))?i:s,typeof i===a?i.call(e,{name:"title",hash:{},data:r}):i))+'</h4>\r\n		</div>\r\n\r\n		<div class="modal-body">\r\n			<div class="panel1">\r\n				';return i=null!=(i=t.panel1||(null!=e?e.panel1:e))?i:s,o=typeof i===a?i.call(e,{name:"panel1",hash:{},data:r}):i,null!=o&&(u+=o),u+='\r\n				<a href="#" class="help" data-toggle="tooltip">\r\n					<i class="fa fa-question-circle" aria-hidden="true"></i>\r\n				</a>\r\n			</div>\r\n			<div class="panel2">\r\n				<div class="panel2lbl">'+l((i=null!=(i=t.panel2||(null!=e?e.panel2:e))?i:s,typeof i===a?i.call(e,{name:"panel2",hash:{},data:r}):i))+'</div>\r\n				<div class="form-group">\r\n					<div class="radio">\r\n						<label>\r\n							<input type="radio" name="optErrorSocial" value="story" checked>\r\n							<span>\r\n								'+l((i=null!=(i=t.panel2q1||(null!=e?e.panel2q1:e))?i:s,typeof i===a?i.call(e,{name:"panel2q1",hash:{},data:r}):i))+'\r\n								<a href="#" class="help" data-toggle="tooltip" title="'+l((i=null!=(i=t.panel2q1tooltip||(null!=e?e.panel2q1tooltip:e))?i:s,typeof i===a?i.call(e,{name:"panel2q1tooltip",hash:{},data:r}):i))+'">\r\n									<i class="fa fa-question-circle" aria-hidden="true"></i>\r\n								</a>\r\n							</span>\r\n						</label>\r\n					</div>\r\n					<div class="radio">\r\n						<label>\r\n							<input type="radio" name="optErrorSocial" value="item">\r\n							<span>',i=null!=(i=t.panel2q2||(null!=e?e.panel2q2:e))?i:s,o=typeof i===a?i.call(e,{name:"panel2q2",hash:{},data:r}):i,null!=o&&(u+=o),u+='</span>\r\n						</label>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="panel3">',i=null!=(i=t.panel3||(null!=e?e.panel3:e))?i:s,o=typeof i===a?i.call(e,{name:"panel3",hash:{},data:r}):i,null!=o&&(u+=o),u+'</div>\r\n		</div>\r\n\r\n		<div class="modal-footer">\r\n			<div class="stop-asking">\r\n				<div class="checkbox">\r\n					<label class="disabled">\r\n						<input type="checkbox" value="" disabled>\r\n						'+l((i=null!=(i=t.panel4||(null!=e?e.panel4:e))?i:s,typeof i===a?i.call(e,{name:"panel4",hash:{},data:r}):i))+'\r\n					</label>\r\n				</div>\r\n			</div>\r\n			<button type="button" class="btn btn-primary">'+l((i=null!=(i=t.btnSave||(null!=e?e.btnSave:e))?i:s,typeof i===a?i.call(e,{name:"btnSave",hash:{},data:r}):i))+"</button>\r\n		</div>\r\n	</div>\r\n</div>\r\n"},useData:!0})}),define("lib-build/css!storymaps/common/builder/SaveErrorPopupSocial",[],function(){}),define("storymaps/common/builder/SaveErrorPopupSocial",["lib-build/hbars!./SaveErrorPopupSocial","lib-build/css!./SaveErrorPopupSocial","../utils/CommonHelper","dojo/Deferred","dojo/i18n!commonResources/nls/core.js?v="+app.version],function(e,t,n,r,o){return function(t){function i(){t.find('input[name="optErrorSocial"]').change(function(){var e=t.find('input[name="optErrorSocial"]:checked').val();"story"==e?(t.find(".stop-asking input").attr("disabled","disabled").prop("checked",!1),t.find(".stop-asking label").addClass("disabled")):(t.find(".stop-asking input").removeAttr("disabled"),t.find(".stop-asking label").removeClass("disabled"))}),t.find(".btn-primary").click(function(){t.find(".stop-asking input").is(":checked")&&(app.data.appItem.data.values.config.doNotWarnTitle=!0),a.resolve({choice:t.find('input[name="optErrorSocial"]:checked').val()}),t.modal("hide")})}var a=null;t.append(e({title:o.commonCore.saveErrorSocial.title,panel1:o.commonCore.saveErrorSocial.panel1,panel2:o.commonCore.saveErrorSocial.panel2,panel2q1:o.commonCore.saveErrorSocial.panel2q1,panel2q1tooltip:o.commonCore.saveErrorSocial.panel2q1tooltip,panel2q2:o.commonCore.saveErrorSocial.panel2q2,panel3:o.commonCore.saveErrorSocial.panel3.replace("${MYSTORIES}",'<a href="'+n.getMyStoriesURL()+'" target="_blank">'+o.commonCore.saveErrorSocial.mystories+"</a>"),panel4:o.commonCore.saveErrorSocial.panel4,btnSave:o.commonCore.saveErrorSocial.save})),i(),this.present=function(){return a=new r,t.find(".panel1 .help").tooltip({title:o.commonCore.saveErrorSocial.panel1tooltip+'<img src="resources/tpl/builder/icons/share/builder-help-social.png"/>',html:!0,placement:"right"}),t.find(".panel2 .help").tooltip(),t.modal({keyboard:!1}),a}}}),define("storymaps/common/builder/BuilderHelper",["dojo/_base/lang","dojo/_base/array","esri/arcgis/utils","esri/IdentityManager","esri/request"],function(e,t,n,r,o){function i(){return n.arcgisUrl.split("/sharing/")[0]}function a(t){var n=i(),a=e.clone(app.data.appItem.item),s=e.clone(app.data.appItem.data),l=a.owner||r.findCredential(n).userId,u=r.findCredential(n).token;delete a.avgRating,delete a.modified,delete a.numComments,delete a.numRatings,delete a.numViews,delete a.size,a.typeKeywords||(a.typeKeywords=[]),a.typeKeywords=a.typeKeywords.concat(app.cfg.WEBAPP_KEYWORD_APP),a.typeKeywords=a.typeKeywords.concat(app.cfg.WEBAPP_KEYWORD_GENERIC);var c=$.map(app.cfg.LAYOUTS,function(e){return"layout-"+e.id});a.typeKeywords=$.grep(a.typeKeywords,function(e){return-1==$.inArray(e,c)}),a.typeKeywords.push("layout-cascade-1"),a.typeKeywords=$.grep(a.typeKeywords,function(e,t){return t==$.inArray(e,a.typeKeywords)}),a.tags=a.tags?a.tags.join(","):"",a.typeKeywords=a.typeKeywords.join(","),a.serviceProxyParams=JSON.stringify(a.serviceProxyParams),t||(a.title=app.data.title),a.properties&&(a.properties=JSON.stringify(a.properties)),a.url&&a.url.match(/apps\/[a-zA-Z]+\/\?appid=/)&&(a.url=a.url.replace("/?appid=","/index.html?appid=")),a=e.mixin(a,{f:"json",token:u,overwrite:!0,text:JSON.stringify(s)});var d=n+"/sharing/content/users/"+l+(a.ownerFolder?"/"+a.ownerFolder:"");return d+=a.id?"/items/"+a.id+"/update":"/addItem",o({url:d,handleAs:"json",content:a},{usePost:!0})}function s(e,t){var n=i(),a=r.findCredential(n).userId,s=r.findCredential(n).token,l={f:"json",token:s,items:e,groups:"",everyone:"",account:""};return"public"==t&&(l.everyone=!0),"account"==t&&(l.account=!0),o({url:n+"/sharing/content/users/"+a+"/shareItems",handleAs:"json",content:l},{usePost:!0})}function l(){return app.portal?(app.portal.signIn().then(function(){var t=i(),n=r.findCredential(t).userId,a=r.findCredential(t).token,s=e.clone(app.data.getWebAppItem());delete s.avgRating,delete s.modified,delete s.numComments,delete s.numRatings,delete s.numViews,delete s.size,s=e.mixin(s,{f:"json",token:a,overwrite:!0,text:JSON.stringify(app.data.getWebAppData().getBlank())});var l=o({url:t+"/sharing/content/users/"+n+(s.ownerFolder?"/"+s.ownerFolder:"")+"/addItem",handleAs:"json",content:s},{usePost:!0});l.then(function(){console.log("Web Application data cleaned successfully")},function(){console.log("Web Application data cleaning has failed")})},function(e){console.error("Web Application data cleaning has failed",e)}),"Cleaning ..."):void console.error("Fatal error - not signed in")}function u(){return{itemType:"text",guid:null,name:null,type:"Web Mapping Application",typeKeywords:app.cfg.WEBAPP_KEYWORD_GENERIC.concat(app.cfg.WEBAPP_KEYWORD_APP),description:null,tags:app.cfg.WEBAPP_TAG,snippet:null,thumbnail:null,documentation:null,extent:[],lastModified:-1,spatialReference:null,accessInformation:null,licenseInfo:null,culture:"en-us",properties:null,size:1,appCategories:[],industries:[],languages:[],largeThumbnail:null,banner:null,screenshots:[],listed:!1,ownerFolder:null,"protected":!1,commentsEnabled:!0,numComments:0,numRatings:0,avgRating:0,numViews:1}}return{getPortalURL:i,saveApp:a,shareItems:s,getBlankAppJSON:u,cleanApp:l}}),define("storymaps/common/builder/Builder",["lib-build/css!./Builder","esri/arcgis/Portal","storymaps/tpl/builder/panel/BuilderPanel","./SaveErrorPopupSocial","./BuilderHelper","../utils/CommonHelper","esri/IdentityManager","dojo/Deferred","dojo/_base/lang"],function(e,t,n,r,o,i,a,s,l){function u(e,t){y=e,b=t,console.log("common.builder.Builder - init");var a=i.getUrlParams();app.builder.isDirectCreation=null!=a.fromScratch||null!=a.fromscratch,app.builder.isGalleryCreation=null!=a.fromGallery,app.builder.isDirectCreationFirstSave=app.builder.isDirectCreation,app.builder.isDirectCreation?console.log("common.builder.Builder - Builder start in direct creation mode"):app.builder.isGalleryCreation&&console.log("common.builder.Builder - Builder start in gallery creation mode"),$("body").addClass("builder-mode"),b.init(C),w=new n({container:$(".section-builder-panel"),saveApp:b.saveApp,openSettings:function(){},shareApp:m}),_=new r($("#saveErrorPopupSocial")),window.onbeforeunload=function(e){e=e||window.event},app.builder.cleanApp=o.cleanApp}function c(){var e="",t="";app.data.title&&(e=app.data.title.trim()),app.data.appItem&&app.data.appItem.item&&app.data.appItem.item.title&&(t=app.data.appItem.item.title.trim()),app.builder.titleMatchOnLoad=t==e,(app.builder.isDirectCreation||app.builder.isGalleryCreation)&&(app.builder.titleMatchOnLoad=!0),b.appInitComplete()}function d(){}function p(){if(!app.portal)return console.error("Fatal error - not signed in"),void g("APP");var e="",t="";if(app.data.title&&(e=app.data.title.trim()),app.data.appItem&&app.data.appItem.item&&app.data.appItem.item.title&&(t=app.data.appItem.item.title.trim()),!e)return void g("NONAME");if(app.builder.isDirectCreationFirstSave)app.portal.getPortalUser().getItems().then(function(t){var n=!1;t&&$.each(t,function(t,r){r.title&&r.title.toLowerCase()==e.toLowerCase()&&(n=!0)}),n?g("DUPLICATE"):h(e)});else if(app.builder.titleMatchOnLoad||app.data.appItem.data.values.config.doNotWarnTitle||"public"!=app.data.appItem.item.access||e==t){var n=app.data.appItem.data.values.config.doNotWarnTitle||"public"!=app.data.appItem.item.access&&!app.builder.titleMatchOnLoad;f(n)}else app.builder.titleMatchDialogDisplayed?f(app.builder.titleFromItem):(app.builder.titleMatchDialogDisplayed=!0,_.present().then(function(e){e=e||{},app.builder.titleFromItem="item"==e.choice,f(app.builder.titleFromItem)}))}function f(e){o.saveApp(e).then(function(){v()},function(){g("APP")})}function h(e){var t=a.findCredential(o.getPortalURL()).userId;l.mixin(app.data.appItem.item,{title:e,snippet:"",uploaded:Date.now(),modified:Date.now(),owner:t,access:"private"}),o.saveApp(!1).then(function(e){var t=document.location.protocol+"//"+document.location.host+document.location.pathname;t.match(/index\.html$/)||(t+="index.html"),l.mixin(app.data.appItem.item,{id:e.id,item:e.item,url:t+"?appid="+e.id}),o.saveApp(!1).then(function(){console.log("common.builder.Builder - saveAppFromScratch - appid:",e.id),app.builder.isDirectCreationFirstSave=!1,window.history.replaceState({},"","index.html?appid="+e.id+"&edit"),v()})},function(){g()})}function m(e){var t=new s;if(!e||!e.sharingMode)return t.reject(),t;var n=e.sharingMode;"public"!=n&&"account"!=n&&(n="public");var r=[];return"account"==n?"private"==app.data.getWebAppItem().access&&r.push(app.data.getWebAppItem().id):"public"!=app.data.getWebAppItem().access&&r.push(app.data.getWebAppItem().id),o.shareItems(r.join(","),n).then(function(e){var o=e&&e.results&&e.results.length==r.length;o&&($.each(e.results,function(e,t){t.success||(o=!1)}),app.data.getWebMap()&&(app.data.getWebMap().item.access=n),app.data.getWebAppItem().access=n),t.resolve()}),t}function v(){app.mystories=app.mystories||{},app.mystories.isChecking=!0,app.isWebMapCreation=!1,w.saveSucceeded(),(app.builder.isGalleryCreation||app.builder.isDirectCreationFirstSave)&&(app.builder.isDirectCreationFirstSave=!1,app.builder.isGalleryCreation=!1)}function g(e,t){w.saveFailed(e,t),b.saveFailed(e,t)}var y=null,b=null,w=null,C=null,_=null;return this.isDirectCreation=!1,this.isGalleryCreation=!1,this.isDirectCreationFirstSave=!1,{init:u,resize:d,appInitComplete:c,saveApp:p}}),define("lib-build/tpl!storymaps/tpl/builder/BuilderView",[],function(){return function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="modal fade" id="settingsPopup" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n\r\n<div class="modal fade builderShare" id="sharePopup" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n<div class="modal fade builderShareError" id="sharePopupError" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n\r\n<div class="modal fade saveErrorPopup" id="saveErrorPopup" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n<div class="modal fade saveErrorPopupSocial" id="saveErrorPopupSocial" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n\r\n<div class="modal fade media-picker-popup" role="dialog" data-backdrop="static" tabindex="-1"></div>\r\n\r\n<div class="notification-container">\r\n\r\n</div>\r\n';return __p}}),define("lib-build/less!storymaps/tpl/builder/BuilderView",[],function(){}),define("storymaps-react/tpl/builder/Controller",["module","exports","../core/Controller","dojo/topic","./notification/Undo"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(n),c=i(r),d=i(o),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function m(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},h=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,null,[{key:"renderStory",value:function(e,n){var r=n[n.length-1],o=n.length;r&&"credits"==r.type&&(o-=1),n.splice(o,0,app.ui.SectionFactory.createInstance({type:"credits-placeholder"})),f(Object.getPrototypeOf(t),"renderStory",this).call(this,e,n),c["default"].publish("builder-section-update")}},{key:"onScroll",value:function(e){f(Object.getPrototypeOf(t),"onScroll",this).call(this,e)}},{key:"openSettings",value:function(){var e=app.data.appItem.data.values.settings.header;e&&e.logo&&e.link||(e=u["default"].DEFAULT_HEADER_SETTINGS);var t={context:{headerBackground:"#000"},settings:Object.assign({},e,{bookmarks:this.getBookmarksBuilder()})};app.builder.settingsPopup.open(t).then(function(e){app.data.appItem.data.values.settings.header={logo:e.logo,link:e.link,social:e.social},this._setBookmarksBuilder(e.bookmarks),this.renderHeader()}.bind(this),function(){})}},{key:"getBookmarksBuilder",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this._sections[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a.getBookmark){var s=a.getBookmark();s&&e.push(s)}}}catch(l){n=!0,r=l}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return e}},{key:"_setBookmarksBuilder",value:function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=this._sections[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.getBookmark&&s.setBookmark(e[t++])}}catch(l){r=!0,o=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}}},{key:"serializeStory",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this._sections[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.serialize();s&&e.push(s)}}catch(l){n=!0,r=l}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return e}},{key:"getStoryOverview",value:function(){var e=[];if(!this._sections)return e;var t=!0,n=!1,r=void 0;try{for(var o,i=this._sections[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.type;"credits-placeholder"!=s&&("cover"==s?e.push({id:a.id,style:"button",label:"Cover",hasDelete:!1,hasHide:!1,hasDuplicate:!1,hasOrganize:!1}):"credits"==s?e.push({id:a.id,style:"button",label:"Credits",hasDelete:!0,hasHide:!0,hasDuplicate:!1,hasOrganize:!1}):"title"==s?e.push({id:a.id,style:"thumbnail",size:"short",thumbnail:a.getPreviewThumbnail(),label:a.getPreviewText(),icon:a.getPreviewIcon(),hasDelete:!0,hasHide:!0,hasDuplicate:!0,hasOrganize:!0}):"sequence"==s?e.push({id:a.id,style:"thumbnail",size:"tall",thumbnail:a.getPreviewThumbnail(),text:a.getPreviewText(),hasDelete:!0,hasHide:!0,hasDuplicate:!0,hasOrganize:!0}):e.push({id:a.id,style:"thumbnail",size:"tall",showTitleBar:!0,thumbnail:a.getPreviewThumbnail(),title:a.getPreviewText(),icon:a.getPreviewIcon(),hasDelete:!0,hasHide:!0,hasDuplicate:!0,hasOrganize:!0}))}}catch(l){n=!0,r=l}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return e}},{key:"addSection",value:function(e){if(console.log("addSection:",e),e&&e.type&&!(void 0===e.index||e.index<=0||e.index>this._sections.length)){var t=app.ui.SectionFactory.createInstance({type:e.type},e.media);this._sections.splice(e.index+1,0,t),this._container.find(".section").eq(e.index).after(t.render()),t.postCreate(this._container.find(".section").eq(e.index+1)),window.requestAnimationFrame(function(){this.navigateToSection({index:e.index+1,animate:!0})}.bind(this));var n=new d["default"]({container:this._container.find(".section").eq(e.index+1),label:"You created a new section."});n.display().then(function(){this.deleteSection({index:e.index+1})}.bind(this),function(){}),c["default"].publish("builder-section-update")}}},{key:"deleteSection",value:function(e){console.log("deleteSection:",e),e&&e.index&&(this._sections.splice(e.index,1),this._container.find(".section").eq(e.index).remove(),e.index==this._currentSectionIndex&&this.navigateToSection({index:e.index-1,animate:!0}),c["default"].publish("builder-section-update"))}},{key:"duplicateSection",value:function(e){if(console.log("duplicateSection:",e),e&&e.index){var t=this._sections.slice(e.index,e.index+1)[0],n=app.ui.SectionFactory.createInstance(t.serialize());this._sections.splice(e.index+1,0,n),this._container.find(".section").eq(e.index).after(n.render()),n.postCreate(this._container.find(".section").eq(e.index+1)),this.navigateToSection({index:e.index+1,animate:!1}),c["default"].publish("builder-section-update")}}},{key:"getSectionsIndexesByIds",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var s=i.value,l=0;l<this._sections.length;l++){var u=this._sections[l];u.id==s&&t.push(l)}}catch(c){r=!0,o=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return t}},{key:"organizeSections",value:function(e){for(var t=[],n=-1,r=null,o=0;o<e.length;o++)r=e[o],t.push(this._sections[r]),r==this._currentSectionIndex&&(n=o);for(this._sections=t,this.prototype.__proto__.constructor._sections=this._sections,app.data.sections=t,r=this._sections.length-1;r>=0;r--){var i=this._sections[r];this._container.prepend(i._node)}-1!=n&&setTimeout(function(){this.navigateToSection({index:n,animate:!1})}.bind(this),50),c["default"].publish("builder-section-update")}}]),t}(u["default"]);t["default"]=h,e.exports=t["default"]}),define("lib-build/tpl!storymaps/common/builder/mediaPicker/MediaPickerPopup",[],function(){return function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div class="modal-logo"></div>\r\n    <div class="modal-header">\r\n      <h4 class="modal-title"></h4>\r\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n    <div class="modal-body" id="media-picker">\r\n    </div>\r\n  </div>\r\n</div>\r\n';return __p}}),define("lib-build/less!storymaps/common/builder/mediaPicker/MediaPickerPopup",[],function(){}),define("storymaps-react/common/builder/mediaPicker/constants",["module","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={providers:{GOOGLE_PHOTOS:"googlePhotos",FLICKR:"flickr",ARCGIS:"arcgis"},fetchStatus:{NOT_FETCHED:"NOT_FETCHED",FETCHING:"FETCHING",SUCCESS:"SUCCESS",ERROR:"ERROR"},galleryContent:{ALBUMS:"ALBUMS",IMAGES:"IMAGES",AGOL:"AGOL",IMG_HEIGHT:100,ALBUM_HEIGHT:150},searchType:{USER:"USER",TEXT:"TEXT"},searchLocation:{STORY:"STORY",AGOL:"AGOL",ORG:"ORG",MINE:"MINE"},agolContentType:{WEBMAP:"Web Map",WEBSCENE:"Web Scene",IMAGE:"Image"},sortField:{DATE:"modified",TITLE:"title"},sortOrder:{ASC:"asc",DESC:"desc"},flickrLicenseStrings:{PUBLIC_DOMAIN:"PUBLIC_DOMAIN",COMMERCIAL:"COMMERCIAL",NON_COMMERCIAL:"NON_COMMERCIAL",ALL_RIGHTS_RESERVED:"ALL_RIGHTS_RESERVED",ANY:"ANY"},flickrLicenseVals:{PUBLIC_DOMAIN:[8,9,10],COMMERCIAL:[4,5,8,9,10],NON_COMMERCIAL:[1,2,4,5,8,9,10],ANY:[0,1,2,4,5,8,9,10]},userFetchError:{NO_USER:"NO_USER",NO_PHOTOS:"NO_PHOTOS",ERROR:"ERROR"},photoSettings:{maxWidth:1500,maxHeight:1e3,maxFileSize:1e7}},e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/actionTypes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UPDATE_ALBUMS="UPDATE_ALBUMS",e.UPDATE_ALBUM_FETCH_STATUS="UPDATE_ALBUM_FETCH_STATUS",e.UPDATE_IMAGE_FETCH_STATUS="UPDATE_IMAGE_FETCH_STATUS",e.UPDATE_USERNAME="UPDATE_USERNAME",e.UPDATE_DISPLAYED_CONTENT="UPDATE_DISPLAYED_CONTENT",e.UPDATE_IMAGES="UPDATE_IMAGES",e.UPDATE_SELECTED_ALBUM="UPDATE_SELECTED_ALBUM",e.UPDATE_SEARCH_TYPE="UPDATE_SEARCH_TYPE",e.UPDATE_USER_SEARCH_TERM="UPDATE_USER_SEARCH_TERM",e.UPDATE_PHOTO_SEARCH_TERM="UPDATE_PHOTO_SEARCH_TERM",e.UPDATE_USER_LICENSE="UPDATE_USER_LICENSE",e.UPDATE_PHOTO_LICENSE="UPDATE_PHOTO_LICENSE",e.UPDATE_SEARCH_LOCATION="UPDATE_SEARCH_LOCATION",e.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",e.UPDATE_CONTENT_TYPES="UPDATE_CONTENT_TYPES",e.UPDATE_SORT_FIELD="UPDATE_SORT_FIELD",e.UPDATE_SORT_ORDER="UPDATE_SORT_ORDER"}),define("storymaps-react/common/builder/mediaPicker/browsePanel/reducer",["module","exports","redux","../constants","./actionTypes"],function(e,t,n,r,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=arguments.length<=0||void 0===arguments[0]?b:arguments[0],t=arguments[1];if(!d(t,f["default"].providers.FLICKR))return e;var n,r;switch(t.type){case h.UPDATE_USER_SEARCH_TERM:n="userSearchTerm",r="term";break;case h.UPDATE_PHOTO_SEARCH_TERM:n="photoSearchTerm",r="term";break;case h.UPDATE_SEARCH_TYPE:n="selectedTab",r="type";break;case h.UPDATE_USER_LICENSE:n="userLicense",r="license";break;case h.UPDATE_PHOTO_LICENSE:n="photoLicense",r="license";break;default:return p(e,t)}return Object.assign({},e,s({},n,t.value[r]))}function u(){var e=arguments.length<=0||void 0===arguments[0]?w:arguments[0],t=arguments[1];return d(t,f["default"].providers.GOOGLE_PHOTOS)?p(e,t):e}function c(){var e=arguments.length<=0||void 0===arguments[0]?C:arguments[0],t=arguments[1];if(!d(t,f["default"].providers.ARCGIS))return e;var n,r;switch(t.type){case h.UPDATE_SEARCH_LOCATION:n="searchLocation",r="type";break;case h.UPDATE_SEARCH_TERM:n="searchStr",r="term";break;case h.UPDATE_CONTENT_TYPES:n="contentTypes",r="types";break;case h.UPDATE_SORT_FIELD:n="sortField",r="field";break;case h.UPDATE_SORT_ORDER:n="sortOrder",r="order";break;default:return p(e,t)}return Object.assign({},e,s({},n,t.value[r]))}function d(e,t){return e&&e.value&&e.value.providerType===t?!0:!1}function p(e,t){var n,r;switch(t.type){case h.UPDATE_ALBUMS:n="albums",r="albums";break;case h.UPDATE_ALBUM_FETCH_STATUS:n="albumFetchStatus",r="fetchStatus";break;case h.UPDATE_IMAGE_FETCH_STATUS:n="imageFetchStatus",r="fetchStatus";break;case h.UPDATE_USERNAME:n="userName",r="userName";break;case h.UPDATE_DISPLAYED_CONTENT:n="displayedContent",r="displayedContent";break;case h.UPDATE_IMAGES:n="images",r="images";break;case h.UPDATE_SELECTED_ALBUM:n="selectedAlbum",r="selectedAlbum";break;default:return e}return Object.assign({},e,s({},n,t.value[r]))}Object.defineProperty(t,"__esModule",{value:!0});var f=a(r),h=i(o),m={albums:[],selectedAlbum:{},images:[],displayedContent:f["default"].galleryContent.ALBUMS,albumFetchStatus:f["default"].fetchStatus.NOT_FETCHED,imageFetchStatus:f["default"].fetchStatus.NOT_FETCHED,userName:""},v={selectedTab:f["default"].searchType.USER,selectedUser:"",userSearchTerm:"",userLicense:f["default"].flickrLicenseStrings.ANY,photoSearchTerm:"",photoLicense:f["default"].flickrLicenseStrings.COMMERCIAL},g={},y={displayedContent:f["default"].galleryContent.AGOL,searchLocation:f["default"].searchLocation.MINE,searchStr:"",contentTypes:[f["default"].agolContentType.WEBMAP,f["default"].agolContentType.WEBSCENE],sortField:f["default"].sortField.DATE,sortOrder:f["default"].sortOrder.DESC},b=Object.assign({},m,v),w=Object.assign({},m,g),C=Object.assign({},m,y);t["default"]=(0,n.combineReducers)({flickr:l,googlePhotos:u,agol:c}),e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/actionTypes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BROWSE_SELECT_PROVIDER="BROWSE_SELECT_PROVIDER"}),define("storymaps-react/common/builder/mediaPicker/reducer",["module","exports","redux","./browsePanel/reducer","./constants","./actionTypes"],function(e,t,n,r,o,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=s(r),u=s(o),c=a(i),d={browseSelectedProvider:u["default"].providers.ARCGIS},p=function(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments[1];switch(t.type){case c.BROWSE_SELECT_PROVIDER:return Object.assign({},e,{browseSelectedProvider:t.value});default:return e}};t["default"]=(0,n.combineReducers)({ui:p,browsePanel:l["default"]}),e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browseToggle/BrowseToggle",[],function(){}),define("lib-build/css!storymaps-react/common/builder/mediaPicker/browseToggle/BrowseToggle",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browseToggle/BrowseToggle",["module","exports","react","lib-build/less!./BrowseToggle","lib-build/css!./BrowseToggle"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=function(){return e.browseToggles.map(function(t){var n=t.type===e.browseSelectedProvider,r="col-xs-3 browse-toggle "+t.type+(n?" selected":"");return i["default"].createElement("div",{className:r,key:t.type,onClick:function(){e.selectProvider(t.type)}},i["default"].createElement("div",{className:t.type,alt:t.title}))})};return i["default"].createElement("div",{className:"mp-browse-toggles"},t())}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);t["default"]=o,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/actions",["exports","./actionTypes"],function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return{type:o.BROWSE_SELECT_PROVIDER,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.selectProvider=r;var o=n(t)}),define("storymaps-react/common/_resources/nls/media",{root:{mediaPicker:{browseToggle:{arcGIS:"ArcGIS",flickr:"Flickr",googlePhotos:"Google Photos",facebook:"Facebook",urls:"URLs"},browsePanel:{providers:{albums:"albums",searchingFor:"Searching for",albumsOf:"Albums of",noAlbums:"No public album found",noPhotosFound:"No photos matched your search. Please try again.",noItemsFound:"No items matched your search. Please try again.",
cantRetrieveImages:"Unable to retrieve images",googlePhotos:{userNotFound:"Account not found"},flickr:{userNotFound:"User not found",photostream:"Photostream"}},sidePanel:{googlePhotos:{placeholder:"Email or Picasa/Google+ ID"},flickr:{accountSearchType:"Flickr Account",textSearchType:"All Flickr",userSearchPlaceholder:"Search for account",userTextSearchPlaceholder:"Search this account for photos",textSearchPlaceholder:"Search for photos",cannotFindUser:"Cannot find user",noUserPhotos:"does not have any public photos.",didYouMean:"Did you mean",generalUserError:"Something went wrong when searching for user",licenses:{"public":"Public Domain",commercial:"OK for Commercial Use",nonCommercial:"OK for Non-Commercial Use",reserved:"All Rights Reserved",any:"Any License"}},agol:{searchLocation:{thisStory:"This Story",agol:"ArcGIS Online",myOrg:"My Organization",myContent:"My Content"},createContent:{or:"OR",dragAndDrop:"Drop an image here",uploadImage:"Upload an image",useDifferent:"Use a different photo"},filterAndSort:{webmap:"Web Map",webscene:"Web Scene",image:"Image",date:"Date",title:"Title",search:"Search by keyword or ID"}}}}}},ar:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hr:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sr:1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}),define("storymaps-react/common/builder/mediaPicker/browseToggle/BrowseToggleContainer",["module","exports","react-redux","./BrowseToggle","./../actions","lib-build/i18n!../../../_resources/nls/media"],function(e,t,n,r,o,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=s(r),u=a(o),c=s(i),d=c["default"].mediaPicker.browseToggle,p=[{type:"arcgis",title:d.arcGIS,media:"geo"},{type:"flickr",title:d.flickr,media:"images"},{type:"googlePhotos",title:d.googlePhotos,media:"images"},{type:"urls",title:d.urls,media:"links"}],f=function(e){return{browseSelectedProvider:e.ui.browseSelectedProvider,browseToggles:p}},h=function(e){return{selectProvider:function(t){e(u.selectProvider(t))}}},m=(0,n.connect)(f,h)(l["default"]);t["default"]=m,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/actions",["exports","./actionTypes"],function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return{type:w.UPDATE_ALBUMS,value:e}}function o(e){return{type:w.UPDATE_ALBUM_FETCH_STATUS,value:e}}function i(e){return{type:w.UPDATE_IMAGE_FETCH_STATUS,value:e}}function a(e){return{type:w.UPDATE_USERNAME,value:e}}function s(e){return{type:w.UPDATE_DISPLAYED_CONTENT,value:e}}function l(e){return{type:w.UPDATE_IMAGES,value:e}}function u(e){return{type:w.UPDATE_SELECTED_ALBUM,value:e}}function c(e){return{type:w.UPDATE_SEARCH_TYPE,value:e}}function d(e){return{type:w.UPDATE_USER_SEARCH_TERM,value:e}}function p(e){return{type:w.UPDATE_PHOTO_SEARCH_TERM,value:e}}function f(e){return{type:w.UPDATE_USER_LICENSE,value:e}}function h(e){return{type:w.UPDATE_PHOTO_LICENSE,value:e}}function m(e){return{type:w.UPDATE_SEARCH_LOCATION,value:e}}function v(e){return{type:w.UPDATE_SEARCH_TERM,value:e}}function g(e){return{type:w.UPDATE_CONTENT_TYPES,value:e}}function y(e){return{type:w.UPDATE_SORT_FIELD,value:e}}function b(e){return{type:w.UPDATE_SORT_ORDER,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateAlbums=r,e.updateAlbumFetchStatus=o,e.updateImageFetchStatus=i,e.updateUsername=a,e.updateDisplayedContent=s,e.updateImages=l,e.updateSelectedAlbum=u,e.updateSearchType=c,e.updateUserSearchTerm=d,e.updatePhotoSearchTerm=p,e.updateUserLicense=f,e.updatePhotoLicense=h,e.updateSearchLocation=m,e.updateSearchTerm=v,e.updateContentTypes=g,e.updateSortField=y,e.updateSortOrder=b;var w=n(t)}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/breadcrumbs/Breadcrumbs",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/breadcrumbs/Breadcrumbs",["module","exports","react","lib-build/less!./Breadcrumbs"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=function(){return e.crumbs.map(function(t){var n=function(){e.onClick({link:t.link})};return t.active?i["default"].createElement("li",{key:t.id,onClick:n,className:"active"},t.title):i["default"].createElement("li",{key:t.id,onClick:n},i["default"].createElement("a",null,t.title))})};return i["default"].createElement("div",{className:"row flex-static"},i["default"].createElement("ol",{className:"breadcrumb"},t()))}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);t["default"]=o,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/breadcrumbs/BreadcrumbModel",["module","exports"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function o(e,t,r){n(this,o),this.id=e+"-"+t,this.title=e,this.link=t,this.active=this.link===r};t["default"]=r,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/breadcrumbs/AGOLHeader",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/breadcrumbs/AGOLHeader",["module","exports","react","../../constants","lib-build/i18n!../../../../_resources/nls/media","lib-build/less!./AGOLHeader"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(n),c=i(r),d=i(o),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=d["default"].mediaPicker.browsePanel.sidePanel.agol,h=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"render",value:function(){return u["default"].createElement("span",{className:"compound-map fa fa-stack"},u["default"].createElement("i",{className:"fa fa-map fa-inverse fa-stack-1x"}),u["default"].createElement("i",{className:"fa fa-map-o fa-stack-1x"}),u["default"].createElement("i",{className:"fa fa-circle fa-stack-1x auto-dim"}),u["default"].createElement("i",{className:"fa fa-map-marker fa-stack-1x auto-dim"}))}}]),t}(u["default"].Component),m=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"getIconSpan",value:function(){return this.props.value===c["default"].agolContentType.WEBMAP?u["default"].createElement(h,null):u["default"].createElement("span",{className:"fa fa-"+this.props.icon})}},{key:"render",value:function(){return u["default"].createElement("label",{className:"btn"+(this.props.checked?" active":""),htmlFor:this.props.id,onClick:this.props.onClick},this.getIconSpan(),u["default"].createElement("span",{className:"fa fa-check floating-check"}),u["default"].createElement("input",{onChange:this.props.onClick,checked:this.props.checked,type:"checkbox",name:"contentType",value:this.props.value,id:this.props.id}))}}]),t}(u["default"].Component),v=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"thisOnClick",value:function(e){var t=$(e.currentTarget.parentElement).find(".active input");if(!t.length)return void this.props.onKeyPress.contentTypesChange([]);var n=t.map(function(e,t){return t.value}).get();this.props.onKeyPress.contentTypesChange(n)}},{key:"isSelected",value:function(e){return this.props.contentTypes.indexOf(c["default"].agolContentType[e])>=0}},{key:"render",value:function(){var e=this;return u["default"].createElement("div",{className:"filter-toggle btn-group","data-toggle":"buttons"},u["default"].createElement(m,{id:"agol-webmap",onClick:function(t){return e.thisOnClick(t)},value:c["default"].agolContentType.WEBMAP,label:f.filterAndSort.webmap,checked:this.isSelected("WEBMAP")}),u["default"].createElement(m,{id:"agol-webscene",onClick:function(t){return e.thisOnClick(t)},icon:"globe fa-2x",value:c["default"].agolContentType.WEBSCENE,label:f.filterAndSort.webscene,checked:this.isSelected("WEBSCENE")}))}}]),t}(u["default"].Component),g=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"vert-divider"})}}]),t}(u["default"].Component),y=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"getSortClass",value:function(){return"fa-angle-"+(this.props.order===c["default"].sortOrder.ASC?"up":"down")}},{key:"render",value:function(){return u["default"].createElement("span",{className:"fa fa-stack calendar-sort"},u["default"].createElement("i",{className:"fa fa-stack-1x fa-lg fa-calendar-o"}),u["default"].createElement("i",{className:"fa fa-stack-1x "+this.getSortClass()}))}}]),t}(u["default"].Component),b=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"getSortClass",value:function(){return"fa-sort-alpha-"+(this.props.order===c["default"].sortOrder.ASC?"asc":"desc")}},{key:"render",value:function(){return u["default"].createElement("span",{className:"fa inline "+this.getSortClass()})}}]),t}(u["default"].Component),w=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"getSortIcon",value:function(){switch(this.props.value){case c["default"].sortField.DATE:return u["default"].createElement(y,{order:this.props.order});case c["default"].sortField.TITLE:return u["default"].createElement(b,{order:this.props.order})}}},{key:"render",value:function(){return u["default"].createElement("label",{className:"btn"+(this.props.checked?" active":""),htmlFor:this.props.id,onClick:this.props.onClick},this.getSortIcon(),u["default"].createElement("span",{className:"btn-label"},this.props.label),u["default"].createElement("input",{onChange:this.props.onClick,checked:this.props.checked,type:"radio",name:"contentType",value:this.props.value,id:this.props.id}))}}]),t}(u["default"].Component),C=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"thisOnClick",value:function(e,t,n){if(t===this.props.sortField){var r=this.switchSortOrder(n);return void this.props.onKeyPress.sortOrderChange(r,t)}this.props.onKeyPress.sortFieldChange(t,n)}},{key:"switchSortOrder",value:function(e){return e===c["default"].sortOrder.ASC?c["default"].sortOrder.DESC:c["default"].sortOrder.ASC}},{key:"isSelected",value:function(e){return this.props.sortField===c["default"].sortField[e]}},{key:"render",value:function(){var e=this;return u["default"].createElement("div",{className:"sort-toggle btn-group","data-toggle":"buttons"},u["default"].createElement(w,{id:"date-sort",onClick:function(t){return e.thisOnClick(t,c["default"].sortField.DATE,e.props.containerState.dateSortOrder)},value:c["default"].sortField.DATE,checked:this.isSelected("DATE"),order:this.props.containerState.dateSortOrder,label:f.filterAndSort.date}),u["default"].createElement(w,{id:"title-sort",onClick:function(t){return e.thisOnClick(t,c["default"].sortField.TITLE,e.props.containerState.titleSortOrder)},value:c["default"].sortField.TITLE,checked:this.isSelected("TITLE"),order:this.props.containerState.titleSortOrder,label:f.filterAndSort.title}))}}]),t}(u["default"].Component),_=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),p(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"agol-header"},u["default"].createElement(v,this.props),u["default"].createElement(g,null),u["default"].createElement(C,this.props))}}]),t}(u["default"].Component);t["default"]=_,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/utils/Helper",["module","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(e){var t=void 0;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:n})},o=function(){return Math.random().toString(36).substr(2,9)},i=function s(){for(var e="",t={}.hasOwnProperty,r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i="undefined"==typeof o?"undefined":n(o);if("string"===i||"number"===i)e+=" "+o;else if($.isArray(o))e+=" "+s.apply(null,o);else if("object"===i)for(var a in o)t.call(o,a)&&o[a]&&(e+=" "+a)}}return e.substr(1)},a=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e};t["default"]={classnames:i,dataURItoBlob:r,getRandomId:o,stripTrailingSlash:a},e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/gallery/GalleryItem",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/gallery/GalleryItem",["module","exports","react","./../../constants","../../utils/Helper","dojo/topic","lib-build/less!./GalleryItem"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=function(){e.onAlbumClicked({id:e.item.id,title:e.item.title})},n=function(){console.debug("user photo with height, width",e.item.height,e.item.width,"at",e.item.picUrl),h["default"].publish("MEDIA-PICKER-SELECTION",{type:"image",width:e.item.width,height:e.item.height,url:e.item.picUrl})},r=function(e){switch(e.type){case"Web Map":return"webmap";case"Web Scene":return"webscene";case"Image":default:return"image"}},o=function(){console.debug("user item clicked",e.item);var t=r(e.item),n={type:t};"image"===t?Object.assign(n,{url:e.item.picUrl}):Object.assign(n,{id:e.item.id}),h["default"].publish("MEDIA-PICKER-SELECTION",n)},i=function(){switch(e.type){case p["default"].galleryContent.ALBUMS:return u();case p["default"].galleryContent.IMAGES:return c();case p["default"].galleryContent.AGOL:return f();default:return null}},a=function(){return{width:p["default"].galleryContent.ALBUM_HEIGHT+"px"}},s=function(e){var t;if(e.thumbWidth&&e.thumbHeight){var n=p["default"].galleryContent.IMG_HEIGHT/parseInt(e.thumbHeight,10);t=parseInt(e.thumbWidth,10)*n+"px"}return{width:t||"auto",maxWidth:t?null:2*p["default"].galleryContent.IMG_HEIGHT+"px"}},l=function(e){switch(e.type){case"Web Map":return"map-o";case"Web Scene":return"globe fa-2x";case"Image":return"picture";default:return"star"}},u=function(){return d["default"].createElement(v,{thumbUrl:e.item.thumbUrl||e.item.thumbnail,title:e.item.name||e.item.title,onClick:t,startingClasses:"album",computedStyle:a(),showPopupDescription:!1})},c=function(){return d["default"].createElement(v,{thumbUrl:e.item.thumbUrl||e.item.thumbnail,title:e.item.name||e.item.title,onClick:n,startingClasses:"image",computedStyle:s(e.item),showPopupDescription:!1})},f=function(){return d["default"].createElement(v,{thumbUrl:e.item.thumbUrl||e.item.thumbnail,title:e.item.name||e.item.title,onClick:o,startingClasses:"image",computedStyle:s(e.item),iconClass:l(e.item),showPopupDescription:!0,item:e.item})},m=i();return m}Object.defineProperty(t,"__esModule",{value:!0});var d=a(n),p=a(r),f=a(o),h=a(i),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){return s(this,t),l(this,Object.getPrototypeOf(t).call(this))}return u(t,e),m(t,[{key:"getIconSpan",value:function(e){return d["default"].createElement("span",{className:"fa fa-lg fa-"+e})}},{key:"getTextClass",value:function(e){if(!e)return null;var t=e.match(/\s|\-/);return!t||t.index>12?"break-all":null}},{key:"getHoverText",value:function(){var e=this.props.item.modified,t=e&&e.toLocaleDateString?e.toLocaleDateString():e?e:"",n=this.props.item.owner?"by "+this.props.item.owner:"",r=['<span class="item-popover-title">'+this.props.title+"</span>","<br>",this.props.item.displayName,n,"<br>",t];return this.props.item.snippet&&r.push("<br><br>",this.props.item.snippet),r.join(" ")}},{key:"getImgDiv",value:function(){return this.props.showPopupDescription?d["default"].createElement("img",{"data-toggle":"popover","data-trigger":"hover","data-html":"true","data-placement":"left","data-content":this.getHoverText(),src:this.props.thumbUrl}):d["default"].createElement("img",{src:this.props.thumbUrl})}},{key:"render",value:function(){var e=f["default"].classnames([this.props.startingClasses,"mp-gallery-item"]),t=this.props.iconClass?this.getIconSpan(this.props.iconClass):null;return d["default"].createElement("div",{onClick:this.props.onClick,className:e,style:this.props.computedStyle},this.getImgDiv(),d["default"].createElement("div",{className:"title"},t,d["default"].createElement("span",{className:this.getTextClass(this.props.title)},this.props.title)))}}]),t}(d["default"].Component);t["default"]=c,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/gallery/Gallery",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/gallery/Gallery",["module","exports","react","./GalleryItem","../../constants","lib-build/i18n!../../../../_resources/nls/media","lib-build/less!./Gallery"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){return p["default"].createElement("div",{className:"small-loader",role:"alert"})}function d(e){return p["default"].createElement("div",{className:"alert alert-danger",role:"alert"},p["default"].createElement("span",null,e.text))}Object.defineProperty(t,"__esModule",{value:!0});var p=a(n),f=a(r),h=a(o),m=a(i),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=m["default"].mediaPicker.browsePanel,y=function(e){function t(){return s(this,t),l(this,Object.getPrototypeOf(t).call(this))}return u(t,e),v(t,[{key:"componentDidUpdate",value:function(){$('.mp-gallery [data-toggle="popover"]').popover()}},{key:"renderItems",value:function(){var e=this;return this.props.displayedContent===h["default"].galleryContent.ALBUMS&&this.props.providerProps.albumFetchStatus===h["default"].fetchStatus.FETCHING||this.props.displayedContent===h["default"].galleryContent.IMAGES&&this.props.providerProps.imageFetchStatus===h["default"].fetchStatus.FETCHING||this.props.displayedContent===h["default"].galleryContent.AGOL&&this.props.providerProps.imageFetchStatus===h["default"].fetchStatus.FETCHING?p["default"].createElement(c,null):this.props.items&&this.props.items.length?this.props.items.map(function(t){return p["default"].createElement(f["default"],{key:t.id,item:t,onAlbumClicked:e.props.onAlbumClicked,type:e.props.displayedContent})}):this.props.displayedContent===h["default"].galleryContent.IMAGES&&this.props.providerProps.imageFetchStatus===h["default"].fetchStatus.SUCCESS?p["default"].createElement(d,{text:g.providers.noPhotosFound}):this.props.displayedContent===h["default"].galleryContent.AGOL&&this.props.providerProps.imageFetchStatus===h["default"].fetchStatus.SUCCESS?p["default"].createElement(d,{text:g.providers.noItemsFound}):null}},{key:"render",value:function(){return p["default"].createElement("div",{className:"row mp-gallery"},this.renderItems())}}]),t}(p["default"].Component);t["default"]=y,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/providers/Common",["module","exports","react","../../constants","../breadcrumbs/Breadcrumbs","../breadcrumbs/BreadcrumbModel","../breadcrumbs/AGOLHeader","../gallery/Gallery","lib-build/i18n!../../../../_resources/nls/media"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=u(n),h=u(r),m=u(o),v=u(i),g=u(a),y=u(s),b=u(l),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=b["default"].mediaPicker,_=function(e){function t(e){c(this,t);var n=d(this,Object.getPrototypeOf(t).call(this,e));return window.globalCommon=n,n.onKeyPress=n.onKeyPress.bind(n),n.fetchAlbums=n.fetchAlbums.bind(n),n.onAlbumClicked=n.onAlbumClicked.bind(n),n.determineGalleryItems=n.determineGalleryItems.bind(n),n.getBreadcrumbs=n.getBreadcrumbs.bind(n),n.onBreadcrumbClicked=n.onBreadcrumbClicked.bind(n),n}return p(t,e),w(t,[{key:"onKeyPress",value:function(e){13===e.charCode&&this.fetchAlbums()}},{key:"fetchAlbums",value:function(e){var t=this,n=e||this.props.searchValue;this.beforeAlbumFetched(),this.props.connector.getProviderAlbums(n).then(function(e){t.onAlbumSuccess(n,e)})["catch"](function(e){console.warn(e),t.props.updateAlbumFetchStatus({fetchStatus:h["default"].fetchStatus.ERROR}),t.props.handleUserError&&t.props.handleUserError(e)})}},{key:"beforeAlbumFetched",value:function(){this.props.updateImages({images:[]}),this.props.updateAlbums({albums:[]}),this.props.updateDisplayedContent({displayedContent:h["default"].galleryContent.ALBUMS}),this.props.updateAlbumFetchStatus({fetchStatus:h["default"].fetchStatus.FETCHING}),this.props.updateUserSearchTerm?this.props.updateUserSearchTerm({term:""}):null,this.props.updateSelectedAlbum({selectedAlbum:{}})}},{key:"onAlbumSuccess",value:function(e,t){this.props.updateAlbumFetchStatus({fetchStatus:h["default"].fetchStatus.SUCCESS}),this.props.updateUsername({userName:t.username||e}),this.props.updateAlbums({albums:t.albums||t})}},{key:"onAlbumClicked",value:function(e){var t=this;return e.title===this.props.provider.selectedAlbum.title&&this.props.provider.images.length?void this.props.updateDisplayedContent({displayedContent:h["default"].galleryContent.IMAGES}):(this.beforeImageFetch(),void this.props.connector.getItemsInAlbum(e.id,this.props.imageQueryParams).then(function(n){t.handleImageReturn(n),t.props.updateSelectedAlbum({selectedAlbum:e}),t.props.onChange.userTextInput?t.props.onChange.userTextInput({target:{value:""}}):null,t.props.updateUserSearchTerm?t.props.updateUserSearchTerm({term:""}):null})["catch"](function(e){console.log(e),t.props.updateImageFetchStatus({fetchStatus:h["default"].fetchStatus.ERROR})}))}},{key:"beforeImageFetch",value:function(){this.props.updateImages({images:[]}),this.props.updateImageFetchStatus({fetchStatus:h["default"].fetchStatus.FETCHING}),this.props.updateDisplayedContent({displayedContent:h["default"].galleryContent.IMAGES})}},{key:"handleImageReturn",value:function(e){console.debug("handleImageReturn",e),this.props.updateImageFetchStatus({fetchStatus:h["default"].fetchStatus.SUCCESS}),this.props.updateImages({images:e})}},{key:"determineGalleryItems",value:function(){switch(this.props.provider.displayedContent){case h["default"].galleryContent.ALBUMS:return this.props.provider.albums;case h["default"].galleryContent.IMAGES:return this.props.provider.images;case h["default"].galleryContent.AGOL:return this.props.provider.images;default:return[]}}},{key:"getSearchLabel",value:function(e){return C.browsePanel.providers.searchingFor+' " '+e+' "'}},{key:"getBreadcrumbs",value:function(){var e=[],t=this.props.provider,n=this.getSearchLabel(t.photoSearchTerm),r=t.selectedAlbum.id?t.selectedAlbum.title:this.getSearchLabel(t.userSearchTerm);return t.selectedTab&&t.selectedTab===h["default"].searchType.TEXT?t.photoSearchTerm?(e.push(new v["default"](n,h["default"].galleryContent.IMAGES,t.displayedContent)),e):e:(t.albumFetchStatus!==h["default"].fetchStatus.ERROR&&(t.albums.length&&e.push(new v["default"](C.browsePanel.providers.albumsOf+" "+t.userName,h["default"].galleryContent.ALBUMS,t.displayedContent)),t.imageFetchStatus!==h["default"].fetchStatus.ERROR&&(t.images.length||t.selectedAlbum.id||t.userSearchTerm)&&(r=e.push(new v["default"](r,h["default"].galleryContent.IMAGES,t.displayedContent)))),e)}},{key:"onBreadcrumbClicked",value:function(e){this.props.updateDisplayedContent({displayedContent:e.link})}},{key:"getGalleryHeader",value:function(){switch(this.props.provider.displayedContent){case h["default"].galleryContent.ALBUMS:case h["default"].galleryContent.IMAGES:return f["default"].createElement(m["default"],{crumbs:this.getBreadcrumbs(),onClick:this.onBreadcrumbClicked});case h["default"].galleryContent.AGOL:return f["default"].createElement(g["default"],{containerState:this.props.containerState,contentTypes:this.props.provider.contentTypes,sortField:this.props.provider.sortField,sortOrder:this.props.provider.sortOrder,onKeyPress:this.props.onKeyPress})}}},{key:"render",value:function(){return f["default"].createElement("div",{style:this.props.display?null:{display:"none"},className:"browse-panel-container"},f["default"].createElement("div",{className:"column-sidepanel arrow-box"},f["default"].createElement(this.props.sidePanel,{onChange:this.props.onChange,onKeyPress:this.props.onKeyPress||this.onKeyPress,containerState:this.props.containerState,providerProps:this.props.provider})),f["default"].createElement("div",{className:"column-gallery"},this.getGalleryHeader(),f["default"].createElement(y["default"],{providerProps:this.props.provider,onAlbumClicked:this.onAlbumClicked,items:this.determineGalleryItems(),displayedContent:this.props.provider.displayedContent})))}}]),t}(f["default"].Component);t["default"]=_,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanel",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanelGooglePhotos",["module","exports","react","lib-build/i18n!../../../../_resources/nls/media","lib-build/less!./SidePanel"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return a["default"].createElement("div",{className:"mp-sidepanel"},a["default"].createElement("input",{type:"text",className:"search",onChange:e.onChange,onKeyPress:e.onKeyPress,placeholder:l.googlePhotos.placeholder}))}Object.defineProperty(t,"__esModule",{value:!0});var a=o(n),s=o(r),l=s["default"].mediaPicker.browsePanel.sidePanel;t["default"]=i,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/connectors/GooglePhotos",["exports","jquery"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.GooglePhotosConnector=void 0;var r=n(t),o=function(){var e=function(e){return new Promise(function(t,n){var o=document.location.protocol+"//picasaweb.google.com/data/feed/base/user/"+e+"?alt=json&access=public";return e?void r["default"].ajax({url:o,dataType:"jsonp",timeout:4e3}).then(function(e){var n=[];e&&e.feed&&e.feed.entry&&r["default"].each(e.feed.entry,function(e,t){n.push({id:t.id.$t,title:t.title.$t||"",thumbUrl:t.media$group.media$thumbnail[0].url})}),t(n)},function(e){n(e)}):void n()})},t=function(e,t){return new Promise(function(n,o){var i="";return e?(i=e.replace("/data/entry/base/","/data/feed/base/")+"&kind=photo&fields=title,subtitle,icon,entry(title,gphoto:numphotos,media:group(media:content,media:thumbnail,media:description),georss:where)",i+="&imgmax=1600",i+=t.maxPictures?"&max-results="+t.maxPictures:"",void r["default"].getJSON(i,function(e){var t=[];r["default"].each(e.feed.entry,function(e,n){var r=n.media$group.media$content[0].url||"",o=n.media$group.media$thumbnail[2].url||"";r=r.replace("https://","http://"),o=o.replace("https://","http://");var i={name:n.media$group.media$description.$t||"",description:"",picUrl:r,thumbUrl:o,lat:"",lng:"",height:n.media$group.media$content[0].height,width:n.media$group.media$content[0].width,isVideo:!1,id:r,type:"googlePhotos"};n.georss$where&&n.georss$where.gml$Point&&n.georss$where.gml$Point.gml$pos&&n.georss$where.gml$Point.gml$pos.$t&&2==n.georss$where.gml$Point.gml$pos.$t.split(" ").length&&(i.lat=n.georss$where.gml$Point.gml$pos.$t.split(" ")[0],i.lng=n.georss$where.gml$Point.gml$pos.$t.split(" ")[1]),t.push(i)}),n(t)}).fail(function(e){o(e)})):void o()})};return{getProviderAlbums:e,getItemsInAlbum:t}}();e.GooglePhotosConnector=o}),define("storymaps-react/common/builder/mediaPicker/browsePanel/providers/GooglePhotosContainer",["module","exports","react","react-redux","../actions","../../constants","./Common","../sidePanel/SidePanelGooglePhotos","../../connectors/GooglePhotos"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h=c(n),m=u(o),v=c(i),g=c(a),y=c(s),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(){d(this,t);var e=p(this,Object.getPrototypeOf(t).call(this));return e.state={searchValue:""},e.onChange=e.onChange.bind(e),e}return f(t,e),w(t,[{key:"onChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"render",value:function(){return h["default"].createElement(g["default"],b({sidePanel:y["default"],connector:l.GooglePhotosConnector,imageQueryParams:{maxPictures:200},onChange:this.onChange},this.props,this.state))}}]),t}(h["default"].Component),_=function(e){return{provider:e.browsePanel.googlePhotos}},x=function(e){var t=function(t,n){var r=Object.assign({},n,{providerType:v["default"].providers.GOOGLE_PHOTOS});e(t(r))};return{updateAlbums:function(e){t(m.updateAlbums,e)},updateAlbumFetchStatus:function(e){t(m.updateAlbumFetchStatus,e)},updateUsername:function(e){t(m.updateUsername,e)},updateDisplayedContent:function(e){t(m.updateDisplayedContent,e)},updateImages:function(e){t(m.updateImages,e)},updateSelectedAlbum:function(e){t(m.updateSelectedAlbum,e)},updateImageFetchStatus:function(e){t(m.updateImageFetchStatus,e)}}};t["default"]=(0,r.connect)(_,x)(C),e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanelFlickr",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanelFlickr",["module","exports","react","../../constants","lib-build/i18n!../../../../_resources/nls/media","lib-build/less!./SidePanel","lib-build/less!./SidePanelFlickr"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=function(t){var n=$(t.currentTarget).find("input").val();n!==e.selectedTab&&e.onChange({type:n})},n=function(t){return e.selectedTab===h["default"].searchType[t]};return f["default"].createElement("div",{className:"type-toggle btn-group","data-toggle":"buttons"},f["default"].createElement("label",{className:"btn btn-default"+(n("USER")?" active":""),htmlFor:"flickr-user",onClick:t},v.accountSearchType,f["default"].createElement("input",{onChange:t,type:"radio",name:"searchType",id:"flickr-user",value:h["default"].searchType.USER,checked:n("USER")})),f["default"].createElement("label",{className:"btn btn-default"+(n("TEXT")?" active":""),htmlFor:"flickr-text",onClick:t},v.textSearchType,f["default"].createElement("input",{onChange:t,type:"radio",name:"searchType",value:h["default"].searchType.TEXT,id:"flickr-text",checked:n("TEXT")})))}function s(e){var t="input-group search";return e.disabled&&(t+=" disabled"),f["default"].createElement("div",{className:t},f["default"].createElement("div",{className:"input-group-addon"},f["default"].createElement("span",{className:"fa fa-"+e.icon})),f["default"].createElement("input",{tabIndex:"1",type:"text",disabled:e.disabled,value:e.value,className:"form-control",placeholder:e.placeholder,onChange:e.onChange,onKeyPress:e.onKeyPress}),f["default"].createElement("div",{tabIndex:e.disabled?null:e.value?"1":null,className:"btn danger input-group-addon",style:e.value?null:{display:"none"},onClick:e.value?function(t){return e.onClear(Object.assign({},t,{charCode:13}))}:null,onKeyPress:e.onClear,disabled:e.disabled},f["default"].createElement("span",{className:"fa fa-remove"})),f["default"].createElement("div",{tabIndex:e.disabled?null:"1",className:"btn input-group-addon",onKeyPress:e.onKeyPress,onClick:e.disabled?null:function(t){return e.onKeyPress(Object.assign({},t,{charCode:13}))},disabled:e.disabled},f["default"].createElement("span",{className:"fa fa-"+(e.loading?"refresh fa-spin":"search")})))}function l(e){var t=[f["default"].createElement("option",{value:h["default"].flickrLicenseStrings.PUBLIC_DOMAIN,key:h["default"].flickrLicenseStrings.PUBLIC_DOMAIN},v.licenses["public"]),f["default"].createElement("option",{value:h["default"].flickrLicenseStrings.COMMERCIAL,key:h["default"].flickrLicenseStrings.COMMERCIAL},v.licenses.commercial),f["default"].createElement("option",{value:h["default"].flickrLicenseStrings.NON_COMMERCIAL,key:h["default"].flickrLicenseStrings.NON_COMMERCIAL},v.licenses.nonCommercial)];return e.searchType===h["default"].searchType.USER&&t.push(f["default"].createElement("option",{value:h["default"].flickrLicenseStrings.ANY,key:h["default"].flickrLicenseStrings.ANY},v.licenses.any)),f["default"].createElement("div",{className:"form-group"+(e.disabled?" disabled":"")},f["default"].createElement("label",{htmlFor:e.searchType+"-license"},"License: "),f["default"].createElement("select",{id:e.searchType+"-license",onChange:e.onChange,disabled:e.disabled,className:"license form-control",defaultValue:e.license},t))}function u(e){var t,n={display:e.display?"block":"none"};switch(e.status){case h["default"].userFetchError.NO_USER:case h["default"].userFetchError.ERROR:t=v.cannotFindUser+" "+e.triedUser+". ";break;case h["default"].userFetchError.NO_PHOTOS:t=e.triedUser+" "+v.noUserPhotos+" ";break;default:t=v.generalUserError+" "+e.triedUser+"."}var r=e.altUsername;e.altNSID&&(r+=" ("+e.altNSID+")");var o={display:e.altUsername?"inline":"none"};return f["default"].createElement("div",{className:"alert alert-danger",role:"alert",style:n},f["default"].createElement("span",null,t),f["default"].createElement("div",{style:o},f["default"].createElement("span",null,v.didYouMean,""),f["default"].createElement("a",{href:"#",className:"alert-link",onClick:e.tryDifferentUser},r),"?"))}function c(e){var t={display:e.display?"block":"none"},n=""!==e.containerState.userErrorType;return f["default"].createElement("div",{style:t},f["default"].createElement(s,{icon:"user",value:e.containerState.userNameInputValue,placeholder:v.userSearchPlaceholder,loading:e.albumLoading,onChange:e.onChange.userNameInput,onKeyPress:e.onKeyPress.userNameKeypress,onClear:e.onKeyPress.userNameClear}),f["default"].createElement(u,{display:n,triedUser:e.containerState.userNameInputValue,status:e.containerState.userErrorType,altUsername:e.containerState.altUsername,altNSID:e.containerState.altNSID,tryDifferentUser:e.onKeyPress.tryDifferentUser}),f["default"].createElement(s,{icon:"picture-o",disabled:e.disable.textSearch,placeholder:v.userTextSearchPlaceholder,value:e.containerState.userTextInputValue,loading:e.imageLoading,onChange:e.onChange.userTextInput,onKeyPress:e.onKeyPress.userTextKeypress,onClear:e.onKeyPress.userTextClear}),f["default"].createElement(l,{disabled:e.disable.licenseSearch,onChange:e.onKeyPress.userLicenseChange,searchType:h["default"].searchType.USER,license:e.license}))}function d(e){var t={display:e.display?"block":"none"};return f["default"].createElement("div",{style:t},f["default"].createElement(s,{icon:"picture-o",placeholder:v.textSearchPlaceholder,value:e.containerState.textInputValue,loading:e.imageLoading,onChange:e.onChange.textInput,onKeyPress:e.onKeyPress.textKeypress,onClear:e.onKeyPress.textClear}),f["default"].createElement(l,{onChange:e.onKeyPress.photoLicenseChange,searchType:h["default"].searchType.TEXT,license:e.license}))}function p(e){var t=e.providerProps.selectedTab===h["default"].searchType.USER?!0:!1,n=e.providerProps.selectedTab===h["default"].searchType.TEXT?!0:!1,r=!e.providerProps.userName||e.providerProps.userName.toLowerCase()!==e.containerState.userNameInputValue.toLowerCase(),o=r||""===e.providerProps.userSearchTerm||e.providerProps.userSearchTerm!==e.containerState.userTextInputValue;return f["default"].createElement("div",{className:"mp-sidepanel"},f["default"].createElement(a,{selectedTab:e.providerProps.selectedTab,onChange:e.onKeyPress.searchType}),f["default"].createElement(c,{albumLoading:e.providerProps.albumFetchStatus===h["default"].fetchStatus.FETCHING,imageLoading:e.providerProps.imageFetchStatus===h["default"].fetchStatus.FETCHING&&e.providerProps.userSearchTerm,userError:e.containerState.userErrorType,display:t,disable:{textSearch:r,licenseSearch:o},license:e.providerProps.userLicense,onChange:e.onChange,onKeyPress:e.onKeyPress,containerState:e.containerState}),f["default"].createElement(d,{imageLoading:e.providerProps.imageFetchStatus===h["default"].fetchStatus.FETCHING,display:n,license:e.providerProps.photoLicense,onChange:e.onChange,onKeyPress:e.onKeyPress,containerState:e.containerState}))}Object.defineProperty(t,"__esModule",{value:!0});var f=i(n),h=i(r),m=i(o),v=m["default"].mediaPicker.browsePanel.sidePanel.flickr;t["default"]=p,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/config",["module","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={APP_IS_PORTAL:!1,FLICKR_API_KEY:"750b36a2ac65a72e03cf9cef06d79f45",YOUTUBE_API_KEY:"AIzaSyDevTFP16nz6sA-akiOVi6wWXiplJnQ4qw",YOUTUBE_DISABLE_ON_PORTAL:!0},e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/connectors/Flickr",["exports","jquery","../config","lib-build/i18n!../../../_resources/nls/media","../constants"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.FlickrConnector=void 0;var a=i(t),s=i(n),l=i(r),u=i(o),c=l["default"].mediaPicker.browsePanel.providers.flickr,d=function(){var e=null,t=null,n={per_page:500},r=function(t){return new Promise(function(n,r){var a=t.indexOf("@N");return a>0&&a===t.length-4?(e=t,void o(n,r)):void b("flickr.people.findByUsername",{username:t}).done(function(a){a&&"ok"===a.stat?(e=a.user.id,o(n,r,t,a.user)):C(t).then(function(e){return i(u["default"].userFetchError.NO_USER,r,e)}).fail(function(e){console.warn(e),r({reason:u["default"].userFetchError.ERROR})})})})},o=function(e,t,n,r){g().then(function(o,a){var s=o[0].photosets.photoset;l(s,a[0].photos.photo[0]),s&&s.length?e({sets:y(s),username:r&&r.username&&r.username._content?r.username._content:null}):n?C(n).then(function(e){return i(u["default"].userFetchError.NO_PHOTOS,t,e)}).fail(function(e){console.warn(e),t({reason:u["default"].userFetchError.NO_PHOTOS})}):t({reason:u["default"].userFetchError.NO_PHOTOS})})},i=function(e,t,n){if(n&&"ok"===n.stat){var r=n.user.username._content;b("flickr.people.findByUsername",{username:r}).then(function(o){t(o&&"ok"===o.stat?{reason:e||u["default"].userFetchError.ERROR,alternate:r}:{reason:e||u["default"].userFetchError.ERROR,alternate:r,nsid:n.user.id})})}else t({reason:e||u["default"].userFetchError.ERROR})},l=function(e,n){return n&&(t=n.id,e.unshift(n)),e},d=function(e,n){return e===t?p(n):h("flickr.photosets.getPhotos",Object.assign({photoset_id:e},n))},p=function(t){return h("flickr.people.getPhotos",Object.assign({user_id:e},t))},f=function(t){return t.user&&Object.assign(t,{user_id:e}),h("flickr.photos.search",t)},h=function(e,t){return new Promise(function(r,o){var i=Object.assign({extras:"geo,description,license,url_s,url_n,url_m,url_l"},n,t);b(e,i).done(function(e){e&&"ok"===e.stat||o();var t=[],n=[];e.photos?n=e.photos.photo:e.photoset&&(n=e.photoset.photo),a["default"].each(n,function(e,n){var r=v(n);t.push(Object.assign({name:n.title||"",description:n.description?n.description._content||"":"",picUrl:n.url_l||n.url_m||m(n,"b"),lat:n.latitude||"",lng:n.longitude||"",height:n.height_l||n.height_m,width:n.width_l||n.width_m,isVideo:!1,id:n.id,license:n.license,type:"flickr"},r))}),r(t)})})},m=function(e,t){return"http://farm"+e.farm+".static.flickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+t+".jpg"},v=function(e){var t,n=.8*u["default"].galleryContent.IMG_HEIGHT;if(e.url_s&&e.height_s>=n)t="s";else if(e.url_n&&e.height_n>=n)t="n";else if(e.url_m&&e.height_m>=n)t="m";else{if(!e.url_l)return{thumbUrl:m(e,"m")};t="l"}return{thumbUrl:e["url_"+t],thumbWidth:e["width_"+t],thumbHeight:e["height_"+t]}},g=function(){return a["default"].when(b("flickr.photosets.getList",Object.assign({},n,{user_id:e,primary_photo_extras:"url_q"})),b("flickr.people.getPhotos",Object.assign({},n,{user_id:e,per_page:1,extras:"url_q"})))},y=function(e){return a["default"].each(e,function(e,t){t._thumbnail=t.url_q||(t.primary_photo_extras?t.primary_photo_extras.url_q:!1)||"http://farm2.static.flickr.com/"+t.server+"/"+(t.primary||t.id)+"_"+t.secret+"_q.jpg"}),e},b=function(e,t){var n="https://api.flickr.com/services/rest/?method="+e+"&format=json&api_key="+s["default"].FLICKR_API_KEY+(t?"&"+a["default"].param(t):"")+"&jsoncallback=?";return a["default"].getJSON(n)},w=function(e){return new Promise(function(n,o){r(e).then(function(e){var r=[];e.sets.forEach(function(e){var n={id:e.id,thumbUrl:e._thumbnail,title:e.id===t?c.photostream:e.title._content,details:{photos:e.photos}};r.push(n)}),n({albums:r,username:e.username})})["catch"](function(e){o(e)})})},C=function(e){return b("flickr.urls.lookupUser",{url:"http://www.flickr.com/photos/"+e})};return{getProviderAlbums:w,getItemsInAlbum:d,photoSearch:f}}();e.FlickrConnector=d}),define("storymaps-react/common/builder/mediaPicker/browsePanel/providers/FlickrContainer",["module","exports","react","react-redux","../actions","../../constants","./Common","../sidePanel/SidePanelFlickr","../../connectors/Flickr"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h=c(n),m=u(o),v=c(i),g=c(a),y=c(s),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(){d(this,t);var e=p(this,Object.getPrototypeOf(t).call(this));return window.globalFC=e,window.globalFConnector=l.FlickrConnector,e.state={userNameInputValue:"",userTextInputValue:"",textInputValue:"",userErrorType:"",altUsername:"",altNSID:""},e.onChange={userNameInput:e.userNameInput.bind(e),userTextInput:e.userTextInput.bind(e),textInput:e.textInput.bind(e)},e.onKeyPress={searchType:e.searchTypeSubmit.bind(e),userNameKeypress:e.userNameKeypress.bind(e),userTextKeypress:e.userTextKeypress.bind(e),tryDifferentUser:e.tryDifferentUser.bind(e),userNameClear:e.userNameClear.bind(e),userTextClear:e.userTextClear.bind(e),textClear:e.textClear.bind(e),textKeypress:e.textKeypress.bind(e),userLicenseChange:e.userLicenseChange.bind(e),photoLicenseChange:e.photoLicenseChange.bind(e)},e}return f(t,e),w(t,[{key:"userNameInput",value:function(e){this.setState({userNameInputValue:e.target.value,userErrorType:"",altUsername:"",altNSID:""})}},{key:"userTextInput",value:function(e){this.setState({userTextInputValue:e.target.value})}},{key:"textInput",value:function(e){this.setState({textInputValue:e.target.value})}},{key:"userNameKeypress",value:function(e){if(13===e.charCode){if(this.userTextInput({target:{value:""}}),!this.state.userNameInputValue)return this.refs.Common.beforeAlbumFetched(),void this.refs.Common.onAlbumSuccess("",[]);this.refs.Common.fetchAlbums(this.state.userNameInputValue)}}},{key:"userTextKeypress",value:function(e){13===e.charCode&&this.userTextSubmit()}},{key:"textKeypress",value:function(e){13===e.charCode&&this.photoTextSubmit()}},{key:"userNameClear",value:function(e){var t=this;13===e.charCode&&(this.userNameInput({target:{value:""}}),setTimeout(function(){t.userNameKeypress({charCode:13})},10))}},{key:"userTextClear",value:function(e){var t=this;13===e.charCode&&(this.userTextInput({target:{value:""}}),setTimeout(function(){t.userTextKeypress({charCode:13})},10))}},{key:"textClear",value:function(e){var t=this;13===e.charCode&&(this.textInput({target:{value:""}}),setTimeout(function(){t.textKeypress({charCode:13})},10))}},{key:"userTextSubmit",value:function(e){var t=this.state.userTextInputValue.trim();if(!t)return this.props.updateUserSearchTerm({term:""}),this.props.updateImages({images:[]}),void this.props.updateDisplayedContent({displayedContent:v["default"].galleryContent.ALBUMS});e=e||{},this.props.updateUserSearchTerm({term:t}),Object.assign(e,{text:t}),this.props.updateSelectedAlbum({selectedAlbum:{}});var n=v["default"].flickrLicenseVals[this.props.provider.userLicense].toString();this.imageFetch(Object.assign({user:!0,license:n},e))}},{key:"photoTextSubmit",value:function(e){var t=this.state.textInputValue.trim();if(t){this.props.updatePhotoSearchTerm({term:t});var n=v["default"].flickrLicenseVals[this.props.provider.photoLicense].toString();this.imageFetch(Object.assign({text:t,license:n},e))}}},{key:"imageFetch",value:function(e){var t=this;this.refs.Common.beforeImageFetch(),l.FlickrConnector.photoSearch(e).then(function(e){return t.refs.Common.handleImageReturn(e)})}},{key:"userLicenseChange",value:function(e){var t=e.target.value;this.props.updateUserLicense({license:t}),this.userTextSubmit({license:v["default"].flickrLicenseVals[t].toString()})}},{key:"photoLicenseChange",value:function(e){var t=e.target.value;this.props.updatePhotoLicense({license:t}),this.photoTextSubmit({license:v["default"].flickrLicenseVals[t].toString()})}},{key:"searchTypeSubmit",value:function(e){var t=this;switch(this.props.updateSearchType(e),this.setState({userNameInputValue:this.props.provider.userName,userTextInputValue:this.props.provider.userSearchTerm,textInputValue:this.props.provider.photoSearchTerm,userErrorType:"",altUsername:"",altNSID:""}),this.props.updateImages({images:[]}),this.props.updateAlbumFetchStatus({fetchStatus:v["default"].fetchStatus.NOT_FETCHED}),this.props.updateImageFetchStatus({fetchStatus:v["default"].fetchStatus.NOT_FETCHED}),e.type){case v["default"].searchType.USER:if(!this.props.provider.userName)return;this.props.provider.userSearchTerm?this.userTextSubmit():this.props.provider.userName&&this.props.provider.albums.length?(this.props.updateDisplayedContent({displayedContent:v["default"].galleryContent.ALBUMS}),this.props.provider.selectedAlbum.id&&setTimeout(function(){t.refs.Common.onAlbumClicked(t.props.provider.selectedAlbum)},1)):this.refs.Common.fetchAlbums(this.state.userNameInputValue);break;case v["default"].searchType.TEXT:this.props.updateDisplayedContent({displayedContent:v["default"].galleryContent.IMAGES}),this.photoTextSubmit();break;default:return}}},{key:"handleUserError",value:function(e){this.setState({userErrorType:e.reason,altUsername:e.alternate,altNSID:e.nsid})}},{key:"tryDifferentUser",value:function(){var e=this;this.userNameInput({target:{value:this.state.altNSID||this.state.altUsername}}),setTimeout(function(){e.userNameKeypress({charCode:13})},10)}},{key:"render",value:function(){return h["default"].createElement(g["default"],b({ref:"Common",sidePanel:y["default"],connector:l.FlickrConnector,imageQueryParams:{per_page:500},onChange:this.onChange,onKeyPress:this.onKeyPress,handleUserError:this.handleUserError.bind(this),containerState:this.state},this.props))}}]),t}(h["default"].Component),_=function(e){return{provider:e.browsePanel.flickr}},x=function(e){var t=function(t,n){var r=Object.assign({},n,{providerType:v["default"].providers.FLICKR});e(t(r))};return{updateAlbums:function(e){t(m.updateAlbums,e)},updateAlbumFetchStatus:function(e){t(m.updateAlbumFetchStatus,e)},updateUsername:function(e){t(m.updateUsername,e)},updateDisplayedContent:function(e){t(m.updateDisplayedContent,e)},updateImages:function(e){t(m.updateImages,e)},updateSelectedAlbum:function(e){t(m.updateSelectedAlbum,e)},updateImageFetchStatus:function(e){t(m.updateImageFetchStatus,e)},updateSearchType:function(e){t(m.updateSearchType,e)},updateUserSearchTerm:function(e){t(m.updateUserSearchTerm,e)},updatePhotoSearchTerm:function(e){t(m.updatePhotoSearchTerm,e)},updateUserLicense:function(e){t(m.updateUserLicense,e)},updatePhotoLicense:function(e){t(m.updatePhotoLicense,e)}}};t["default"]=(0,r.connect)(_,x)(C),e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/components/FormGroup",["module","exports","jquery","react"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(n),u=o(r),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={errors:!1,isValid:!0,changed:!1},n.value=!1,n.valid=!1,n.getErrorMessage=n.getErrorMessage.bind(n),n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n.validateForm=n.validateForm.bind(n),n.handleChange=n.handleChange.bind(n),n}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.input.value&&this.validateForm(),this.updateValue()}},{key:"componentDidUpdate",value:function(){this.updateValue()}},{key:"render",value:function(){return null}},{key:"getErrorMessage",value:function(){var e=this;return!this.state.isValid&&this.state.errors&&this.state.errors.length>0?u["default"].createElement("ul",{className:"text-danger form-error-message"},this.state.errors.map(function(t){return u["default"].createElement("li",{key:t.rule},u["default"].createElement("strong",null,u["default"].createElement("small",null,t.message,t.fixValue?u["default"].createElement("button",{className:"text-btn text-primary",type:"button",onClick:e.fixValue.bind(e,t.fixValue)},"ViewerText.validations.fix"):null)))})):null}},{key:"getExtras",value:function(e){if("string"==typeof e&&this.state.extras&&l["default"].isArray(this.state.extras)){var t=l["default"].grep(this.state.extras,function(t){return t.type===e});return 0===t.length?!1:1===t.length?t[0]:t}return!1}},{key:"onChange",value:function(){this.state.changed||this.setState({changed:!0}),this.validateForm()}},{key:"onBlur",value:function(){this.validateForm()}},{key:"fixValue",value:function(e){this.input.value=e,this.validateForm()}},{key:"validateForm",value:function(){this.value=void 0,this.valid=!1,this.handleChange()}},{key:"getValidations",value:function(){var e=this,t=this.props.validations.slice(0),n=this.props.inputAttr.type||"text",r=function(e){e&&-1===l["default"].inArray(e.rule,t)&&0===l["default"].grep(t,function(t){return"object"===("undefined"==typeof t?"undefined":c(t))&&t.rule&&t.rule===e.rule?!0:!1}).length&&t.push(e)};return this.defaultValidations&&l["default"].isArray(this.defaultValidations)&&l["default"].each(this.defaultValidations,function(t){r(e.defaultValidations[t])}),l["default"].each(this.props.inputAttr,function(e,t){var o=!1;switch(e.toLowerCase()){case"required":t&&(o={rule:"required"});break;case"max":o={rule:"max",max:t,type:n};break;case"min":o={rule:"min",max:t,type:n};break;case"maxlength":o={rule:"max",max:t,type:"string"};break;case"pattern":o={rule:"regex",pattern:t}}r(o)}),t}},{key:"handleChange",value:function(){this.props.handleChange&&this.props.handleChange({valid:this.valid,value:this.value})}},{key:"updateValue",value:function(){var e=this.props.autoUpdate.when&&this.props.autoUpdate.value&&this.props.autoUpdate.value!==this.input.value;e&&"always"===this.props.autoUpdate.when?(this.input.value=this.props.autoUpdate.value,this.validateForm()):e&&"notChanged"===this.props.autoUpdate.when&&!this.state.changed&&(this.input.value=this.props.autoUpdate.value,this.validateForm())}}]),t}(u["default"].Component);t["default"]=p,p.propTypes={formId:u["default"].PropTypes.string,required:u["default"].PropTypes.bool,extras:u["default"].PropTypes.shape({}),autoUpdate:u["default"].PropTypes.shape({when:u["default"].PropTypes.oneOfType([u["default"].PropTypes.bool,u["default"].PropTypes.oneOf(["always","notChanged"])]),value:u["default"].PropTypes.oneOfType([u["default"].PropTypes.bool,u["default"].PropTypes.string])}),id:u["default"].PropTypes.string,inputAttr:u["default"].PropTypes.shape({type:u["default"].PropTypes.string}),label:u["default"].PropTypes.string,validations:u["default"].PropTypes.array,handleChange:u["default"].PropTypes.oneOfType([u["default"].PropTypes.bool,u["default"].PropTypes.func])},p.defaultProps={formId:"",required:!1,extras:{},autoUpdate:{when:!1,value:!1},id:"",inputAttr:{type:"text"},label:"",validations:[],handleChange:!1},e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/connectors/ArcGIS",["exports","lib-build/i18n!../../../_resources/nls/media","../constants","../utils/Helper","esri/request"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGISConnector=void 0;var s=i(t),l=i(n),u=i(r),c=i(o),d=s["default"].mediaPicker.browsePanel.sidePanel.agol,p=function(){var e,t,n,r,o,i={num:50},s=function(){return e=app.portal},p=function(){return t=app.data&&app.data.appItem},f=function(){return n=p()&&t.item.id},h=function(){return r=app.portal&&app.portal.user},m=function(){var e=new Promise(function(e,t){app.portal||(console.warn("no portal"),t()),r||h()||app.portal.signIn().then(function(){e()})});return e},v=function(e){return new Promise(function(t,n){if(!app.portal)return void n("no portal");if(!r&&!h())return void n("no user");if(e.searchLocation===l["default"].searchLocation.STORY)return void g(e,t,n);var o=S(e),a=Object.assign({},i,{q:o});e.sortField&&(a.sortField=e.sortField),e.sortOrder&&(a.sortOrder=e.sortOrder),b(a,t,n)})},g=function(t,r,o){console.debug("getStoryResources",t);var i=u["default"].stripTrailingSlash((e||s()).portalUrl)+"/content/items/"+(n||f())+"/resources/";console.debug("url?",i),(0,c["default"])({url:i,handleAs:"json",content:{f:"json"}}).then(function(e){return y(e,i,r)},function(e){return C(e,o)})},y=function(e,t,n){console.debug("handleResourceReturn",e.resources);var r=x(e.resources,t);n(r)},b=function(e,t,n){console.debug("queryItems",e),app.portal.queryItems(e).then(function(e){return w(e,t)},function(e){return C(e,n)})},w=function(e,t){console.debug("handleQueryReturn response.results",e.results);var n=T(e.results);o=e.nextQueryParams,t(n)},C=function(e,t){t(e)},_=function(o){return new Promise(function(i,a){var l=u["default"].stripTrailingSlash((e||s()).portalUrl),d=(r||h()).username,f=(t||p()).item.ownerFolder,m=l+"/content/users/"+d+(f?"/"+f:"")+"/items/"+n+"/addResources";(0,c["default"])({url:m,handleAs:"json",form:o},{usePost:!0}).then(function(e){if(e.success){var t=l+"/content/items/"+n+"/resources/";i(e,t)}else a(e)})})},x=function(e,t){var n=[];return e.forEach(function(o,i){var a=o.resource;if(!(a.indexOf("__thumb")>=0)){var s=a.split("__"),c=s.slice(-1)[0].split("."),p=c.slice(-1)[0],f=E(a,e),h=1===s.length?s[0]:s.slice(0,-1).join("__")+"."+p,m=c[0].match(/^[0-9]{13}$/)?new Date(parseInt(c[0])):null,v=u["default"].stripTrailingSlash(t)+"/"+f+"?token="+r.credential.token;n.push({name:h,modified:m,thumbUrl:v,picUrl:u["default"].stripTrailingSlash(t)+"/"+a,displayName:d.filterAndSort.image,id:i,type:l["default"].agolContentType.IMAGE})}}),console.debug("returnArr",n),n},E=function(e,t){var n=e.substr(0,e.lastIndexOf(".")),r=t.find(function(e){var t=e.resource;return t.indexOf("__thumb")<0?!1:0===t.indexOf(n)?!0:!1});return r=r?r.resource:e},T=function(e){return e.map(function(e){return Object.assign({name:e.title,id:e.id,type:e.type,displayName:e.displayName,owner:e.owner,modified:e.modified,snippet:e.snippet},k(e))})},k=function(e){var t=e.thumbnailUrl;if(!t){var n=app.portal.staticImagesUrl;if(!n)return console.warn("no staticImagesUrl in portal"),{};switch(e.type){case"Web Scene":t=n+"/scene.png";break;case"Web Map":default:t=n+"/desktopapp.png"}}return{thumbUrl:t,thumbHeight:133,thumbWidth:200}},P=function(){return new Promise(function(e,t){return!o||o.start<0?void e(null):void b(o,e,t)})},S=function(e){var t=[];return e.searchStr&&t.push(O(e.searchStr)),t.push.apply(t,a(I(e.contentTypes)).concat([N(e.searchLocation)])),t.join(" ")},O=function(e){return e.match(/^[A-Fa-f0-9]{32}$/)?"id:"+e:e},I=function(e){var t=[],n=[];e.indexOf(l["default"].agolContentType.WEBMAP)>=0&&(t.push('type:"Web Map"'),n.push('-type:"Web Mapping Application"')),e.indexOf(l["default"].agolContentType.WEBSCENE)>=0&&(t.push('type:"Web Scene"'),n.push('-type:"CityEngine Web Scene"'));var r=t.length>1?"("+t.join(" OR ")+")":t[0],o=n.join(" ");return[r,o]},N=function(e){switch(e){case l["default"].searchLocation.ORG:return"orgid:"+r.orgId;case l["default"].searchLocation.MINE:return"owner:"+r.username;case l["default"].searchLocation.AGOL:return"";default:return console.debug("deal with searchLocation",e),""}};return{checkSignin:m,getItems:v,getNext:P,getPortal:s,getAppItem:p,getAppId:f,getUser:h,uploadResources:_}}();e.ArcGISConnector=p}),define("lib/resample-hermite/hermite",function(){}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,!0):t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e){return I.call(e).slice(8,-1).toLowerCase()}function r(e){return"number"==typeof e&&!isNaN(e)}function o(e){return"object"==typeof e&&null!==e}function i(e){var t,n;if(!o(e))return!1;try{return t=e.constructor,n=t.prototype,t&&n&&N.call(n,"isPrototypeOf")}catch(r){return!1}}function a(e){return"function"===n(e)}function s(e){return Array.isArray?Array.isArray(e):"array"===n(e)}function l(e,t){var n=[];return t=t>=0?t:0,Array.from?Array.from(e).slice(t):n.slice.call(e,t)}function u(e,t){var n,i;if(e&&a(t))if(s(e)||r(e.length))for(i=0,
n=e.length;n>i&&t.call(e,e[i],i,e)!==!1;i++);else if(o(e))for(i in e)if(e.hasOwnProperty(i)&&t.call(e,e[i],i,e)===!1)break;return e}function c(e){var t;if(arguments.length>1){if(t=l(arguments),Object.assign)return Object.assign.apply(Object,t);t.shift(),u(t,function(t){u(t,function(t,n){e[n]=t})})}return e}function d(e,t){var n=l(arguments,2);return function(){return e.apply(t,n.concat(l(arguments)))}}function p(e,t,n){var r="",o=t;for(n+=t;n>o;o++)r+=A(e.getUint8(o));return r}function f(e){var t,n=e.replace(w,""),r=atob(n),o=r.length,i=new y(o),a=new Uint8Array(i);for(t=0;o>t;t++)a[t]=r.charCodeAt(t);return i}function h(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;r>t;t++)o+=A(n[t]);return"data:image/jpeg;base64,"+btoa(o)}function m(e){var t=new Image;return t.src=e,t}function v(e){var t=P(e.degree)%180,n=(t>90?180-t:t)*_/180,r=T(n),o=k(n),i=e.width,a=e.height;return{width:i*o+a*r,height:i*r+a*o}}function g(e,t){this.image=e,this.options=c({},g.DEFAULTS,i(t)&&t),this.data=null,this.init()}var y=e.ArrayBuffer,b=/^data\:/,w=/^data\:([^\;]+)\;base64,/,C=/^data\:image\/jpeg.*;base64,/,_=Math.PI,x=Math.min,E=Math.max,T=Math.sin,k=Math.cos,P=Math.abs,S=Math.floor,O=Object.prototype,I=O.toString,N=O.hasOwnProperty,A=String.fromCharCode;g.prototype={constructor:g,init:function(){var e,t,n=this,r=this.image;if(!r||"img"!==r.tagName.toLowerCase()||!r.src)throw new Error("The given image is not a valid image");return y?(t=r.src,b.test(t)?C.test(t)?this.read(f(t)):this.load(r):(e=new XMLHttpRequest,e.onerror=e.onabort=function(){n.load(r)},e.onload=function(){n.read(this.response)},e.open("get",t),e.responseType="arraybuffer",void e.send())):this.load(r)},read:function(e){var t=this.readOrientation(e);t>1?(this.translate(t),this.load(m(h(e)))):this.load(this.image)},readOrientation:function(e){var t,n,r,o,i,a,s,l,u,c,d=new DataView(e),f=d.byteLength;if(255===d.getUint8(0)&&216===d.getUint8(1))for(u=2;f>u;){if(255===d.getUint8(u)&&225===d.getUint8(u+1)){s=u;break}u++}if(s&&(n=s+4,r=s+10,"Exif"===p(d,n,4)&&(a=d.getUint16(r),i=18761===a,(i||19789===a)&&42===d.getUint16(r+2,i)&&(o=d.getUint32(r+4,i),o>=8&&(l=r+o)))),l)for(f=d.getUint16(l,i),c=0;f>c;c++)if(u=l+12*c+2,274===d.getUint16(u,i)){t=d.getUint16(u+8,i),d.setUint16(u+8,1,i);break}return t},translate:function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}this.data={rotate:t,scaleX:n,scaleY:r}},load:function(e){var t=d(function(){e.removeEventListener("load",t,!1),this.resize(e)},this);e.complete?this.resize(e):e.addEventListener("load",t,!1)},draw:function(e){var t,n,o,i=document.createElement("canvas"),a=i.getContext("2d"),s=this.data,l=0,u=0,c=e.naturalWidth,d=e.naturalHeight,p=s&&s.rotate,f=s&&s.scaleX,h=s&&s.scaleY,m=r(f)&&r(h)&&(1!==f||1!==h),g=r(p)&&0!==p,y=g||m,b=c,w=d;return m&&(t=c/2,n=d/2),g&&(o=v({width:c,height:d,degree:p}),b=o.width,w=o.height,t=o.width/2,n=o.height/2),i.width=b,i.height=w,y&&(l=-c/2,u=-d/2,a.save(),a.translate(t,n)),g&&a.rotate(p*_/180),m&&a.scale(f,h),a.drawImage(e,S(l),S(u),S(c),S(d)),y&&a.restore(),i},resize:function(e){var t=this.options,n=this.draw(e),o=n.width,i=n.height,a=o/i,s=document.createElement("canvas"),l=E(0,t.minWidth)||0,u=E(0,t.minHeight)||0,c=E(l,t.maxWidth)||1/0,d=E(u,t.maxHeight)||1/0,p=P(t.width)||o,f=P(t.height)||i;l>0&&isFinite(l)?u=l/a:u>0&&isFinite(u)&&(l=u*a),c>0&&isFinite(c)?d=c/a:d>0&&isFinite(d)&&(c=d*a),p=x(E(p,l),c),f=x(E(f,u),d),r(p)&&r(f)?f*a>p?f=p/a:p=f*a:(p=o,f=i),s.width=p,s.height=f,s.getContext("2d").drawImage(n,0,0,S(o),S(i),0,0,S(p),S(f)),this.done(s)},done:function(e){var t=this.options,n=e;"image"===t.type&&(n=m(e.toDataURL())),a(t.done)&&t.done.call(this,n)}},g.DEFAULTS={type:"image",width:NaN,height:NaN,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,done:null};var M=e.Loader;return g.noConflict=function(){return e.Loader=M,g},"function"==typeof define&&define.amd&&define("loader",[],function(){return g}),"undefined"==typeof t&&(e.Loader=g),g}),define("lib/loader/dist/loader",function(){}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/PhotoUploader",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/PhotoUploader",["module","exports","jquery","react","dojo/Deferred","../../utils/Helper","../../components/FormGroup","lib-build/i18n!../../../../_resources/nls/media","dojo/topic","../../constants","../../connectors/ArcGIS","lib/resample-hermite/hermite","lib/loader/dist/loader","lib-build/less!./PhotoUploader"],function(e,t,n,r,o,i,a,s,l,u,c){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m=d(n),v=d(r),g=d(o),y=d(i),b=d(a),w=d(s),C=d(l),_=d(u),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=w["default"].mediaPicker.browsePanel.sidePanel.agol,T=function(e){function t(e){p(this,t);var n=f(this,Object.getPrototypeOf(t).call(this,e));return n.checkForCapabilities(),n.getPortal(),n.fileChange=n.fileChange.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDragLeave=n.onDragLeave.bind(n),n.onDrop=n.onDrop.bind(n),n.resetPicker=n.resetPicker.bind(n),n.loadImageFromFile=n.loadImageFromFile.bind(n),n}return h(t,e),x(t,[{key:"checkForCapabilities",value:function(){this.hasDnD=!navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i)&&"draggable"in document.createElement("span")&&"undefined"!=typeof window.FileReader,this.useCapture=navigator.userAgent.match(/iPad|iPhone|iPod/g)}},{key:"getPortal",value:function(){var e=this;c.ArcGISConnector.getUser()?this.storePortal():c.ArcGISConnector.checkSignin().then(function(){return e.storePortal()})}},{key:"storePortal",value:function(){return this._portal=this._portal||c.ArcGISConnector.getPortal(),this._appItem=this._appItem||c.ArcGISConnector.getAppItem(),this._appId=this._appId||c.ArcGISConnector.getAppId(),this._user=this._user||c.ArcGISConnector.getUser(),this._portal&&this._appItem&&this._appId&&this._user}},{key:"componentDidMount",value:function(){this.hasDnD&&!window.dndDisabled&&this.addDnDListener()}},{key:"addDnDListener",value:function(){window.dndDisabled=!0,window.addEventListener("dragover",function(e){e&&!(0,m["default"])(e.target).hasClass("drag-area")&&e.preventDefault()}),window.addEventListener("drop",function(e){e&&e.preventDefault()})}},{key:"fileChange",value:function(e){var t=e.target.files;t&&t.length&&this.loadImageFromFile(t[0])}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({dragging:!0})}},{key:"onDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({dragging:!1})}},{key:"onDrop",value:function(e){this.setState({dragging:!1}),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&(e.preventDefault(),e.stopPropagation(),this.loadImageFromFile(e.dataTransfer.files[0]))}},{key:"loadImageFromFile",value:function(e){var t=new Image,n=window.URL||window.webkitURL,r=this;n&&(t.src=n.createObjectURL(e),t.onload=function(){this.onload=null,e.type.indexOf("gif")>=0?r.handleGif(e,this):r.handleImage(e,this),n.revokeObjectURL(e)})}},{key:"checkOriginalSize",value:function(e,t){return t.width<=_["default"].photoSettings.maxWidth&&t.height<=_["default"].photoSettings.maxHeight&&e.size<=_["default"].photoSettings.maxFileSize}},{key:"handleGif",value:function(e,t){return this.checkOriginalSize(e,t)?void this.fileUploadToAGOL(e):void console.warn("gif too big. width: ",t.width,", maxWidth: ",_["default"].photoSettings.maxWidth,"; height: ",t.height,", maxHeight: ",_["default"].photoSettings.maxHeight,"; file size: ",e.size,", maxFileSize: ",_["default"].photoSettings.maxFileSize)}},{key:"handleImage",value:function(e,t){var n=this,r=t.width/t.height,o=this.getLoaderSizeOptions(r,"photo");new window.Loader(t,Object.assign(o,{done:function(r){n.handleLoaderImage(r,t,e)}}))}},{key:"getLoaderSizeOptions",value:function(e,t){if("thumb"===t){var n=Math.max(_["default"].galleryContent.IMG_HEIGHT,_["default"].galleryContent.ALBUM_HEIGHT);return{maxHeight:n}}var r=_["default"].photoSettings.maxWidth/_["default"].photoSettings.maxHeight;return r>e&&r>1?{maxHeight:_["default"].photoSettings.maxHeight}:{maxWidth:_["default"].photoSettings.maxWidth}}},{key:"generateThumbnail",value:function(e){var t=new g["default"],n=e.width/e.height,r=this.getLoaderSizeOptions(n,"thumb");return new window.Loader(e,Object.assign(r,{done:function(e){t.resolve(e)}})),t}},{key:"getUploadFileNames",value:function(e){var t=e.name,n=new Date,r=t.lastIndexOf("."),o=r>=0?t.substr(0,r):t,i=r>=0?t.substr(r):e.type.substr(e.type.indexOf("/1")),a=o+"__"+n.getTime();return{type:i.substr(1),fileName:a+i,thumbName:a+"__thumb"+i}}},{key:"fileUploadToAGOL",value:function(e,t){var n=this,r=this.getUploadFileNames(e).fileName,o=new FormData;o.append("img",e,r),o.append("f","json"),c.ArcGISConnector.uploadResources(o).then(function(e,r){C["default"].publish("MEDIA-PICKER-SELECTION",{type:"image",width:t.width,height:t.height,url:r}),n.resetPicker()})}},{key:"blobUploadToAGOL",value:function(e,t,n){var r=this.getUploadFileNames(t);if(!this._appId)return void n.reject("No app id");var o=new FormData;o.append("img",e.img,r.fileName),e.thumb&&o.append("thumb",e.thumb,r.thumbName),o.append("f","json"),c.ArcGISConnector.uploadResources(o).then(function(e,t){n.resolve({url:t})})["catch"](function(e){n.reject(e)})}},{key:"handleLoaderImage",value:function(e,t,n){var r=this,o=void 0;n.size>_["default"].photoSettings.maxFileSize?(o=y["default"].dataURItoBlob(e.src),o.size>_["default"].photoSettings.maxFileSize&&console.warn("need to scale this photo down before upload!")):o=n;var i=new g["default"];C["default"].publish("MEDIA-PICKER-SELECTION",{type:"image",width:e.width,height:e.height,dataUrl:e.src,uploadDeferred:i}),this.resetPicker(),this.generateThumbnail(t).then(function(e){r.blobUploadToAGOL({img:o,thumb:y["default"].dataURItoBlob(e.src)},n,i)})}},{key:"resetPicker",value:function(){this.refs.input.value=""}},{key:"renderDnD",value:function(){var e=y["default"].classnames([this.props.className,"drag-area","uploader","alert",{"alert-default":!this.state.dragging,"alert-info":this.state.dragging}]);return v["default"].createElement("div",{className:e,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},v["default"].createElement("span",{className:"block-md"},E.createContent.dragAndDrop),v["default"].createElement("span",{className:"block-md"},E.createContent.or),v["default"].createElement("button",{type:"button",className:"btn btn-default btn-file block-md",onBlur:this.onBlur},E.createContent.uploadImage,v["default"].createElement("input",{id:this.props.id,ref:"input",type:"file",accept:"image/*",capture:this.useCapture?"camera":!1,tabIndex:"-1",onChange:this.fileChange})))}},{key:"renderNoDnD",value:function(){return v["default"].createElement("button",{type:"button",className:"uploader btn btn-default btn-file btn-block",onBlur:this.onBlur},'"ViewerText.contribute.form.photo.choosePhoto"',v["default"].createElement("input",{id:this.props.id,ref:"input",type:"file",accept:"image/*",capture:this.useCapture?"camera":!1,tabIndex:"-1",onChange:this.fileChange}))}},{key:"renderNoAppId",value:function(){return v["default"].createElement("div",{className:"drag-area uploader alert alert-default"},v["default"].createElement("span",null,"Once you save your app, you can upload images to ArcGIS here"))}},{key:"render",value:function(){var e=y["default"].classnames([this.props.className,"photo-input","form-group",{required:this.props.required,"has-error":!this.state.isValid}]),t=void 0;return t=this._appId||this.storePortal()?this.hasDnD?this.renderDnD():this.renderNoDnD():this.renderNoAppId(),v["default"].createElement("div",{className:e},t,this.getErrorMessage?this.getErrorMessage():null)}}]),t}(b["default"]);t["default"]=T,e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanelArcGIS",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/sidePanel/SidePanelArcGIS",["module","exports","react","../../utils/Helper","./PhotoUploader","../../constants","lib-build/i18n!../../../../_resources/nls/media","lib-build/less!./SidePanel","lib-build/less!./SidePanelArcGIS"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=m["default"].mediaPicker.browsePanel.sidePanel.agol,y=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"render",value:function(){var e=this;return d["default"].createElement("div",{className:"input-group search"},d["default"].createElement("div",{className:"input-group-addon"},d["default"].createElement("span",{className:"fa fa-"+this.props.icon})),d["default"].createElement("input",{tabIndex:"1",type:"text",disabled:this.props.disabled,value:this.props.value,className:"form-control",placeholder:this.props.placeholder,onChange:this.props.onChange,onKeyPress:this.props.onKeyPress}),d["default"].createElement("div",{tabIndex:this.props.disabled?null:this.props.value?"1":null,className:"btn danger input-group-addon",style:this.props.value?null:{display:"none"},onClick:this.props.value?function(t){return e.props.onClear(Object.assign({},t,{charCode:13}))}:null,onKeyPress:this.props.onClear,disabled:this.props.disabled},d["default"].createElement("span",{className:"fa fa-remove"})),d["default"].createElement("div",{tabIndex:this.props.disabled?null:"1",className:"btn input-group-addon",onKeyPress:this.props.onKeyPress,onClick:this.props.disabled?null:function(t){return e.props.onKeyPress(Object.assign({},t,{charCode:13}))},disabled:this.props.disabled},d["default"].createElement("span",{className:"fa fa-"+(this.props.loading?"refresh fa-spin":"search")})))}}]),t}(d["default"].Component),b=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"render",value:function(){return d["default"].createElement("label",{className:"btn btn-default col-xs-3"+(this.props.checked?" active":""),htmlFor:this.props.id,onClick:this.props.onClick},d["default"].createElement("span",{className:"btn-label"},this.props.label),d["default"].createElement("input",{onChange:this.props.onClick,checked:this.props.checked,type:"radio",name:"searchLocation",value:this.props.value,id:this.props.id}))}}]),t}(d["default"].Component),w=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"thisOnClick",value:function(e,t){t!==this.props.searchLocation&&this.props.onChange({type:t})}},{key:"isSelected",value:function(e){return this.props.searchLocation===h["default"].searchLocation[e]}},{key:"render",value:function(){var e=this;return d["default"].createElement("div",{className:"content-toggle btn-group","data-toggle":"buttons"},d["default"].createElement(b,{id:"agol-story",onClick:function(t){return e.thisOnClick(t,h["default"].searchLocation.STORY)},label:g.searchLocation.thisStory,value:h["default"].searchLocation.STORY,checked:this.isSelected("STORY")}),d["default"].createElement(b,{id:"agol-agol",onClick:function(t){return e.thisOnClick(t,h["default"].searchLocation.AGOL)},label:g.searchLocation.agol,value:h["default"].searchLocation.AGOL,checked:this.isSelected("AGOL")}),d["default"].createElement(b,{id:"agol-org",onClick:function(t){return e.thisOnClick(t,h["default"].searchLocation.ORG)},label:g.searchLocation.myOrg,value:h["default"].searchLocation.ORG,checked:this.isSelected("ORG")}),d["default"].createElement(b,{id:"agol-mine",onClick:function(t){return e.thisOnClick(t,h["default"].searchLocation.MINE)},label:g.searchLocation.myContent,value:h["default"].searchLocation.MINE,checked:this.isSelected("MINE")}))}}]),t}(d["default"].Component),C=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"render",value:function(){var e=p["default"].classnames([this.props.startingClasses,"btn btn-default"]);return d["default"].createElement("div",{className:e},d["default"].createElement("span",{className:"fa fa-"+this.props.iconClass}," "),d["default"].createElement("span",null," "+this.props.text))}}]),t}(d["default"].Component),_=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"render",value:function(){return d["default"].createElement("div",{className:"divider"},d["default"].createElement("span",null,g.createContent.or))}}]),t}(d["default"].Component),x=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return c(t,e),v(t,[{key:"render",value:function(){return window.globalSidePanelAGOL=this,d["default"].createElement("div",{className:"mp-sidepanel"},d["default"].createElement(w,{searchLocation:this.props.providerProps.searchLocation,onChange:this.props.onKeyPress.searchLocSubmit}),d["default"].createElement(y,{icon:"globe",placeholder:g.filterAndSort.search,value:this.props.containerState.textInputValue,loading:this.props.imageLoading,onChange:this.props.onChange.textInput,onKeyPress:this.props.onKeyPress.textKeypress,onClear:this.props.onKeyPress.textClear}),d["default"].createElement(_,null),d["default"].createElement(C,{startingClasses:"btn-block",iconClass:"plus",text:"Create a New Map..."}),d["default"].createElement(_,null),d["default"].createElement(f["default"],null))}}]),t}(d["default"].Component);t["default"]=x,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/providers/ArcGISContainer",["module","exports","react","react-redux","../actions","../../constants","./Common","../sidePanel/SidePanelArcGIS","../../connectors/ArcGIS"],function(e,t,n,r,o,i,a,s,l){"use strict";function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){return e&&e.__esModule?e:{"default":e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m=c(n),v=u(o),g=c(i),y=c(a),b=c(s),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(){p(this,t);var e=f(this,Object.getPrototypeOf(t).call(this));return window.globalAGOLContainer=e,window.globalAGOLConnector=l.ArcGISConnector,e.state={textInputValue:"",dateSortOrder:g["default"].sortOrder.DESC,titleSortOrder:g["default"].sortOrder.ASC},e.onChange={textInput:e.textInput.bind(e)},e.onKeyPress={searchLocSubmit:e.searchLocSubmit.bind(e),textKeypress:e.textKeypress.bind(e),textClear:e.textClear.bind(e),contentTypesChange:e.contentTypesChange.bind(e),sortFieldChange:e.sortFieldChange.bind(e),sortOrderChange:e.sortOrderChange.bind(e)},e}return h(t,e),C(t,[{key:"componentDidMount",value:function(){var e=this;l.ArcGISConnector.checkSignin().then(function(){e.itemFetch()})}},{key:"textInput",value:function(e){this.setState({textInputValue:e.target.value})}},{key:"textKeypress",value:function(e){13===e.charCode&&this.textSubmit()}},{key:"textClear",value:function(e){var t=this;13===e.charCode&&(this.textInput({target:{value:""}}),setTimeout(function(){t.textKeypress({charCode:13})},10))}},{key:"textSubmit",value:function(){var e=this.state.textInputValue.trim();this.props.updateSearchTerm({term:e}),this.itemFetch({searchStr:e})}},{key:"buildSearchOptionsFromReduxState",value:function(){return{searchLocation:this.props.provider.searchLocation,contentTypes:this.props.provider.contentTypes,sortField:this.props.provider.sortField,sortOrder:this.props.provider.sortOrder,searchStr:this.props.provider.searchStr}}},{key:"beforeItemFetch",value:function(){this.props.updateImageFetchStatus({fetchStatus:g["default"].fetchStatus.FETCHING}),this.props.updateImages({images:[]})}},{key:"itemFetch",value:function(e){var t=this;this.beforeItemFetch();var n=Object.assign({},this.buildSearchOptionsFromReduxState(),e);l.ArcGISConnector.getItems(n).then(function(e){return t.refs.Common.handleImageReturn(e)})["catch"](function(e){console.warn("itemFetch failed",e),t.refs.Common.handleImageReturn()})}},{key:"searchLocSubmit",value:function(e){this.props.updateSearchLocation(e),this.itemFetch({searchLocation:e.type})}},{key:"contentTypesChange",value:function(e){this.props.updateContentTypes({types:e}),e.length?this.itemFetch({contentTypes:e}):this.refs.Common.handleImageReturn([])}},{key:"sortFieldChange",value:function(e,t){this.props.updateSortField({field:e}),this.props.updateSortOrder({order:t}),this.itemFetch({sortField:e,sortOrder:t})}},{key:"sortOrderChange",value:function(e,t){this.props.updateSortOrder({order:e});var n=t===g["default"].sortField.DATE?"dateSortOrder":"titleSortOrder";this.setState(d({},n,e)),this.itemFetch({sortOrder:e})}},{key:"render",value:function(){return m["default"].createElement(y["default"],w({ref:"Common",sidePanel:b["default"],connector:l.ArcGISConnector,onChange:this.onChange,onKeyPress:this.onKeyPress,containerState:this.state},this.props))}}]),t}(m["default"].Component),x=function(e){return{provider:e.browsePanel.agol}},E=function(e){var t=function(t,n){var r=Object.assign({},n,{providerType:g["default"].providers.ARCGIS});e(t(r))};return{updateImages:function(e){t(v.updateImages,e)},updateImageFetchStatus:function(e){t(v.updateImageFetchStatus,e)},updateSearchLocation:function(e){t(v.updateSearchLocation,e)},updateSearchTerm:function(e){t(v.updateSearchTerm,e)},updateContentTypes:function(e){t(v.updateContentTypes,e)},updateSortField:function(e){t(v.updateSortField,e)},updateSortOrder:function(e){t(v.updateSortOrder,e)}}};t["default"]=(0,r.connect)(x,E)(_),e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/browsePanel/providers/Providers",[],function(){}),define("storymaps-react/common/builder/mediaPicker/browsePanel/providers/Providers",["module","exports","react","./GooglePhotosContainer","./FlickrContainer","./ArcGISContainer","../../constants","lib-build/less!./Providers"],function(e,t,n,r,o,i,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),f=s(o),h=s(i),m=s(a),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(){return l(this,t),u(this,Object.getPrototypeOf(t).call(this))}return c(t,e),v(t,[{key:"displayTab",value:function(e){return this.props.browseSelectedProvider===m["default"].providers[e]}},{key:"render",value:function(){return d["default"].createElement("div",{className:"mp-browse-panel-containers"},d["default"].createElement(p["default"],{display:this.displayTab("GOOGLE_PHOTOS")}),d["default"].createElement(f["default"],{display:this.displayTab("FLICKR")}),d["default"].createElement(h["default"],{display:this.displayTab("ARCGIS")}))}}]),t}(d["default"].Component);t["default"]=g,e.exports=t["default"]}),define("storymaps-react/common/builder/mediaPicker/browsePanel/BrowsePanelContainer",["module","exports","react-redux","./providers/Providers"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(r),a=function(e){return{browseSelectedProvider:e.ui.browseSelectedProvider}};t["default"]=(0,n.connect)(a)(i["default"]),e.exports=t["default"]}),define("lib-build/less!storymaps-react/common/builder/mediaPicker/MediaPicker",[],function(){}),define("storymaps-react/common/builder/mediaPicker/MediaPicker",["module","exports","react","react-dom","redux","react-redux","./reducer","./browseToggle/BrowseToggleContainer","./browsePanel/BrowsePanelContainer","dojo/topic","dojo/Deferred","lib-build/less!./MediaPicker"],function(e,t,n,r,o,i,a,s,l,u,c){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return k}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=v;var g,y=d(n),b=d(r),w=d(a),C=d(s),_=d(l),x=d(u),E=d(c),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=(0,o.createStore)(w["default"],window.devToolsExtension?window.devToolsExtension():{});x["default"].subscribe("MEDIA-PICKER-SELECTION",function(e){console.debug("MEDIA-PICKER-SELECTION",e),g&&e&&g.resolve(m({type:e.type},e.type,e))});var P=function(e){function t(e){p(this,t);var n=f(this,Object.getPrototypeOf(t).call(this));return n.container=e,n.render(),n}return h(t,e),T(t,[{key:"open",value:function(e){return g=new E["default"],console.log("init media picker",e),this.render(e),g}},{key:"render",value:function(e){b["default"].render(y["default"].createElement(i.Provider,{store:k},y["default"].createElement("div",{className:"media-picker"},y["default"].createElement(C["default"],null),y["default"].createElement(_["default"],{params:e}))),document.getElementById(this.container))}}]),t}(y["default"].Component);t["default"]=P,e.exports=t["default"]}),define("storymaps/common/builder/mediaPicker/MediaPickerPopup",["lib-build/tpl!./MediaPickerPopup","lib-build/less!./MediaPickerPopup","storymaps-react/common/builder/mediaPicker/MediaPicker","dojo/Deferred"],function(e,t,n,r){return function(t){var o=null,i=t&&t.container;return i?(i.html(e({})),o=new n("media-picker"),void(this.open=function(e){var t=new r,n=null;return e.arcgisThisStory=[{type:"webmap",id:"df9c5a12db4d40b9b0e7f9469be87fb4"},{type:"webscene",id:"33545109d3ae4463a483fcbffd5dd57f"},{type:"item-resource-image",id:"APPID",resource:"/resources/image-timestamp.jpg"}],o.open(e).then(function(e){n=e,i.modal("hide")},function(){}),i.modal({keyboard:!0}),i.on("hide.bs.modal",function(){n?t.resolve(n):t.reject("No media selected")}),t})):void console.error("Could not initialize MediaPickerPopup")}}),define("lib-build/hbars!storymaps-react/tpl/builder/settings/Popup",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i=this.lambda,a=this.escapeExpression;return'<div class="modal-dialog hc-dialog">\r\n	<div class="modal-content">\r\n		<div class="modal-header">\r\n			<div class="toggles">\r\n        <div class="toggle selected" data-tab="logo-sharing">'+a(i(null!=(o=null!=e?e.toggles:e)?o.logoSharing:o,e))+'</div>\r\n        <div class="toggle" data-tab="bookmarks">'+a(i(null!=(o=null!=e?e.toggles:e)?o.bookmarks:o,e))+'</div>\r\n      </div>\r\n		</div>\r\n		<div class="modal-body">\r\n	    <div class="modal-tab selected" data-tab="logo-sharing"></div>\r\n			<div class="modal-tab" data-tab="bookmarks"></div>\r\n		</div>\r\n		<div class="modal-footer">\r\n      <button type="button" class="btn btn-close apply" data-dismiss="modal">'+a(i(null!=(o=null!=e?e.dialog:e)?o.apply:o,e))+'</button>\r\n			<button type="button" class="btn btnCancel btn-naked btn-close" data-dismiss="modal">'+a(i(null!=(o=null!=e?e.dialog:e)?o.close:o,e))+"</button>\r\n		</div>\r\n	</div>\r\n</div>\r\n"},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/builder/settings/LogoSharing",["Handlebars"],function(e){return e.template({1:function(e,t,n,r){return" hidden"},3:function(e,t,n,r){return"disabled"},5:function(e,t,n,r){return"checked"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i,a=this.lambda,s=this.escapeExpression,l="function",u=t.helperMissing,c='<div class="hc-container split">\r\n  <div class="hc-item">\r\n    <div class="hc-row item-title">'+s(a(null!=(o=null!=e?e.strings:e)?o.logo:o,e))+'</div>\r\n    <div class="hc-row">\r\n      <div class="hc-item-container" style="background: '+s((i=null!=(i=t.background||(null!=e?e.background:e))?i:u,typeof i===l?i.call(e,{
name:"background",hash:{},data:r}):i))+';">\r\n        <img src="'+s(a(null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.url:o,e))+'" class="hc-logo';return o=t.unless.call(e,null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.enabled:o,{name:"unless",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+='">\r\n        <div class="hc-logo-button',o=t["if"].call(e,null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.enabled:o,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+=' btn btn-primary">'+s(a(null!=(o=null!=e?e.strings:e)?o.logoButton:o,e))+'</div>\r\n        <div class="hc-action-icon-underlay">\r\n          <i class="hc-action-icon hc-settings fa fa-cog"></i>\r\n          <i class="hc-action-icon hc-remove fa fa-trash',o=t.unless.call(e,null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.enabled:o,{name:"unless",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+='"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="hc-item">\r\n    <div class="hc-row item-title">'+s(a(null!=(o=null!=e?e.strings:e)?o.logoLink:o,e))+'</div>\r\n    <div class="hc-row">\r\n      <input type="text" value="'+s(a(null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.link:o,e))+'" class="hc-text-input logo-link" ',o=t.unless.call(e,null!=(o=null!=(o=null!=e?e.settings:e)?o.logo:o)?o.enabled:o,{name:"unless",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+='>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="hc-container split">\r\n  <div class="hc-item">\r\n    <div class="hc-row item-title">'+s(a(null!=(o=null!=e?e.strings:e)?o.customHeaderText:o,e))+'</div>\r\n    <div class="hc-row">\r\n      <input type="text" maxlength='+s((i=null!=(i=t.maxCharacters||(null!=e?e.maxCharacters:e))?i:u,typeof i===l?i.call(e,{name:"maxCharacters",hash:{},data:r}):i))+" size="+s((i=null!=(i=t.maxCharacters||(null!=e?e.maxCharacters:e))?i:u,typeof i===l?i.call(e,{name:"maxCharacters",hash:{},data:r}):i))+' value="'+s(a(null!=(o=null!=(o=null!=e?e.settings:e)?o.link:o)?o.title:o,e))+'" class="hc-text-input truncated link-title">\r\n    </div>\r\n  </div>\r\n  <div class="hc-item">\r\n    <div class="hc-row item-title">'+s(a(null!=(o=null!=e?e.strings:e)?o.link:o,e))+'</div>\r\n    <div class="hc-row">\r\n      <input type="text" value="'+s(a(null!=(o=null!=(o=null!=e?e.settings:e)?o.link:o)?o.url:o,e))+'" class="hc-text-input link-url">\r\n    </div>\r\n  </div>\r\n  <div class="hc-item">\r\n    <div class="hc-row">\r\n      <label class="hc-check-label">\r\n        <input type="checkbox" class="hc-checkbox social-checkbox" ',o=t["if"].call(e,null!=(o=null!=(o=null!=e?e.settings:e)?o.social:o)?o.enabled:o,{name:"if",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+'>\r\n        <span class="hc-check-label-text">'+s(a(null!=(o=null!=e?e.strings:e)?o.enableSocialSharing:o,e))+"</span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n</div>\r\n"},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/builder/settings/Bookmark",["Handlebars"],function(e){return e.template({1:function(e,t,n,r,o){var i,a,s=this.lambda,l=this.escapeExpression,u="function",c=t.helperMissing,d='    <li class="hc-row bookmark-row';return i=t["if"].call(e,null!=e?e.disabled:e,{name:"if",hash:{},fn:this.program(2,r,o),inverse:this.noop,data:r}),null!=i&&(d+=i),d+='" data-index="'+l(s(r&&r.index,e))+'">\r\n      <div class="hc-column first">\r\n        <label class="hc-check-label">\r\n          <input type="checkbox" class="hc-checkbox space bookmark-checkbox" ',i=t.unless.call(e,null!=e?e.disabled:e,{name:"unless",hash:{},fn:this.program(4,r,o),inverse:this.noop,data:r}),null!=i&&(d+=i),d+='>\r\n          <span class="hc-check-label-text truncated">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:c,typeof a===u?a.call(e,{name:"title",hash:{},data:r}):a))+'</span>\r\n        </label>\r\n      </div>\r\n      <div class="hc-column last">\r\n          <input type="text" ',i=t["if"].call(e,null!=e?e.disabled:e,{name:"if",hash:{},fn:this.program(6,r,o),inverse:this.noop,data:r}),null!=i&&(d+=i),d+" maxlength="+l(s(null!=o[1]?o[1].maxCharacters:o[1],e))+" size="+l(s(null!=o[1]?o[1].maxCharacters:o[1],e))+' value="'+l((a=null!=(a=t.bookmark||(null!=e?e.bookmark:e))?a:c,typeof a===u?a.call(e,{name:"bookmark",hash:{},data:r}):a))+'" class="hc-text-input truncated bookmark-text">\r\n      </div>\r\n    </li>\r\n'},2:function(e,t,n,r){return" disabled"},4:function(e,t,n,r){return"checked"},6:function(e,t,n,r){return"disabled"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,o){var i,a=this.lambda,s=this.escapeExpression,l='<div class="hc-container header-container">\r\n    <div class="hc-row">\r\n        <div class="hc-column first">'+s(a(null!=(i=null!=e?e.strings:e)?i.title:i,e))+'</div>\r\n        <div class="hc-column last">'+s(a(null!=(i=null!=e?e.strings:e)?i.bookmark:i,e))+'</div>\r\n    </div>\r\n</div>\r\n<ul class="hc-container content">\r\n';return i=t.each.call(e,null!=e?e.bookmarks:e,{name:"each",hash:{},fn:this.program(1,r,o),inverse:this.noop,data:r}),null!=i&&(l+=i),l+"</ul>\r\n"},useData:!0,useDepths:!0})}),define("resources/tpl/builder/nls/app",{root:{builder:{dialog:{apply:"Apply",close:"Close"},headerConfig:{toggles:{bookmarks:"Bookmarks",logoSharing:"Logo & Sharing"},bookmarks:{title:"Title Text",bookmark:"Bookmark Text"},logoSharing:{logo:"Logo",logoButton:"Use Esri Logo",logoLink:"Logo Link",customHeaderText:"Custom header text",link:"Link",enableSocialSharing:"Enable social media sharing links."}}}},ar:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hr:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sr:1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}),define("lib-build/less!storymaps-react/tpl/builder/settings/Popup",[],function(){}),define("storymaps-react/tpl/builder/settings/Popup",["module","exports","lib-build/hbars!./Popup","lib-build/hbars!./LogoSharing","lib-build/hbars!./Bookmark","lib-build/i18n!./../../../../resources/tpl/builder/nls/app","lib-build/less!./Popup"],function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n),u=a(r),c=a(o),d=a(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(t){s(this,e),this.container=t.container,this.data=null,this.esriLogoUrl="resources/tpl/viewer/icons/esri-logo.png",this.esriLogoLink="https://storymaps.arcgis.com",this.reject=null,this.resolve=null;var n={dialog:d["default"].builder.dialog,toggles:d["default"].builder.headerConfig.toggles};this.container.append((0,l["default"])(n)),this.attachModalEvents()}return p(e,[{key:"attachModalEvents",value:function(){this.attachToggleEvents(),this.attachApplyEvents()}},{key:"attachApplyEvents",value:function(){var e=this;this.container.find(".btn-close").on("click",function(){e.detachEvents()}),this.container.find(".btn-close.btnCancel").on("click",function(){e.reject&&e.reject()}),this.container.find(".btn-close.apply").on("click",function(){e.applyBookmarkChanges(),e.applyLogoSharingChanges(),e.resolve&&e.resolve(e.data.settings)})}},{key:"detachEvents",value:function(){this.container.find(".hc-logo-button").off("click"),this.container.find(".hc-action-icon.hc-remove").off("click"),this.container.find(".hc-action-icon.hc-settings").off("click"),this.container.find(".hc-checkbox.bookmark-checkbox").off("click")}},{key:"applyBookmarkChanges",value:function(){for(var e=this.container.find(".hc-row.bookmark-row"),t=0;t<e.length;t++){var n=$(e[t]),r=this.data.settings.bookmarks[t];if(!r)return;n.hasClass("disabled")?r.status="disabled":r.status="visible";var o=n.find(".hc-text-input.bookmark-text").val(),i=this.sanitizeValue(o);r.bookmark=i}}},{key:"sanitizeValue",value:function(e){var t=$("<div>"+e+"</div>").text();return console.log(t),t}},{key:"applyLogoSharingChanges",value:function(){var e=this.container.find(".hc-checkbox.social-checkbox");this.data.settings.social.enabled=e.is(":checked");var t=!this.container.find(".hc-logo").hasClass("hidden");this.data.settings.logo.enabled=t;var n=this.container.find(".hc-text-input.logo-link").val(),r=this.sanitizeValue(n),o=this.prependURLHTTP(r);this.data.settings.logo.link=o;var i=this.container.find(".hc-logo").attr("src");this.data.settings.logo.url=i;var a=this.container.find(".hc-text-input.link-title").val(),s=this.sanitizeValue(a);this.data.settings.link.title=s;var l=this.container.find(".hc-text-input.link-url").val(),u=this.sanitizeValue(l),c=this.prependURLHTTP(u);this.data.settings.link.url=c}},{key:"prependURLHTTP",value:function(e){return!e||""===e||e.match(/^mailto:/)?e:/^(https?:\/\/)|^(\/\/)/i.test(e)?e:"http://"+e}},{key:"attachToggleEvents",value:function(){var e=this,t=this.container.find(".toggle"),n="selected";t.on("click",function(r){var o=$(r.currentTarget),i=o.data("tab");t.removeClass(n),o.addClass(n),e.container.find(".modal-tab").removeClass(n),e.container.find('.modal-tab[data-tab="'+i+'"]').addClass(n)})}},{key:"attachBookmarkEvents",value:function(){this.attachEnableBookmarkEvent()}},{key:"attachLogoSharingEvents",value:function(){this.attachRemoveLogoEvents(),this.attachUseEsriLogoEvents(),this.attachSelectLogoEvents()}},{key:"enableLogo",value:function(){var e="hidden";this.container.find(".hc-logo-button").addClass(e),this.container.find(".hc-logo").removeClass(e),this.container.find(".hc-action-icon.hc-remove").removeClass(e),this.container.find(".hc-text-input.logo-link").removeAttr("disabled")}},{key:"attachUseEsriLogoEvents",value:function(){var e=this;this.container.find(".hc-logo-button").on("click",function(){e.container.find(".hc-logo").attr("src",e.esriLogoUrl),e.container.find(".hc-text-input.logo-link").val(e.esriLogoLink),e.enableLogo()})}},{key:"attachRemoveLogoEvents",value:function(){var e=this;this.container.find(".hc-action-icon.hc-remove").on("click",function(t){var n="hidden",r=$(t.currentTarget);e.container.find(".hc-logo").addClass(n),e.container.find(".hc-logo-button").removeClass(n),e.container.find(".hc-text-input.logo-link").attr("disabled",""),r.addClass(n)})}},{key:"attachSelectLogoEvents",value:function(){var e=this;this.container.find(".hc-action-icon.hc-settings").on("click",function(){app.builder.mediaPicker.open({mode:"add",authorizedMedia:["image"]}).then(function(t){"image"===t.type&&(e.container.find(".hc-logo").attr("src",t.image.url),e.enableLogo())},function(e){console.log(e)})})}},{key:"attachEnableBookmarkEvent",value:function(){this.container.find(".hc-checkbox.bookmark-checkbox").on("click",function(e){var t=$(e.currentTarget),n="disabled",r=t.closest(".hc-row.bookmark-row");r.hasClass(n)?(r.removeClass(n),r.find(".hc-text-input.bookmark-text").removeAttr("disabled")):(r.addClass(n),r.find(".hc-text-input.bookmark-text").attr("disabled",""))})}},{key:"open",value:function(e){var t=this;return new Promise(function(n,r){t.resolve=n,t.reject=r;var o=20,i=30;t.data=$.extend(!0,{},e),t.data.settings.bookmarks=t.data.settings.bookmarks.map(function(e){return e.bookmark=e.bookmark.substr(0,o),e});var a=t.data.settings.bookmarks.map(function(e){return Object.assign({},e,{disabled:"disabled"===e.status})}),s={settings:t.data.settings,background:t.data.context.headerBackground,maxCharacters:i,strings:d["default"].builder.headerConfig.logoSharing},l={bookmarks:a,maxCharacters:o,strings:d["default"].builder.headerConfig.bookmarks};t.container.find('.modal-tab[data-tab="logo-sharing"]').html((0,u["default"])(s)),t.container.find('.modal-tab[data-tab="bookmarks"]').html((0,c["default"])(l)),t.attachBookmarkEvents(),t.attachLogoSharingEvents(),t.container.modal()})}}]),e}();t["default"]=f,e.exports=t["default"]}),define("storymaps/tpl/builder/BuilderView",["lib-build/tpl!./BuilderView","lib-build/less!./BuilderView","storymaps-react/tpl/builder/Controller","storymaps/common/builder/mediaPicker/MediaPickerPopup","storymaps-react/tpl/builder/settings/Popup","storymaps/common/utils/CommonHelper","storymaps/common/builder/BuilderHelper","dojo/Deferred","dojo/topic","dojo/_base/lang"],function(e,t,n,r,o,i,a,s,l,u){var c={config:{author:{name:""}},settings:{header:{}},template:{name:app.cfg.TPL_ID,createdWith:app.version,editedWith:app.version,dataVersion:"1.0.0"},sections:[]};return function(t,s){function d(){var e=app.data.sections;if(e&&e.length){var t=e[e.length-1];if(t&&"credits"==t.type)e[e.length-2].setVisibility(!1);else{var n=e.length>3;n||("immersive"==e[1].type?n=!0:"sequence"==e[1].type&&e[1].getNumberOfBlocks()>=5&&(n=!0)),e[e.length-1].setVisibility(n)}}}function p(){var e=["AngelaBenito.jpg","EandNPhotographies.jpg","ErolAhmed.jpg","FrancesGunn.jpg","JeremyThomas.jpg","JonathanBean.jpg","LukasBudimaier.jpg","NASA.jpg","PatrickFore.jpg","PatrickTomasso.jpg","PhilippeWuyts.jpg","SamuelScrimshaw.jpg","SujanSundareswaran.jpg","SusanneFeldt.jpg","VladimirKudinov.jpg","WilsonLau.jpg"],t=e[Math.floor(Math.random()*e.length)];return"resources/tpl/viewer/cover-placeholder/"+t}function f(e){var t=u.clone(c);t.config.author.name=app.portal.getPortalUser().fullName;var n={type:"cover",layout:"cover-1",background:{type:"image",image:{url:p()}},foreground:{title:e.title,subtitle:e.subtitle,"credits-left":"","credits-right":""}},r=[];return e.webmapId?r=[app.ui.MediaFactory.createInstance({type:"webmap",webmap:{id:e.webmapId}}).serialize()]:e.websceneId&&(r=[app.ui.MediaFactory.createInstance({type:"webscene",webscene:{id:e.websceneId}}).serialize()]),t.sections=[n,app.ui.SectionFactory.createInstance({type:"sequence",background:app.ui.MediaFactory.createInstance({type:"color",color:{value:"#FFF"}}).serialize(),foreground:{blocks:r}}).serialize()],t}function h(){return{config:{author:{name:"The Esri Story Maps team"},"custom-story":"refugee"},settings:{theme:{colors:{id:"black-over-white-1","text-main":"#000","background-main":"#FFF"}},header:{}},template:{name:"Cascade",createdWith:"0.0.1",editedWith:"0.0.2",dataVersion:"0.5.0"},sections:[{type:"cover",layout:"cover-1",background:{type:"video",video:{source:"vimeo",id:"154001757"},alternate:"image",image:{url:p()}},foreground:{title:"Builder demo",subtitle:"Created on "+(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),"credits-left":"UNHCR/Viktor Pesenti","credits-right":"Story sources: UNHCR, Airbus Defense and Space"}},{type:"sequence",layout:"sequence-1",background:{type:"color",color:{value:"#FFF"}},foreground:{blocks:[{type:"text",text:{value:"<h1 class='block' style='text-align: center;'>Epicenter of the refugee crisis: Syria.</h1>"}},{type:"image",image:{url:"stories/refugees-assets/intro-3.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:2e3,height:1073,options:{size:"medium"}}}]}},{type:"immersive",views:[{transition:"fade-slow",background:{type:"webmap",webmap:{id:"c0314d09ac144c49ad36523aaee8077e",extent:null,layers:[{id:"World_Hillshade_2070",visibility:!1}]}},foreground:{title:{value:"",global:!0},panels:[{layout:"scroll-full",settings:{"position-x":"left",size:"medium",style:"background",theme:"black-over-white"},blocks:[{type:"text",text:{value:"<p class='block'>A deadlocked civil war made Syria the largest source of refugees in 2014.</p>"}}]}]}},{transition:"swipe-vertical",background:{type:"image",image:{url:"stories/refugees-assets/IDP_14_Labeled.jpg",alternate:"stories/refugees-assets/IDP_14_Centered.jpg"}},foreground:{panels:[{layout:"scroll-full",settings:{"position-x":"left",size:"medium",style:"background",theme:"black-over-white"},blocks:[{type:"text",text:{value:"<p class='block'>xsaxasxSyria also had more IDPs than any other country.</p>"}}]}]}},{transition:"swipe-horizontal",background:{type:"image",image:{url:"stories/refugees-assets/exodus-travel-01.jpg"}},foreground:{panels:[{layout:"scroll-full",settings:{"position-x":"left",size:"medium",style:"background",theme:"black-over-white"},blocks:[{type:"text",text:{value:"<p class='block'>xxxSyria also had more IDPs than any other country.</p>"}}]}]}},{transition:"swipe-vertical",background:{type:"image",image:{url:"stories/refugees-assets/exodus-travel-02.jpg"}},foreground:{panels:[{layout:"scroll-full",settings:{"position-x":"left",size:"medium",style:"background",theme:"black-over-white"},blocks:[{type:"text",text:{value:"<p class='block'>zzzSyria also had more IDPs than any other country.</p>"}}]}]}}]},{type:"title",options:{dimension:"large"},background:{type:"video",video:{source:"vimeo",id:"153950216",options:"margin-top: -197px;"},alternate:"image",image:{url:"stories/refugees-assets/Zaatari-alt.jpg"}},foreground:{title:"The Disintegration of Syria",credits:"USAID"}}]}}function m(){return{config:{author:{name:"The Esri Story Maps team"},"custom-story":"refugee"},settings:{theme:{colors:{id:"black-over-white-1","text-main":"#000","background-main":"#FFF"},fonts:{main:{id:"default",name:"Open Sans",value:""}}},header:{linkText:"",social:{facebook:!0}}},template:{name:"Cascade",createdWith:"0.0.1",editedWith:"0.0.2",dataVersion:"0.5.0"},sections:[{type:"cover",layout:"cover-1",background:{type:"image",video:{source:"vimeo",id:"154001757"},alternate:"image",image:{url:p()}},foreground:{title:"Builder demo",subtitle:"Created on "+(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),"credits-left":"UNHCR/Viktor Pesenti","credits-right":"Story sources: UNHCR, Airbus Defense and Space"}},{type:"sequence",layout:"sequence-1",background:{type:"color",color:{value:"#FFF"}},foreground:{blocks:[{type:"text",text:{value:"<h1 class='block' style='text-align: center;'>Image test</h1>"}},{type:"text",text:{value:"<p class='block' style='text-align: left;'>Below is tests of the size options for 4 images that I hope represent typical images.</p>"}},{type:"text",text:{value:"<p class='block' style='text-align: left;'>Each image mutiple times with all settings in the following order: small, medium (default - cropIfNeeded=true), medium (cropIfNeeded=false), large</p>"}},{type:"image",image:{url:"resources/tpl/viewer/icons/esri-logo.png",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:87,height:32,options:{size:"small",fitHeight:!0}}},{type:"image",image:{url:"resources/tpl/viewer/icons/esri-logo.png",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:87,height:32,options:{size:"medium",fitHeight:!0}}},{type:"image",image:{url:"resources/tpl/viewer/icons/esri-logo.png",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:87,height:32,options:{size:"medium",fitHeight:!1}}},{type:"image",image:{url:"resources/tpl/viewer/icons/esri-logo.png",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:87,height:32,options:{size:"large",fitHeight:!1}}},{type:"image",image:{url:"http://www.maniacworld.com/now-this-is-a-tall-building.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:640,height:4298,options:{size:"small",fitHeight:!0}}},{type:"image",image:{url:"http://www.maniacworld.com/now-this-is-a-tall-building.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:640,height:4298,options:{size:"medium",fitHeight:!0}}},{type:"image",image:{url:"http://www.maniacworld.com/now-this-is-a-tall-building.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:640,height:4298,options:{size:"medium",fitHeight:!1}}},{type:"image",image:{url:"http://www.maniacworld.com/now-this-is-a-tall-building.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:640,height:4298,options:{size:"large",fitHeight:!1}}},{type:"image",image:{url:"https://upload.wikimedia.org/wikipedia/commons/5/52/Mount_Ellinor,_Mount_Washington_Panorama.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:19412,height:3866,options:{size:"small",fitHeight:!0}}},{type:"image",image:{url:"https://upload.wikimedia.org/wikipedia/commons/5/52/Mount_Ellinor,_Mount_Washington_Panorama.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:19412,height:3866,options:{size:"medium",fitHeight:!0}}},{type:"image",image:{url:"https://upload.wikimedia.org/wikipedia/commons/5/52/Mount_Ellinor,_Mount_Washington_Panorama.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:19412,height:3866,options:{size:"medium",fitHeight:!1}}},{type:"image",image:{url:"https://upload.wikimedia.org/wikipedia/commons/5/52/Mount_Ellinor,_Mount_Washington_Panorama.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:19412,height:3866,options:{size:"large",fitHeight:!1}}},{type:"image",image:{url:"stories/refugees-assets/exodus-travel-03.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:2e3,height:1333,options:{size:"small",fitHeight:!0}}},{type:"image",image:{url:"stories/refugees-assets/exodus-travel-03.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:2e3,height:1333,options:{size:"medium",fitHeight:!0}}},{type:"image",image:{url:"stories/refugees-assets/exodus-travel-03.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:2e3,height:1333,options:{size:"medium",fitHeight:!1}}},{type:"image",image:{url:"stories/refugees-assets/exodus-travel-03.jpg",caption:"Somali refugee camp in Eritrea, Horn of Africa. <small>Creative Commons/Reinhard Dietrich</small>",width:2e3,height:1333,options:{size:"large",fitHeight:!1}}}]}},{type:"credits",layout:"credits-1",background:{type:"color",color:{value:"#000"}},foreground:{blocks:[{type:"text",text:{value:"<div style='opacity: 0.7'>Satellite imagery</div><a href='http://www.geo-airbusds.com/en/65-satellite-imagery' target='_blank'><img src='stories/refugees-assets/Airbus_Logo.png' /></a>"}},{type:"credits",credits:{col1:[{label:"World refugee/IDP statistics",link:"<a href='http://popstats.unhcr.org/en/persons_of_concern' target='_blank'>UNHCR</a>"},{label:"Migration routes",link:"<a href='http://migration.iom.int/europe/' target='_blank'>International Organization for Migration</a>"}],col2:[{label:"Refugee camps",link:"<a href='http://data.unhcr.org/syrianrefugees/regional.php' target='_blank'>UNHCR</a>"},{label:"IDP camps",link:"<a href='https://data.hdx.rwlabs.org/dataset/syria-idp-sites' target='_blank'>U.S. Department of State Humanitarian Information Unit</a>"}]}},{type:"discover",discover:{title:"Discover more Story Maps by Esris Story Maps team",items:[{title:"Great Wetlands of the World",thumbnail:"http://story.maps.arcgis.com/sharing/rest/content/items/aed61922c4b444ba843d19e676e80004/info/thumbnail/thumbnail.png",url:"http://story.maps.arcgis.com/apps/MapSeries/?appid=aed61922c4b444ba843d19e676e80004"},{title:"Atlas for a Changing Planet",thumbnail:"http://story.maps.arcgis.com/sharing/rest/content/items/3680cbc3b6484f35a09265489791379e/info/thumbnail/ago_downloaded.jpg",url:"http://storymaps.esri.com/stories/2015/atlas-for-a-changing-planet/"},{title:"Katrina +10: A Decade of Change in New Orleans",thumbnail:"http://www.arcgis.com/sharing/rest/content/items/597d573e58514bdbbeb53ba2179d2359/info/thumbnail/katrina_plus_10_small_thumbnail.jpg",url:"http://story.maps.arcgis.com/apps/MapSeries/index.html?appid=597d573e58514bdbbeb53ba2179d2359"},{title:"Mountains of Fire",thumbnail:"http://story.maps.arcgis.com/sharing/rest/content/items/4c77a56bbcd743b69232cf3fd9c7a61c/info/thumbnail/mountains_of_fire.png",url:"http://story.maps.arcgis.com/apps/MapJournal/?appid=4c77a56bbcd743b69232cf3fd9c7a61c"}]}}]}}]}}$("#builder-views").append(e({}));var v=null,g=null;this.init=function(){g=new r({container:$(".media-picker-popup")}),app.builder.mediaPicker=g,v=new o({container:$("#settings-popup")}),app.builder.settingsPopup=v,l.subscribe("builder-section-update",d)},this.appInitComplete=function(){var e=null;if(app.data.appItem||void 0===i.getUrlParams().fromScratch){if(app.data.appItem&&app.Controller.isStoryBlank()){var t=null,n=null;app.data.appItem.data&&app.data.appItem.data.values&&(t=app.data.appItem.data.values.webmap,n=app.data.appItem.data.values.webscene),e=f({webmapId:t,websceneId:n,title:app.data.appItem.item.title||"",subtitle:app.data.appItem.item.snippet||""})}}else e=f({title:"Cascade created on "+(new Date).toLocaleDateString()+" at "+(new Date).toLocaleTimeString(),subtitle:"Builder placeholder"}),void 0!==i.getUrlParams().dev?e=h({}):void 0!==i.getUrlParams().dev2&&(e=m({})),app.data.appItem={item:a.getBlankAppJSON(),data:{values:null}},app.data.title=app.data.appItem.item.title;e&&(app.data.appItem.data.values=e),app.isProduction||"media-picker"!=i.getUrlParams().debug||app.builder.mediaPicker.open({mode:"add"}).then(function(e){console.log("selected media:",e)})},this.updateUI=function(){},this.saveApp=function(){var e=n.serializeStory();app.data.appItem.data.values.sections=e,s.saveApp()},this.saveFailed=function(e,t){console.log("TODO",e,t)},this.resize=function(){}}}),require(["storymaps/common/Core","storymaps-react/tpl/view/media/FactoryBuilder","storymaps-react/tpl/view/section/FactoryBuilder","storymaps/tpl/view/section/Immersive/PanelFactoryBuilder","storymaps/tpl/core/MainView","storymaps/common/builder/Builder","storymaps/tpl/builder/BuilderView"],function(){}),define("storymaps/tpl/BuildConfigBuilder",function(){});