/*! tailcoat - v1.2.2 - 2015-03-27
*   https://github.com/ArcGIS/tailcoat
*   Copyright (c) 2015 Environmental Systems Research Institute, Inc.
*   Apache 2.0 License */
!function(){function a(a){for(var b=l.closest("accordion-section",l.eventTarget(a)),c=l.closest("accordion",b).children,d=0;d<c.length;d++)l.removeClass(c[d],"active");l.addClass(b,"active")}function b(a,b){l.addEvent(a,l.event(),function(c){var d=l.getAttr(a,"data-direction"),e=document.querySelector("html");l.stopPropagation(c),l.preventDefault(c),b.style.display="block",setTimeout(function(){l.addClass(b,d),l.addClass(e,"scroll-lock")},0)})}function c(a){var b=l.getAttr(a,"data-modal"),c=document.querySelectorAll('.modal[data-modal="'+b+'"]')[0];null!==c&&"undefined"!=typeof c&&l.addEvent(a,l.event(),function(a){var b=l.closest("modal-overlay",c),d=document.querySelector("html");l.stopPropagation(a),l.preventDefault(a),l.addClass(d,"scroll-lock"),l.addClass(b,"visible"),l.addClass(c,"visible"),c.offsetHeight+50<document.documentElement.clientHeight&&(c.style.marginTop=c.offsetHeight/-2+"px",l.addClass(c,"vertically-centered"))})}function d(){var a=document.querySelectorAll(".modal-dismiss"),b=document.querySelector(".modal-overlay");if(a.length>0)for(var c=0;c<a.length;c++)l.addEvent(a[c],l.event(),e);l.addEvent(b,l.event(),e)}function e(a){var b=l.hasClass(l.eventTarget(a),"modal-overlay"),c=l.hasClass(l.eventTarget(a),"modal-dismiss");if(b||c){var d=document.querySelectorAll(".modal"),e=document.querySelectorAll(".modal-overlay"),f=document.querySelector("html");l.stopPropagation(a),l.preventDefault(a);for(var g=0;g<d.length;g++)l.removeClass(d[g],"visible");for(var g=0;g<e.length;g++)l.removeClass(e[g],"visible");l.removeClass(f,"scroll-lock")}}function f(a){a.value=a.placeholder,l.addClass(a,"placeholder")}function g(a){var b=l.isIE8?a.srcElement:a.target;b.value="",l.removeClass(b,"placeholder")}function h(a){l.preventDefault(a);var b=l.closest("navigation-bar-nav",a.target);l.hasClass(b,"open")?l.removeClass(b,"open"):l.addClass(b,"open")}function i(a){l.preventDefault(a);var b,c=l.eventTarget(a);b=l.hasClass(c,"tab")?c:l.closest("tab",c);for(var d=l.closest("tab-nav",b).querySelectorAll(".tab"),e=l.indexOf(b,d),f=l.closest("tab-group",b).querySelectorAll(".tab-content"),g=0;g<d.length;g++)l.removeClass(d[g],"active"),l.removeClass(f[g],"active");l.addClass(b,"active"),l.addClass(f[e],"active")}function j(){var a=window.T;k.noConflict=function(){return window.T=a,this},window.T=k}var k={},l=k.utils={};l.event=function(){return"click"},l.addEvent=function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0},l.removeEvent=function(a,b,c){return a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):void 0},l.eventTarget=function(a){return a.target?a.target?a.target:void 0:a.srcElement},l.preventDefault=function(a){return a.preventDefault?a.preventDefault():void(a.returnValue&&(a.returnValue=!1))},l.stopPropagation=function(a){return a=a||window.event,a.stopPropagation?a.stopPropagation():void(a.cancelBubble&&(a.cancelBubble=!0))},l.hasClass=function(a,b){var c=new RegExp(" "+b+" ");return c.test(" "+a.className+" ")?!0:!1},l.addClass=function(a,b){b=b.split(" ");for(var c=0;c<b.length;c++)l.hasClass(a,b[c])||(a.className+=" "+b[c])},l.removeClass=function(a,b){b=b.split(" ");for(var c=0;c<b.length;c++){var d=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(l.hasClass(a,b[c])){for(;d.indexOf(" "+b[c]+" ")>=0;)d=d.replace(" "+b[c]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}}},l.closest=function(a,b){var c,d;for(d=b;d;d=d.parentNode)if(1===d.nodeType&&l.hasClass(d,a)){c=d;break}return d},l.getAttr=function(a,b){if(a.getAttribute)return a.getAttribute(b);for(var c,d=a.attributes,e=0;e<d.length;e++)d[e].nodeName===b&&(c=d[e].nodeValue);return c},l.indexOf=function(a,b,c){var d=c||0;if(b.indexOf)return b.indexOf(a,d);for(d;d<b.length;d++)if(b[d]===a)return d;return-1},l.makeArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},l.isTouch=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0?!0:!1},l.isIE8=function(){var a=document.getElementsByTagName("html")[0];return l.hasClass(a,"ie8")?!0:!1},l.supportsPlaceholder=function(){var a=document.createElement("input");return"placeholder"in a},k.accordion=function(){var b=document.querySelectorAll(".accordion");if(b.length>0)for(var c=0;c<b.length;c++)for(var d=b[c].children,e=0;e<d.length;e++)l.addEvent(d[e],l.event(),a)},k.clickDropdown=function(){function a(){for(var a=l.makeArray(document.querySelectorAll(".click-dropdown")),b=0;b<a.length;b++)l.removeClass(a[b],"visible")}function b(c){var d=l.closest("click-dropdown",l.eventTarget(c));d||(a(),l.removeEvent(e,l.event(),b))}function c(c){l.addEvent(c,l.event(),function(c){l.preventDefault(c);var d=l.closest("click-dropdown",l.eventTarget(c));l.hasClass(d,"visible")?(l.removeClass(d,"visible"),l.removeEvent(e,l.event(),b)):(a(),l.addClass(d,"visible"),l.addEvent(e,l.event(),b))})}var d=l.makeArray(document.querySelectorAll(".click-dropdown")),e=document.querySelector("body");if(0!==d.length)for(var f=0;f<d.length;f++){var g=l.closest("click-dropdown",d[f]);c(g)}},k.drawer=function(){var a=document.querySelector(".drawer"),c=l.makeArray(document.querySelectorAll(".drawer-toggle"));if(0!==c.length){l.addEvent(a,l.event(),function(b){var c=document.querySelector("html"),d=l.hasClass(l.eventTarget(b),"drawer");d&&(l.preventDefault(b),l.stopPropagation(b),l.removeClass(a,"active-left active-right"),l.removeClass(c,"scroll-lock"),setTimeout(function(){a.style.display="none"},250))});for(var d=0;d<c.length;d++)b(c[d],a)}},k.dropdown=function(){function a(c){var e=l.hasClass(c.target,"site-dropdown-toggle"),f=l.closest("site-dropdown",c.target);e||f||(l.removeClass(b,"visible"),l.removeEvent(d,l.event(),a))}var b=document.querySelector(".site-dropdown"),c=document.querySelector(".site-dropdown-toggle"),d=document.querySelector("body");b&&l.addEvent(c,l.event(),function(){l.hasClass(b,"visible")?(l.removeClass(b,"visible"),l.removeEvent(d,l.event(),a)):(l.addClass(b,"visible"),l.addEvent(d,l.event(),a))})},k.modal=function(){var a=document.querySelectorAll(".modal-show");if(a.length>0){for(var b=0;b<a.length;b++)c(a[b]);d()}},k.placeholder=function(){var a=document.querySelectorAll("input"),b=l.supportsPlaceholder();if(b===!1)for(var c=0;c<a.length;c++){var d=a[c].type,e=["text","search","url","tel","email","password"];if(-1!==l.indexOf(d,e)){var h;h=""===a[c].value||void 0===a[c].value?!0:!1;var i;i=null!==a[c].getAttribute("placeholder")?!0:!1,h&&i&&(f(a[c]),l.addEvent(a[c],"focus",g))}}},k.siteSearch=function(){function a(d){null===l.closest("site-search-form",d.target)&&(b.value="Search",l.removeClass(c,"active"),l.removeEvent(document.querySelector("body"),"click",a))}var b=document.querySelector(".site-search-input"),c=document.querySelector(".site-search");b&&(b.value="Search",l.addEvent(b,"focus",function(){b.value="",l.addClass(c,"active"),l.addEvent(document.querySelector("body"),"click",a)}))},k.subnav=function(){var a=document.querySelectorAll(".navigation-bar.responsive");if(a.length>0){var b,c,d,e,f,g,i=document.querySelectorAll(".navigation-bar.responsive ul");for(b=0;b<a.length;b++){var j=a[b].children[0].children[1],k=j.children[0];l.addEvent(k,l.event(),h)}for(c=0;c<i.length;c++)for(e=i[c],f=e.querySelectorAll("li"),g=(100-2*f.length)/f.length,d=0;d<f.length;d++)l.isIE8()?f[d].style.width=g+"%":f[d].style.maxWidth=g+"%"}},k.tabs=function(){var a=document.querySelectorAll(".tab");if(a.length>0){var b,c,d,e,f,g,h,j=document.querySelectorAll(".tab-group");for(b=0;b<a.length;b++)e=a[b],l.addEvent(e,l.event(),i);for(c=0;c<j.length;c++)for(f=j[c],g=f.querySelectorAll(".tab"),h=100/g.length,d=0;d<g.length;d++)l.isIE8()?g[d].style.width=h+"%":g[d].style.maxWidth=h+"%"}},k.init=function(a){if(a)for(var b=0;b<a.length;b++)k[a[b]]();else k.accordion(),k.drawer(),k.dropdown(),k.clickDropdown(),k.modal(),k.placeholder(),k.siteSearch(),k.subnav(),k.tabs();l.isTouch()&&l.addClass(document.body,"tailcoat-touch")},"object"==typeof module&&"object"==typeof module.exports?module.exports=k:"function"==typeof define&&define.amd&&define(k),j()}();